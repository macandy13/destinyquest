(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function o(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=o(n);fetch(n.href,i)}})();function Ku(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hc={exports:{}},Zn={},pc={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Na=Symbol.for("react.element"),qu=Symbol.for("react.portal"),Qu=Symbol.for("react.fragment"),Zu=Symbol.for("react.strict_mode"),Yu=Symbol.for("react.profiler"),Ju=Symbol.for("react.provider"),Xu=Symbol.for("react.context"),em=Symbol.for("react.forward_ref"),tm=Symbol.for("react.suspense"),om=Symbol.for("react.memo"),am=Symbol.for("react.lazy"),Ws=Symbol.iterator;function nm(e){return e===null||typeof e!="object"?null:(e=Ws&&e[Ws]||e["@@iterator"],typeof e=="function"?e:null)}var bc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gc=Object.assign,kc={};function zo(e,t,o){this.props=e,this.context=t,this.refs=kc,this.updater=o||bc}zo.prototype.isReactComponent={};zo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};zo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function yc(){}yc.prototype=zo.prototype;function Wr(e,t,o){this.props=e,this.context=t,this.refs=kc,this.updater=o||bc}var zr=Wr.prototype=new yc;zr.constructor=Wr;gc(zr,zo.prototype);zr.isPureReactComponent=!0;var zs=Array.isArray,wc=Object.prototype.hasOwnProperty,$r={current:null},vc={key:!0,ref:!0,__self:!0,__source:!0};function Sc(e,t,o){var a,n={},i=null,r=null;if(t!=null)for(a in t.ref!==void 0&&(r=t.ref),t.key!==void 0&&(i=""+t.key),t)wc.call(t,a)&&!vc.hasOwnProperty(a)&&(n[a]=t[a]);var s=arguments.length-2;if(s===1)n.children=o;else if(1<s){for(var c=Array(s),d=0;d<s;d++)c[d]=arguments[d+2];n.children=c}if(e&&e.defaultProps)for(a in s=e.defaultProps,s)n[a]===void 0&&(n[a]=s[a]);return{$$typeof:Na,type:e,key:i,ref:r,props:n,_owner:$r.current}}function im(e,t){return{$$typeof:Na,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Or(e){return typeof e=="object"&&e!==null&&e.$$typeof===Na}function rm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(o){return t[o]})}var $s=/\/+/g;function bi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?rm(""+e.key):t.toString(36)}function un(e,t,o,a,n){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var r=!1;if(e===null)r=!0;else switch(i){case"string":case"number":r=!0;break;case"object":switch(e.$$typeof){case Na:case qu:r=!0}}if(r)return r=e,n=n(r),e=a===""?"."+bi(r,0):a,zs(n)?(o="",e!=null&&(o=e.replace($s,"$&/")+"/"),un(n,t,o,"",function(d){return d})):n!=null&&(Or(n)&&(n=im(n,o+(!n.key||r&&r.key===n.key?"":(""+n.key).replace($s,"$&/")+"/")+e)),t.push(n)),1;if(r=0,a=a===""?".":a+":",zs(e))for(var s=0;s<e.length;s++){i=e[s];var c=a+bi(i,s);r+=un(i,t,o,c,n)}else if(c=nm(e),typeof c=="function")for(e=c.call(e),s=0;!(i=e.next()).done;)i=i.value,c=a+bi(i,s++),r+=un(i,t,o,c,n);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return r}function Ka(e,t,o){if(e==null)return e;var a=[],n=0;return un(e,a,"","",function(i){return t.call(o,i,n++)}),a}function sm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(o){(e._status===0||e._status===-1)&&(e._status=1,e._result=o)},function(o){(e._status===0||e._status===-1)&&(e._status=2,e._result=o)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Te={current:null},mn={transition:null},lm={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:mn,ReactCurrentOwner:$r};function Rc(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:Ka,forEach:function(e,t,o){Ka(e,function(){t.apply(this,arguments)},o)},count:function(e){var t=0;return Ka(e,function(){t++}),t},toArray:function(e){return Ka(e,function(t){return t})||[]},only:function(e){if(!Or(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};W.Component=zo;W.Fragment=Qu;W.Profiler=Yu;W.PureComponent=Wr;W.StrictMode=Zu;W.Suspense=tm;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lm;W.act=Rc;W.cloneElement=function(e,t,o){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=gc({},e.props),n=e.key,i=e.ref,r=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,r=$r.current),t.key!==void 0&&(n=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)wc.call(t,c)&&!vc.hasOwnProperty(c)&&(a[c]=t[c]===void 0&&s!==void 0?s[c]:t[c])}var c=arguments.length-2;if(c===1)a.children=o;else if(1<c){s=Array(c);for(var d=0;d<c;d++)s[d]=arguments[d+2];a.children=s}return{$$typeof:Na,type:e.type,key:n,ref:i,props:a,_owner:r}};W.createContext=function(e){return e={$$typeof:Xu,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ju,_context:e},e.Consumer=e};W.createElement=Sc;W.createFactory=function(e){var t=Sc.bind(null,e);return t.type=e,t};W.createRef=function(){return{current:null}};W.forwardRef=function(e){return{$$typeof:em,render:e}};W.isValidElement=Or;W.lazy=function(e){return{$$typeof:am,_payload:{_status:-1,_result:e},_init:sm}};W.memo=function(e,t){return{$$typeof:om,type:e,compare:t===void 0?null:t}};W.startTransition=function(e){var t=mn.transition;mn.transition={};try{e()}finally{mn.transition=t}};W.unstable_act=Rc;W.useCallback=function(e,t){return Te.current.useCallback(e,t)};W.useContext=function(e){return Te.current.useContext(e)};W.useDebugValue=function(){};W.useDeferredValue=function(e){return Te.current.useDeferredValue(e)};W.useEffect=function(e,t){return Te.current.useEffect(e,t)};W.useId=function(){return Te.current.useId()};W.useImperativeHandle=function(e,t,o){return Te.current.useImperativeHandle(e,t,o)};W.useInsertionEffect=function(e,t){return Te.current.useInsertionEffect(e,t)};W.useLayoutEffect=function(e,t){return Te.current.useLayoutEffect(e,t)};W.useMemo=function(e,t){return Te.current.useMemo(e,t)};W.useReducer=function(e,t,o){return Te.current.useReducer(e,t,o)};W.useRef=function(e){return Te.current.useRef(e)};W.useState=function(e){return Te.current.useState(e)};W.useSyncExternalStore=function(e,t,o){return Te.current.useSyncExternalStore(e,t,o)};W.useTransition=function(){return Te.current.useTransition()};W.version="18.3.1";pc.exports=W;var J=pc.exports;const st=Ku(J);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cm=J,dm=Symbol.for("react.element"),um=Symbol.for("react.fragment"),mm=Object.prototype.hasOwnProperty,fm=cm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hm={key:!0,ref:!0,__self:!0,__source:!0};function _c(e,t,o){var a,n={},i=null,r=null;o!==void 0&&(i=""+o),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(r=t.ref);for(a in t)mm.call(t,a)&&!hm.hasOwnProperty(a)&&(n[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)n[a]===void 0&&(n[a]=t[a]);return{$$typeof:dm,type:e,key:i,ref:r,props:n,_owner:fm.current}}Zn.Fragment=um;Zn.jsx=_c;Zn.jsxs=_c;hc.exports=Zn;var l=hc.exports,Oi={},Hc={exports:{}},je={},Tc={exports:{}},xc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,M){var j=C.length;C.push(M);e:for(;0<j;){var ie=j-1>>>1,ue=C[ie];if(0<n(ue,M))C[ie]=M,C[j]=ue,j=ie;else break e}}function o(C){return C.length===0?null:C[0]}function a(C){if(C.length===0)return null;var M=C[0],j=C.pop();if(j!==M){C[0]=j;e:for(var ie=0,ue=C.length,Ga=ue>>>1;ie<Ga;){var Zt=2*(ie+1)-1,pi=C[Zt],Yt=Zt+1,Ua=C[Yt];if(0>n(pi,j))Yt<ue&&0>n(Ua,pi)?(C[ie]=Ua,C[Yt]=j,ie=Yt):(C[ie]=pi,C[Zt]=j,ie=Zt);else if(Yt<ue&&0>n(Ua,j))C[ie]=Ua,C[Yt]=j,ie=Yt;else break e}}return M}function n(C,M){var j=C.sortIndex-M.sortIndex;return j!==0?j:C.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var r=Date,s=r.now();e.unstable_now=function(){return r.now()-s}}var c=[],d=[],b=1,m=null,h=3,y=!1,v=!1,k=!1,_=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(C){for(var M=o(d);M!==null;){if(M.callback===null)a(d);else if(M.startTime<=C)a(d),M.sortIndex=M.expirationTime,t(c,M);else break;M=o(d)}}function w(C){if(k=!1,g(C),!v)if(o(c)!==null)v=!0,fi(H);else{var M=o(d);M!==null&&hi(w,M.startTime-C)}}function H(C,M){v=!1,k&&(k=!1,p(F),F=-1),y=!0;var j=h;try{for(g(M),m=o(c);m!==null&&(!(m.expirationTime>M)||C&&!Ke());){var ie=m.callback;if(typeof ie=="function"){m.callback=null,h=m.priorityLevel;var ue=ie(m.expirationTime<=M);M=e.unstable_now(),typeof ue=="function"?m.callback=ue:m===o(c)&&a(c),g(M)}else a(c);m=o(c)}if(m!==null)var Ga=!0;else{var Zt=o(d);Zt!==null&&hi(w,Zt.startTime-M),Ga=!1}return Ga}finally{m=null,h=j,y=!1}}var P=!1,x=null,F=-1,Z=5,I=-1;function Ke(){return!(e.unstable_now()-I<Z)}function Ko(){if(x!==null){var C=e.unstable_now();I=C;var M=!0;try{M=x(!0,C)}finally{M?qo():(P=!1,x=null)}}else P=!1}var qo;if(typeof u=="function")qo=function(){u(Ko)};else if(typeof MessageChannel<"u"){var Is=new MessageChannel,Uu=Is.port2;Is.port1.onmessage=Ko,qo=function(){Uu.postMessage(null)}}else qo=function(){_(Ko,0)};function fi(C){x=C,P||(P=!0,qo())}function hi(C,M){F=_(function(){C(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,fi(H))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return o(c)},e.unstable_next=function(C){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var j=h;h=M;try{return C()}finally{h=j}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,M){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var j=h;h=C;try{return M()}finally{h=j}},e.unstable_scheduleCallback=function(C,M,j){var ie=e.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?ie+j:ie):j=ie,C){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=j+ue,C={id:b++,callback:M,priorityLevel:C,startTime:j,expirationTime:ue,sortIndex:-1},j>ie?(C.sortIndex=j,t(d,C),o(c)===null&&C===o(d)&&(k?(p(F),F=-1):k=!0,hi(w,j-ie))):(C.sortIndex=ue,t(c,C),v||y||(v=!0,fi(H))),C},e.unstable_shouldYield=Ke,e.unstable_wrapCallback=function(C){var M=h;return function(){var j=h;h=M;try{return C.apply(this,arguments)}finally{h=j}}}})(xc);Tc.exports=xc;var pm=Tc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bm=J,Be=pm;function S(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,o=1;o<arguments.length;o++)t+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Lc=new Set,ga={};function uo(e,t){Ao(e,t),Ao(e+"Capture",t)}function Ao(e,t){for(ga[e]=t,e=0;e<t.length;e++)Lc.add(t[e])}var pt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vi=Object.prototype.hasOwnProperty,gm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Os={},Vs={};function km(e){return Vi.call(Vs,e)?!0:Vi.call(Os,e)?!1:gm.test(e)?Vs[e]=!0:(Os[e]=!0,!1)}function ym(e,t,o,a){if(o!==null&&o.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:o!==null?!o.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function wm(e,t,o,a){if(t===null||typeof t>"u"||ym(e,t,o,a))return!0;if(a)return!1;if(o!==null)switch(o.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function xe(e,t,o,a,n,i,r){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=n,this.mustUseProperty=o,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=r}var ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ge[e]=new xe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ge[t]=new xe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ge[e]=new xe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ge[e]=new xe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ge[e]=new xe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ge[e]=new xe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ge[e]=new xe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ge[e]=new xe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ge[e]=new xe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Vr=/[\-:]([a-z])/g;function Gr(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Vr,Gr);ge[t]=new xe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Vr,Gr);ge[t]=new xe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Vr,Gr);ge[t]=new xe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ge[e]=new xe(e,1,!1,e.toLowerCase(),null,!1,!1)});ge.xlinkHref=new xe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ge[e]=new xe(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ur(e,t,o,a){var n=ge.hasOwnProperty(t)?ge[t]:null;(n!==null?n.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(wm(t,o,n,a)&&(o=null),a||n===null?km(t)&&(o===null?e.removeAttribute(t):e.setAttribute(t,""+o)):n.mustUseProperty?e[n.propertyName]=o===null?n.type===3?!1:"":o:(t=n.attributeName,a=n.attributeNamespace,o===null?e.removeAttribute(t):(n=n.type,o=n===3||n===4&&o===!0?"":""+o,a?e.setAttributeNS(a,t,o):e.setAttribute(t,o))))}var wt=bm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qa=Symbol.for("react.element"),bo=Symbol.for("react.portal"),go=Symbol.for("react.fragment"),Kr=Symbol.for("react.strict_mode"),Gi=Symbol.for("react.profiler"),Cc=Symbol.for("react.provider"),Pc=Symbol.for("react.context"),qr=Symbol.for("react.forward_ref"),Ui=Symbol.for("react.suspense"),Ki=Symbol.for("react.suspense_list"),Qr=Symbol.for("react.memo"),Ht=Symbol.for("react.lazy"),Fc=Symbol.for("react.offscreen"),Gs=Symbol.iterator;function Qo(e){return e===null||typeof e!="object"?null:(e=Gs&&e[Gs]||e["@@iterator"],typeof e=="function"?e:null)}var te=Object.assign,gi;function aa(e){if(gi===void 0)try{throw Error()}catch(o){var t=o.stack.trim().match(/\n( *(at )?)/);gi=t&&t[1]||""}return`
`+gi+e}var ki=!1;function yi(e,t){if(!e||ki)return"";ki=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var a=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){a=d}e.call(t.prototype)}else{try{throw Error()}catch(d){a=d}e()}}catch(d){if(d&&a&&typeof d.stack=="string"){for(var n=d.stack.split(`
`),i=a.stack.split(`
`),r=n.length-1,s=i.length-1;1<=r&&0<=s&&n[r]!==i[s];)s--;for(;1<=r&&0<=s;r--,s--)if(n[r]!==i[s]){if(r!==1||s!==1)do if(r--,s--,0>s||n[r]!==i[s]){var c=`
`+n[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=r&&0<=s);break}}}finally{ki=!1,Error.prepareStackTrace=o}return(e=e?e.displayName||e.name:"")?aa(e):""}function vm(e){switch(e.tag){case 5:return aa(e.type);case 16:return aa("Lazy");case 13:return aa("Suspense");case 19:return aa("SuspenseList");case 0:case 2:case 15:return e=yi(e.type,!1),e;case 11:return e=yi(e.type.render,!1),e;case 1:return e=yi(e.type,!0),e;default:return""}}function qi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case go:return"Fragment";case bo:return"Portal";case Gi:return"Profiler";case Kr:return"StrictMode";case Ui:return"Suspense";case Ki:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Pc:return(e.displayName||"Context")+".Consumer";case Cc:return(e._context.displayName||"Context")+".Provider";case qr:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Qr:return t=e.displayName||null,t!==null?t:qi(e.type)||"Memo";case Ht:t=e._payload,e=e._init;try{return qi(e(t))}catch{}}return null}function Sm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qi(t);case 8:return t===Kr?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Wt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Dc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Rm(e){var t=Dc(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var n=o.get,i=o.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(r){a=""+r,i.call(this,r)}}),Object.defineProperty(e,t,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(r){a=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qa(e){e._valueTracker||(e._valueTracker=Rm(e))}function Ec(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var o=t.getValue(),a="";return e&&(a=Dc(e)?e.checked?"true":"false":e.value),e=a,e!==o?(t.setValue(e),!0):!1}function Rn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Qi(e,t){var o=t.checked;return te({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??e._wrapperState.initialChecked})}function Us(e,t){var o=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;o=Wt(t.value!=null?t.value:o),e._wrapperState={initialChecked:a,initialValue:o,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ac(e,t){t=t.checked,t!=null&&Ur(e,"checked",t,!1)}function Zi(e,t){Ac(e,t);var o=Wt(t.value),a=t.type;if(o!=null)a==="number"?(o===0&&e.value===""||e.value!=o)&&(e.value=""+o):e.value!==""+o&&(e.value=""+o);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Yi(e,t.type,o):t.hasOwnProperty("defaultValue")&&Yi(e,t.type,Wt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ks(e,t,o){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,o||t===e.value||(e.value=t),e.defaultValue=t}o=e.name,o!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,o!==""&&(e.name=o)}function Yi(e,t,o){(t!=="number"||Rn(e.ownerDocument)!==e)&&(o==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+o&&(e.defaultValue=""+o))}var na=Array.isArray;function Lo(e,t,o,a){if(e=e.options,t){t={};for(var n=0;n<o.length;n++)t["$"+o[n]]=!0;for(o=0;o<e.length;o++)n=t.hasOwnProperty("$"+e[o].value),e[o].selected!==n&&(e[o].selected=n),n&&a&&(e[o].defaultSelected=!0)}else{for(o=""+Wt(o),t=null,n=0;n<e.length;n++){if(e[n].value===o){e[n].selected=!0,a&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Ji(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(S(91));return te({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qs(e,t){var o=t.value;if(o==null){if(o=t.children,t=t.defaultValue,o!=null){if(t!=null)throw Error(S(92));if(na(o)){if(1<o.length)throw Error(S(93));o=o[0]}t=o}t==null&&(t=""),o=t}e._wrapperState={initialValue:Wt(o)}}function Nc(e,t){var o=Wt(t.value),a=Wt(t.defaultValue);o!=null&&(o=""+o,o!==e.value&&(e.value=o),t.defaultValue==null&&e.defaultValue!==o&&(e.defaultValue=o)),a!=null&&(e.defaultValue=""+a)}function Qs(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Mc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Mc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Za,Bc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,o,a,n){MSApp.execUnsafeLocalFunction(function(){return e(t,o,a,n)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Za=Za||document.createElement("div"),Za.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Za.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ka(e,t){if(t){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=t;return}}e.textContent=t}var sa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_m=["Webkit","ms","Moz","O"];Object.keys(sa).forEach(function(e){_m.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),sa[t]=sa[e]})});function jc(e,t,o){return t==null||typeof t=="boolean"||t===""?"":o||typeof t!="number"||t===0||sa.hasOwnProperty(e)&&sa[e]?(""+t).trim():t+"px"}function Ic(e,t){e=e.style;for(var o in t)if(t.hasOwnProperty(o)){var a=o.indexOf("--")===0,n=jc(o,t[o],a);o==="float"&&(o="cssFloat"),a?e.setProperty(o,n):e[o]=n}}var Hm=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function er(e,t){if(t){if(Hm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(S(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(S(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(S(61))}if(t.style!=null&&typeof t.style!="object")throw Error(S(62))}}function tr(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var or=null;function Zr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ar=null,Co=null,Po=null;function Zs(e){if(e=ja(e)){if(typeof ar!="function")throw Error(S(280));var t=e.stateNode;t&&(t=ti(t),ar(e.stateNode,e.type,t))}}function Wc(e){Co?Po?Po.push(e):Po=[e]:Co=e}function zc(){if(Co){var e=Co,t=Po;if(Po=Co=null,Zs(e),t)for(e=0;e<t.length;e++)Zs(t[e])}}function $c(e,t){return e(t)}function Oc(){}var wi=!1;function Vc(e,t,o){if(wi)return e(t,o);wi=!0;try{return $c(e,t,o)}finally{wi=!1,(Co!==null||Po!==null)&&(Oc(),zc())}}function ya(e,t){var o=e.stateNode;if(o===null)return null;var a=ti(o);if(a===null)return null;o=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(S(231,t,typeof o));return o}var nr=!1;if(pt)try{var Zo={};Object.defineProperty(Zo,"passive",{get:function(){nr=!0}}),window.addEventListener("test",Zo,Zo),window.removeEventListener("test",Zo,Zo)}catch{nr=!1}function Tm(e,t,o,a,n,i,r,s,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(o,d)}catch(b){this.onError(b)}}var la=!1,_n=null,Hn=!1,ir=null,xm={onError:function(e){la=!0,_n=e}};function Lm(e,t,o,a,n,i,r,s,c){la=!1,_n=null,Tm.apply(xm,arguments)}function Cm(e,t,o,a,n,i,r,s,c){if(Lm.apply(this,arguments),la){if(la){var d=_n;la=!1,_n=null}else throw Error(S(198));Hn||(Hn=!0,ir=d)}}function mo(e){var t=e,o=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(o=t.return),e=t.return;while(e)}return t.tag===3?o:null}function Gc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ys(e){if(mo(e)!==e)throw Error(S(188))}function Pm(e){var t=e.alternate;if(!t){if(t=mo(e),t===null)throw Error(S(188));return t!==e?null:e}for(var o=e,a=t;;){var n=o.return;if(n===null)break;var i=n.alternate;if(i===null){if(a=n.return,a!==null){o=a;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===o)return Ys(n),e;if(i===a)return Ys(n),t;i=i.sibling}throw Error(S(188))}if(o.return!==a.return)o=n,a=i;else{for(var r=!1,s=n.child;s;){if(s===o){r=!0,o=n,a=i;break}if(s===a){r=!0,a=n,o=i;break}s=s.sibling}if(!r){for(s=i.child;s;){if(s===o){r=!0,o=i,a=n;break}if(s===a){r=!0,a=i,o=n;break}s=s.sibling}if(!r)throw Error(S(189))}}if(o.alternate!==a)throw Error(S(190))}if(o.tag!==3)throw Error(S(188));return o.stateNode.current===o?e:t}function Uc(e){return e=Pm(e),e!==null?Kc(e):null}function Kc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Kc(e);if(t!==null)return t;e=e.sibling}return null}var qc=Be.unstable_scheduleCallback,Js=Be.unstable_cancelCallback,Fm=Be.unstable_shouldYield,Dm=Be.unstable_requestPaint,re=Be.unstable_now,Em=Be.unstable_getCurrentPriorityLevel,Yr=Be.unstable_ImmediatePriority,Qc=Be.unstable_UserBlockingPriority,Tn=Be.unstable_NormalPriority,Am=Be.unstable_LowPriority,Zc=Be.unstable_IdlePriority,Yn=null,it=null;function Nm(e){if(it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(Yn,e,void 0,(e.current.flags&128)===128)}catch{}}var Je=Math.clz32?Math.clz32:jm,Mm=Math.log,Bm=Math.LN2;function jm(e){return e>>>=0,e===0?32:31-(Mm(e)/Bm|0)|0}var Ya=64,Ja=4194304;function ia(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xn(e,t){var o=e.pendingLanes;if(o===0)return 0;var a=0,n=e.suspendedLanes,i=e.pingedLanes,r=o&268435455;if(r!==0){var s=r&~n;s!==0?a=ia(s):(i&=r,i!==0&&(a=ia(i)))}else r=o&~n,r!==0?a=ia(r):i!==0&&(a=ia(i));if(a===0)return 0;if(t!==0&&t!==a&&!(t&n)&&(n=a&-a,i=t&-t,n>=i||n===16&&(i&4194240)!==0))return t;if(a&4&&(a|=o&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)o=31-Je(t),n=1<<o,a|=e[o],t&=~n;return a}function Im(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wm(e,t){for(var o=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes;0<i;){var r=31-Je(i),s=1<<r,c=n[r];c===-1?(!(s&o)||s&a)&&(n[r]=Im(s,t)):c<=t&&(e.expiredLanes|=s),i&=~s}}function rr(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Yc(){var e=Ya;return Ya<<=1,!(Ya&4194240)&&(Ya=64),e}function vi(e){for(var t=[],o=0;31>o;o++)t.push(e);return t}function Ma(e,t,o){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Je(t),e[t]=o}function zm(e,t){var o=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<o;){var n=31-Je(o),i=1<<n;t[n]=0,a[n]=-1,e[n]=-1,o&=~i}}function Jr(e,t){var o=e.entangledLanes|=t;for(e=e.entanglements;o;){var a=31-Je(o),n=1<<a;n&t|e[a]&t&&(e[a]|=t),o&=~n}}var V=0;function Jc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Xc,Xr,ed,td,od,sr=!1,Xa=[],Dt=null,Et=null,At=null,wa=new Map,va=new Map,xt=[],$m="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xs(e,t){switch(e){case"focusin":case"focusout":Dt=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":wa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":va.delete(t.pointerId)}}function Yo(e,t,o,a,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:o,eventSystemFlags:a,nativeEvent:i,targetContainers:[n]},t!==null&&(t=ja(t),t!==null&&Xr(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function Om(e,t,o,a,n){switch(t){case"focusin":return Dt=Yo(Dt,e,t,o,a,n),!0;case"dragenter":return Et=Yo(Et,e,t,o,a,n),!0;case"mouseover":return At=Yo(At,e,t,o,a,n),!0;case"pointerover":var i=n.pointerId;return wa.set(i,Yo(wa.get(i)||null,e,t,o,a,n)),!0;case"gotpointercapture":return i=n.pointerId,va.set(i,Yo(va.get(i)||null,e,t,o,a,n)),!0}return!1}function ad(e){var t=eo(e.target);if(t!==null){var o=mo(t);if(o!==null){if(t=o.tag,t===13){if(t=Gc(o),t!==null){e.blockedOn=t,od(e.priority,function(){ed(o)});return}}else if(t===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fn(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var o=lr(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(o===null){o=e.nativeEvent;var a=new o.constructor(o.type,o);or=a,o.target.dispatchEvent(a),or=null}else return t=ja(o),t!==null&&Xr(t),e.blockedOn=o,!1;t.shift()}return!0}function el(e,t,o){fn(e)&&o.delete(t)}function Vm(){sr=!1,Dt!==null&&fn(Dt)&&(Dt=null),Et!==null&&fn(Et)&&(Et=null),At!==null&&fn(At)&&(At=null),wa.forEach(el),va.forEach(el)}function Jo(e,t){e.blockedOn===t&&(e.blockedOn=null,sr||(sr=!0,Be.unstable_scheduleCallback(Be.unstable_NormalPriority,Vm)))}function Sa(e){function t(n){return Jo(n,e)}if(0<Xa.length){Jo(Xa[0],e);for(var o=1;o<Xa.length;o++){var a=Xa[o];a.blockedOn===e&&(a.blockedOn=null)}}for(Dt!==null&&Jo(Dt,e),Et!==null&&Jo(Et,e),At!==null&&Jo(At,e),wa.forEach(t),va.forEach(t),o=0;o<xt.length;o++)a=xt[o],a.blockedOn===e&&(a.blockedOn=null);for(;0<xt.length&&(o=xt[0],o.blockedOn===null);)ad(o),o.blockedOn===null&&xt.shift()}var Fo=wt.ReactCurrentBatchConfig,Ln=!0;function Gm(e,t,o,a){var n=V,i=Fo.transition;Fo.transition=null;try{V=1,es(e,t,o,a)}finally{V=n,Fo.transition=i}}function Um(e,t,o,a){var n=V,i=Fo.transition;Fo.transition=null;try{V=4,es(e,t,o,a)}finally{V=n,Fo.transition=i}}function es(e,t,o,a){if(Ln){var n=lr(e,t,o,a);if(n===null)Fi(e,t,a,Cn,o),Xs(e,a);else if(Om(n,e,t,o,a))a.stopPropagation();else if(Xs(e,a),t&4&&-1<$m.indexOf(e)){for(;n!==null;){var i=ja(n);if(i!==null&&Xc(i),i=lr(e,t,o,a),i===null&&Fi(e,t,a,Cn,o),i===n)break;n=i}n!==null&&a.stopPropagation()}else Fi(e,t,a,null,o)}}var Cn=null;function lr(e,t,o,a){if(Cn=null,e=Zr(a),e=eo(e),e!==null)if(t=mo(e),t===null)e=null;else if(o=t.tag,o===13){if(e=Gc(t),e!==null)return e;e=null}else if(o===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Cn=e,null}function nd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Em()){case Yr:return 1;case Qc:return 4;case Tn:case Am:return 16;case Zc:return 536870912;default:return 16}default:return 16}}var Pt=null,ts=null,hn=null;function id(){if(hn)return hn;var e,t=ts,o=t.length,a,n="value"in Pt?Pt.value:Pt.textContent,i=n.length;for(e=0;e<o&&t[e]===n[e];e++);var r=o-e;for(a=1;a<=r&&t[o-a]===n[i-a];a++);return hn=n.slice(e,1<a?1-a:void 0)}function pn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function en(){return!0}function tl(){return!1}function Ie(e){function t(o,a,n,i,r){this._reactName=o,this._targetInst=n,this.type=a,this.nativeEvent=i,this.target=r,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(o=e[s],this[s]=o?o(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?en:tl,this.isPropagationStopped=tl,this}return te(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=en)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=en)},persist:function(){},isPersistent:en}),t}var $o={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},os=Ie($o),Ba=te({},$o,{view:0,detail:0}),Km=Ie(Ba),Si,Ri,Xo,Jn=te({},Ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:as,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xo&&(Xo&&e.type==="mousemove"?(Si=e.screenX-Xo.screenX,Ri=e.screenY-Xo.screenY):Ri=Si=0,Xo=e),Si)},movementY:function(e){return"movementY"in e?e.movementY:Ri}}),ol=Ie(Jn),qm=te({},Jn,{dataTransfer:0}),Qm=Ie(qm),Zm=te({},Ba,{relatedTarget:0}),_i=Ie(Zm),Ym=te({},$o,{animationName:0,elapsedTime:0,pseudoElement:0}),Jm=Ie(Ym),Xm=te({},$o,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ef=Ie(Xm),tf=te({},$o,{data:0}),al=Ie(tf),of={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},af={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=nf[e])?!!t[e]:!1}function as(){return rf}var sf=te({},Ba,{key:function(e){if(e.key){var t=of[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=pn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?af[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:as,charCode:function(e){return e.type==="keypress"?pn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lf=Ie(sf),cf=te({},Jn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nl=Ie(cf),df=te({},Ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:as}),uf=Ie(df),mf=te({},$o,{propertyName:0,elapsedTime:0,pseudoElement:0}),ff=Ie(mf),hf=te({},Jn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pf=Ie(hf),bf=[9,13,27,32],ns=pt&&"CompositionEvent"in window,ca=null;pt&&"documentMode"in document&&(ca=document.documentMode);var gf=pt&&"TextEvent"in window&&!ca,rd=pt&&(!ns||ca&&8<ca&&11>=ca),il=" ",rl=!1;function sd(e,t){switch(e){case"keyup":return bf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ld(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ko=!1;function kf(e,t){switch(e){case"compositionend":return ld(t);case"keypress":return t.which!==32?null:(rl=!0,il);case"textInput":return e=t.data,e===il&&rl?null:e;default:return null}}function yf(e,t){if(ko)return e==="compositionend"||!ns&&sd(e,t)?(e=id(),hn=ts=Pt=null,ko=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rd&&t.locale!=="ko"?null:t.data;default:return null}}var wf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!wf[e.type]:t==="textarea"}function cd(e,t,o,a){Wc(a),t=Pn(t,"onChange"),0<t.length&&(o=new os("onChange","change",null,o,a),e.push({event:o,listeners:t}))}var da=null,Ra=null;function vf(e){wd(e,0)}function Xn(e){var t=vo(e);if(Ec(t))return e}function Sf(e,t){if(e==="change")return t}var dd=!1;if(pt){var Hi;if(pt){var Ti="oninput"in document;if(!Ti){var ll=document.createElement("div");ll.setAttribute("oninput","return;"),Ti=typeof ll.oninput=="function"}Hi=Ti}else Hi=!1;dd=Hi&&(!document.documentMode||9<document.documentMode)}function cl(){da&&(da.detachEvent("onpropertychange",ud),Ra=da=null)}function ud(e){if(e.propertyName==="value"&&Xn(Ra)){var t=[];cd(t,Ra,e,Zr(e)),Vc(vf,t)}}function Rf(e,t,o){e==="focusin"?(cl(),da=t,Ra=o,da.attachEvent("onpropertychange",ud)):e==="focusout"&&cl()}function _f(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xn(Ra)}function Hf(e,t){if(e==="click")return Xn(t)}function Tf(e,t){if(e==="input"||e==="change")return Xn(t)}function xf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tt=typeof Object.is=="function"?Object.is:xf;function _a(e,t){if(tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(a=0;a<o.length;a++){var n=o[a];if(!Vi.call(t,n)||!tt(e[n],t[n]))return!1}return!0}function dl(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ul(e,t){var o=dl(e);e=0;for(var a;o;){if(o.nodeType===3){if(a=e+o.textContent.length,e<=t&&a>=t)return{node:o,offset:t-e};e=a}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=dl(o)}}function md(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?md(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fd(){for(var e=window,t=Rn();t instanceof e.HTMLIFrameElement;){try{var o=typeof t.contentWindow.location.href=="string"}catch{o=!1}if(o)e=t.contentWindow;else break;t=Rn(e.document)}return t}function is(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Lf(e){var t=fd(),o=e.focusedElem,a=e.selectionRange;if(t!==o&&o&&o.ownerDocument&&md(o.ownerDocument.documentElement,o)){if(a!==null&&is(o)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in o)o.selectionStart=t,o.selectionEnd=Math.min(e,o.value.length);else if(e=(t=o.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var n=o.textContent.length,i=Math.min(a.start,n);a=a.end===void 0?i:Math.min(a.end,n),!e.extend&&i>a&&(n=a,a=i,i=n),n=ul(o,i);var r=ul(o,a);n&&r&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==r.node||e.focusOffset!==r.offset)&&(t=t.createRange(),t.setStart(n.node,n.offset),e.removeAllRanges(),i>a?(e.addRange(t),e.extend(r.node,r.offset)):(t.setEnd(r.node,r.offset),e.addRange(t)))}}for(t=[],e=o;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<t.length;o++)e=t[o],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Cf=pt&&"documentMode"in document&&11>=document.documentMode,yo=null,cr=null,ua=null,dr=!1;function ml(e,t,o){var a=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;dr||yo==null||yo!==Rn(a)||(a=yo,"selectionStart"in a&&is(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),ua&&_a(ua,a)||(ua=a,a=Pn(cr,"onSelect"),0<a.length&&(t=new os("onSelect","select",null,t,o),e.push({event:t,listeners:a}),t.target=yo)))}function tn(e,t){var o={};return o[e.toLowerCase()]=t.toLowerCase(),o["Webkit"+e]="webkit"+t,o["Moz"+e]="moz"+t,o}var wo={animationend:tn("Animation","AnimationEnd"),animationiteration:tn("Animation","AnimationIteration"),animationstart:tn("Animation","AnimationStart"),transitionend:tn("Transition","TransitionEnd")},xi={},hd={};pt&&(hd=document.createElement("div").style,"AnimationEvent"in window||(delete wo.animationend.animation,delete wo.animationiteration.animation,delete wo.animationstart.animation),"TransitionEvent"in window||delete wo.transitionend.transition);function ei(e){if(xi[e])return xi[e];if(!wo[e])return e;var t=wo[e],o;for(o in t)if(t.hasOwnProperty(o)&&o in hd)return xi[e]=t[o];return e}var pd=ei("animationend"),bd=ei("animationiteration"),gd=ei("animationstart"),kd=ei("transitionend"),yd=new Map,fl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ot(e,t){yd.set(e,t),uo(t,[e])}for(var Li=0;Li<fl.length;Li++){var Ci=fl[Li],Pf=Ci.toLowerCase(),Ff=Ci[0].toUpperCase()+Ci.slice(1);Ot(Pf,"on"+Ff)}Ot(pd,"onAnimationEnd");Ot(bd,"onAnimationIteration");Ot(gd,"onAnimationStart");Ot("dblclick","onDoubleClick");Ot("focusin","onFocus");Ot("focusout","onBlur");Ot(kd,"onTransitionEnd");Ao("onMouseEnter",["mouseout","mouseover"]);Ao("onMouseLeave",["mouseout","mouseover"]);Ao("onPointerEnter",["pointerout","pointerover"]);Ao("onPointerLeave",["pointerout","pointerover"]);uo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));uo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));uo("onBeforeInput",["compositionend","keypress","textInput","paste"]);uo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));uo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));uo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ra="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Df=new Set("cancel close invalid load scroll toggle".split(" ").concat(ra));function hl(e,t,o){var a=e.type||"unknown-event";e.currentTarget=o,Cm(a,t,void 0,e),e.currentTarget=null}function wd(e,t){t=(t&4)!==0;for(var o=0;o<e.length;o++){var a=e[o],n=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var r=a.length-1;0<=r;r--){var s=a[r],c=s.instance,d=s.currentTarget;if(s=s.listener,c!==i&&n.isPropagationStopped())break e;hl(n,s,d),i=c}else for(r=0;r<a.length;r++){if(s=a[r],c=s.instance,d=s.currentTarget,s=s.listener,c!==i&&n.isPropagationStopped())break e;hl(n,s,d),i=c}}}if(Hn)throw e=ir,Hn=!1,ir=null,e}function K(e,t){var o=t[pr];o===void 0&&(o=t[pr]=new Set);var a=e+"__bubble";o.has(a)||(vd(t,e,2,!1),o.add(a))}function Pi(e,t,o){var a=0;t&&(a|=4),vd(o,e,a,t)}var on="_reactListening"+Math.random().toString(36).slice(2);function Ha(e){if(!e[on]){e[on]=!0,Lc.forEach(function(o){o!=="selectionchange"&&(Df.has(o)||Pi(o,!1,e),Pi(o,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[on]||(t[on]=!0,Pi("selectionchange",!1,t))}}function vd(e,t,o,a){switch(nd(t)){case 1:var n=Gm;break;case 4:n=Um;break;default:n=es}o=n.bind(null,t,o,e),n=void 0,!nr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),a?n!==void 0?e.addEventListener(t,o,{capture:!0,passive:n}):e.addEventListener(t,o,!0):n!==void 0?e.addEventListener(t,o,{passive:n}):e.addEventListener(t,o,!1)}function Fi(e,t,o,a,n){var i=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var r=a.tag;if(r===3||r===4){var s=a.stateNode.containerInfo;if(s===n||s.nodeType===8&&s.parentNode===n)break;if(r===4)for(r=a.return;r!==null;){var c=r.tag;if((c===3||c===4)&&(c=r.stateNode.containerInfo,c===n||c.nodeType===8&&c.parentNode===n))return;r=r.return}for(;s!==null;){if(r=eo(s),r===null)return;if(c=r.tag,c===5||c===6){a=i=r;continue e}s=s.parentNode}}a=a.return}Vc(function(){var d=i,b=Zr(o),m=[];e:{var h=yd.get(e);if(h!==void 0){var y=os,v=e;switch(e){case"keypress":if(pn(o)===0)break e;case"keydown":case"keyup":y=lf;break;case"focusin":v="focus",y=_i;break;case"focusout":v="blur",y=_i;break;case"beforeblur":case"afterblur":y=_i;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=ol;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Qm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=uf;break;case pd:case bd:case gd:y=Jm;break;case kd:y=ff;break;case"scroll":y=Km;break;case"wheel":y=pf;break;case"copy":case"cut":case"paste":y=ef;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=nl}var k=(t&4)!==0,_=!k&&e==="scroll",p=k?h!==null?h+"Capture":null:h;k=[];for(var u=d,g;u!==null;){g=u;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,p!==null&&(w=ya(u,p),w!=null&&k.push(Ta(u,w,g)))),_)break;u=u.return}0<k.length&&(h=new y(h,v,null,o,b),m.push({event:h,listeners:k}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",h&&o!==or&&(v=o.relatedTarget||o.fromElement)&&(eo(v)||v[bt]))break e;if((y||h)&&(h=b.window===b?b:(h=b.ownerDocument)?h.defaultView||h.parentWindow:window,y?(v=o.relatedTarget||o.toElement,y=d,v=v?eo(v):null,v!==null&&(_=mo(v),v!==_||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=d),y!==v)){if(k=ol,w="onMouseLeave",p="onMouseEnter",u="mouse",(e==="pointerout"||e==="pointerover")&&(k=nl,w="onPointerLeave",p="onPointerEnter",u="pointer"),_=y==null?h:vo(y),g=v==null?h:vo(v),h=new k(w,u+"leave",y,o,b),h.target=_,h.relatedTarget=g,w=null,eo(b)===d&&(k=new k(p,u+"enter",v,o,b),k.target=g,k.relatedTarget=_,w=k),_=w,y&&v)t:{for(k=y,p=v,u=0,g=k;g;g=po(g))u++;for(g=0,w=p;w;w=po(w))g++;for(;0<u-g;)k=po(k),u--;for(;0<g-u;)p=po(p),g--;for(;u--;){if(k===p||p!==null&&k===p.alternate)break t;k=po(k),p=po(p)}k=null}else k=null;y!==null&&pl(m,h,y,k,!1),v!==null&&_!==null&&pl(m,_,v,k,!0)}}e:{if(h=d?vo(d):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var H=Sf;else if(sl(h))if(dd)H=Tf;else{H=_f;var P=Rf}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(H=Hf);if(H&&(H=H(e,d))){cd(m,H,o,b);break e}P&&P(e,h,d),e==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&Yi(h,"number",h.value)}switch(P=d?vo(d):window,e){case"focusin":(sl(P)||P.contentEditable==="true")&&(yo=P,cr=d,ua=null);break;case"focusout":ua=cr=yo=null;break;case"mousedown":dr=!0;break;case"contextmenu":case"mouseup":case"dragend":dr=!1,ml(m,o,b);break;case"selectionchange":if(Cf)break;case"keydown":case"keyup":ml(m,o,b)}var x;if(ns)e:{switch(e){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else ko?sd(e,o)&&(F="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(F="onCompositionStart");F&&(rd&&o.locale!=="ko"&&(ko||F!=="onCompositionStart"?F==="onCompositionEnd"&&ko&&(x=id()):(Pt=b,ts="value"in Pt?Pt.value:Pt.textContent,ko=!0)),P=Pn(d,F),0<P.length&&(F=new al(F,e,null,o,b),m.push({event:F,listeners:P}),x?F.data=x:(x=ld(o),x!==null&&(F.data=x)))),(x=gf?kf(e,o):yf(e,o))&&(d=Pn(d,"onBeforeInput"),0<d.length&&(b=new al("onBeforeInput","beforeinput",null,o,b),m.push({event:b,listeners:d}),b.data=x))}wd(m,t)})}function Ta(e,t,o){return{instance:e,listener:t,currentTarget:o}}function Pn(e,t){for(var o=t+"Capture",a=[];e!==null;){var n=e,i=n.stateNode;n.tag===5&&i!==null&&(n=i,i=ya(e,o),i!=null&&a.unshift(Ta(e,i,n)),i=ya(e,t),i!=null&&a.push(Ta(e,i,n))),e=e.return}return a}function po(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function pl(e,t,o,a,n){for(var i=t._reactName,r=[];o!==null&&o!==a;){var s=o,c=s.alternate,d=s.stateNode;if(c!==null&&c===a)break;s.tag===5&&d!==null&&(s=d,n?(c=ya(o,i),c!=null&&r.unshift(Ta(o,c,s))):n||(c=ya(o,i),c!=null&&r.push(Ta(o,c,s)))),o=o.return}r.length!==0&&e.push({event:t,listeners:r})}var Ef=/\r\n?/g,Af=/\u0000|\uFFFD/g;function bl(e){return(typeof e=="string"?e:""+e).replace(Ef,`
`).replace(Af,"")}function an(e,t,o){if(t=bl(t),bl(e)!==t&&o)throw Error(S(425))}function Fn(){}var ur=null,mr=null;function fr(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var hr=typeof setTimeout=="function"?setTimeout:void 0,Nf=typeof clearTimeout=="function"?clearTimeout:void 0,gl=typeof Promise=="function"?Promise:void 0,Mf=typeof queueMicrotask=="function"?queueMicrotask:typeof gl<"u"?function(e){return gl.resolve(null).then(e).catch(Bf)}:hr;function Bf(e){setTimeout(function(){throw e})}function Di(e,t){var o=t,a=0;do{var n=o.nextSibling;if(e.removeChild(o),n&&n.nodeType===8)if(o=n.data,o==="/$"){if(a===0){e.removeChild(n),Sa(t);return}a--}else o!=="$"&&o!=="$?"&&o!=="$!"||a++;o=n}while(o);Sa(t)}function Nt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function kl(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(t===0)return e;t--}else o==="/$"&&t++}e=e.previousSibling}return null}var Oo=Math.random().toString(36).slice(2),nt="__reactFiber$"+Oo,xa="__reactProps$"+Oo,bt="__reactContainer$"+Oo,pr="__reactEvents$"+Oo,jf="__reactListeners$"+Oo,If="__reactHandles$"+Oo;function eo(e){var t=e[nt];if(t)return t;for(var o=e.parentNode;o;){if(t=o[bt]||o[nt]){if(o=t.alternate,t.child!==null||o!==null&&o.child!==null)for(e=kl(e);e!==null;){if(o=e[nt])return o;e=kl(e)}return t}e=o,o=e.parentNode}return null}function ja(e){return e=e[nt]||e[bt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(S(33))}function ti(e){return e[xa]||null}var br=[],So=-1;function Vt(e){return{current:e}}function q(e){0>So||(e.current=br[So],br[So]=null,So--)}function G(e,t){So++,br[So]=e.current,e.current=t}var zt={},Se=Vt(zt),Fe=Vt(!1),io=zt;function No(e,t){var o=e.type.contextTypes;if(!o)return zt;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var n={},i;for(i in o)n[i]=t[i];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n),n}function De(e){return e=e.childContextTypes,e!=null}function Dn(){q(Fe),q(Se)}function yl(e,t,o){if(Se.current!==zt)throw Error(S(168));G(Se,t),G(Fe,o)}function Sd(e,t,o){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return o;a=a.getChildContext();for(var n in a)if(!(n in t))throw Error(S(108,Sm(e)||"Unknown",n));return te({},o,a)}function En(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zt,io=Se.current,G(Se,e),G(Fe,Fe.current),!0}function wl(e,t,o){var a=e.stateNode;if(!a)throw Error(S(169));o?(e=Sd(e,t,io),a.__reactInternalMemoizedMergedChildContext=e,q(Fe),q(Se),G(Se,e)):q(Fe),G(Fe,o)}var dt=null,oi=!1,Ei=!1;function Rd(e){dt===null?dt=[e]:dt.push(e)}function Wf(e){oi=!0,Rd(e)}function Gt(){if(!Ei&&dt!==null){Ei=!0;var e=0,t=V;try{var o=dt;for(V=1;e<o.length;e++){var a=o[e];do a=a(!0);while(a!==null)}dt=null,oi=!1}catch(n){throw dt!==null&&(dt=dt.slice(e+1)),qc(Yr,Gt),n}finally{V=t,Ei=!1}}return null}var Ro=[],_o=0,An=null,Nn=0,We=[],ze=0,ro=null,ut=1,mt="";function Jt(e,t){Ro[_o++]=Nn,Ro[_o++]=An,An=e,Nn=t}function _d(e,t,o){We[ze++]=ut,We[ze++]=mt,We[ze++]=ro,ro=e;var a=ut;e=mt;var n=32-Je(a)-1;a&=~(1<<n),o+=1;var i=32-Je(t)+n;if(30<i){var r=n-n%5;i=(a&(1<<r)-1).toString(32),a>>=r,n-=r,ut=1<<32-Je(t)+n|o<<n|a,mt=i+e}else ut=1<<i|o<<n|a,mt=e}function rs(e){e.return!==null&&(Jt(e,1),_d(e,1,0))}function ss(e){for(;e===An;)An=Ro[--_o],Ro[_o]=null,Nn=Ro[--_o],Ro[_o]=null;for(;e===ro;)ro=We[--ze],We[ze]=null,mt=We[--ze],We[ze]=null,ut=We[--ze],We[ze]=null}var Me=null,Ne=null,Y=!1,Ye=null;function Hd(e,t){var o=$e(5,null,null,0);o.elementType="DELETED",o.stateNode=t,o.return=e,t=e.deletions,t===null?(e.deletions=[o],e.flags|=16):t.push(o)}function vl(e,t){switch(e.tag){case 5:var o=e.type;return t=t.nodeType!==1||o.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Me=e,Ne=Nt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Me=e,Ne=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(o=ro!==null?{id:ut,overflow:mt}:null,e.memoizedState={dehydrated:t,treeContext:o,retryLane:1073741824},o=$e(18,null,null,0),o.stateNode=t,o.return=e,e.child=o,Me=e,Ne=null,!0):!1;default:return!1}}function gr(e){return(e.mode&1)!==0&&(e.flags&128)===0}function kr(e){if(Y){var t=Ne;if(t){var o=t;if(!vl(e,t)){if(gr(e))throw Error(S(418));t=Nt(o.nextSibling);var a=Me;t&&vl(e,t)?Hd(a,o):(e.flags=e.flags&-4097|2,Y=!1,Me=e)}}else{if(gr(e))throw Error(S(418));e.flags=e.flags&-4097|2,Y=!1,Me=e}}}function Sl(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Me=e}function nn(e){if(e!==Me)return!1;if(!Y)return Sl(e),Y=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!fr(e.type,e.memoizedProps)),t&&(t=Ne)){if(gr(e))throw Td(),Error(S(418));for(;t;)Hd(e,t),t=Nt(t.nextSibling)}if(Sl(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(S(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"){if(t===0){Ne=Nt(e.nextSibling);break e}t--}else o!=="$"&&o!=="$!"&&o!=="$?"||t++}e=e.nextSibling}Ne=null}}else Ne=Me?Nt(e.stateNode.nextSibling):null;return!0}function Td(){for(var e=Ne;e;)e=Nt(e.nextSibling)}function Mo(){Ne=Me=null,Y=!1}function ls(e){Ye===null?Ye=[e]:Ye.push(e)}var zf=wt.ReactCurrentBatchConfig;function ea(e,t,o){if(e=o.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(S(309));var a=o.stateNode}if(!a)throw Error(S(147,e));var n=a,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(r){var s=n.refs;r===null?delete s[i]:s[i]=r},t._stringRef=i,t)}if(typeof e!="string")throw Error(S(284));if(!o._owner)throw Error(S(290,e))}return e}function rn(e,t){throw e=Object.prototype.toString.call(t),Error(S(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Rl(e){var t=e._init;return t(e._payload)}function xd(e){function t(p,u){if(e){var g=p.deletions;g===null?(p.deletions=[u],p.flags|=16):g.push(u)}}function o(p,u){if(!e)return null;for(;u!==null;)t(p,u),u=u.sibling;return null}function a(p,u){for(p=new Map;u!==null;)u.key!==null?p.set(u.key,u):p.set(u.index,u),u=u.sibling;return p}function n(p,u){return p=It(p,u),p.index=0,p.sibling=null,p}function i(p,u,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<u?(p.flags|=2,u):g):(p.flags|=2,u)):(p.flags|=1048576,u)}function r(p){return e&&p.alternate===null&&(p.flags|=2),p}function s(p,u,g,w){return u===null||u.tag!==6?(u=Wi(g,p.mode,w),u.return=p,u):(u=n(u,g),u.return=p,u)}function c(p,u,g,w){var H=g.type;return H===go?b(p,u,g.props.children,w,g.key):u!==null&&(u.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===Ht&&Rl(H)===u.type)?(w=n(u,g.props),w.ref=ea(p,u,g),w.return=p,w):(w=Sn(g.type,g.key,g.props,null,p.mode,w),w.ref=ea(p,u,g),w.return=p,w)}function d(p,u,g,w){return u===null||u.tag!==4||u.stateNode.containerInfo!==g.containerInfo||u.stateNode.implementation!==g.implementation?(u=zi(g,p.mode,w),u.return=p,u):(u=n(u,g.children||[]),u.return=p,u)}function b(p,u,g,w,H){return u===null||u.tag!==7?(u=no(g,p.mode,w,H),u.return=p,u):(u=n(u,g),u.return=p,u)}function m(p,u,g){if(typeof u=="string"&&u!==""||typeof u=="number")return u=Wi(""+u,p.mode,g),u.return=p,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case qa:return g=Sn(u.type,u.key,u.props,null,p.mode,g),g.ref=ea(p,null,u),g.return=p,g;case bo:return u=zi(u,p.mode,g),u.return=p,u;case Ht:var w=u._init;return m(p,w(u._payload),g)}if(na(u)||Qo(u))return u=no(u,p.mode,g,null),u.return=p,u;rn(p,u)}return null}function h(p,u,g,w){var H=u!==null?u.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return H!==null?null:s(p,u,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case qa:return g.key===H?c(p,u,g,w):null;case bo:return g.key===H?d(p,u,g,w):null;case Ht:return H=g._init,h(p,u,H(g._payload),w)}if(na(g)||Qo(g))return H!==null?null:b(p,u,g,w,null);rn(p,g)}return null}function y(p,u,g,w,H){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(g)||null,s(u,p,""+w,H);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case qa:return p=p.get(w.key===null?g:w.key)||null,c(u,p,w,H);case bo:return p=p.get(w.key===null?g:w.key)||null,d(u,p,w,H);case Ht:var P=w._init;return y(p,u,g,P(w._payload),H)}if(na(w)||Qo(w))return p=p.get(g)||null,b(u,p,w,H,null);rn(u,w)}return null}function v(p,u,g,w){for(var H=null,P=null,x=u,F=u=0,Z=null;x!==null&&F<g.length;F++){x.index>F?(Z=x,x=null):Z=x.sibling;var I=h(p,x,g[F],w);if(I===null){x===null&&(x=Z);break}e&&x&&I.alternate===null&&t(p,x),u=i(I,u,F),P===null?H=I:P.sibling=I,P=I,x=Z}if(F===g.length)return o(p,x),Y&&Jt(p,F),H;if(x===null){for(;F<g.length;F++)x=m(p,g[F],w),x!==null&&(u=i(x,u,F),P===null?H=x:P.sibling=x,P=x);return Y&&Jt(p,F),H}for(x=a(p,x);F<g.length;F++)Z=y(x,p,F,g[F],w),Z!==null&&(e&&Z.alternate!==null&&x.delete(Z.key===null?F:Z.key),u=i(Z,u,F),P===null?H=Z:P.sibling=Z,P=Z);return e&&x.forEach(function(Ke){return t(p,Ke)}),Y&&Jt(p,F),H}function k(p,u,g,w){var H=Qo(g);if(typeof H!="function")throw Error(S(150));if(g=H.call(g),g==null)throw Error(S(151));for(var P=H=null,x=u,F=u=0,Z=null,I=g.next();x!==null&&!I.done;F++,I=g.next()){x.index>F?(Z=x,x=null):Z=x.sibling;var Ke=h(p,x,I.value,w);if(Ke===null){x===null&&(x=Z);break}e&&x&&Ke.alternate===null&&t(p,x),u=i(Ke,u,F),P===null?H=Ke:P.sibling=Ke,P=Ke,x=Z}if(I.done)return o(p,x),Y&&Jt(p,F),H;if(x===null){for(;!I.done;F++,I=g.next())I=m(p,I.value,w),I!==null&&(u=i(I,u,F),P===null?H=I:P.sibling=I,P=I);return Y&&Jt(p,F),H}for(x=a(p,x);!I.done;F++,I=g.next())I=y(x,p,F,I.value,w),I!==null&&(e&&I.alternate!==null&&x.delete(I.key===null?F:I.key),u=i(I,u,F),P===null?H=I:P.sibling=I,P=I);return e&&x.forEach(function(Ko){return t(p,Ko)}),Y&&Jt(p,F),H}function _(p,u,g,w){if(typeof g=="object"&&g!==null&&g.type===go&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case qa:e:{for(var H=g.key,P=u;P!==null;){if(P.key===H){if(H=g.type,H===go){if(P.tag===7){o(p,P.sibling),u=n(P,g.props.children),u.return=p,p=u;break e}}else if(P.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===Ht&&Rl(H)===P.type){o(p,P.sibling),u=n(P,g.props),u.ref=ea(p,P,g),u.return=p,p=u;break e}o(p,P);break}else t(p,P);P=P.sibling}g.type===go?(u=no(g.props.children,p.mode,w,g.key),u.return=p,p=u):(w=Sn(g.type,g.key,g.props,null,p.mode,w),w.ref=ea(p,u,g),w.return=p,p=w)}return r(p);case bo:e:{for(P=g.key;u!==null;){if(u.key===P)if(u.tag===4&&u.stateNode.containerInfo===g.containerInfo&&u.stateNode.implementation===g.implementation){o(p,u.sibling),u=n(u,g.children||[]),u.return=p,p=u;break e}else{o(p,u);break}else t(p,u);u=u.sibling}u=zi(g,p.mode,w),u.return=p,p=u}return r(p);case Ht:return P=g._init,_(p,u,P(g._payload),w)}if(na(g))return v(p,u,g,w);if(Qo(g))return k(p,u,g,w);rn(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,u!==null&&u.tag===6?(o(p,u.sibling),u=n(u,g),u.return=p,p=u):(o(p,u),u=Wi(g,p.mode,w),u.return=p,p=u),r(p)):o(p,u)}return _}var Bo=xd(!0),Ld=xd(!1),Mn=Vt(null),Bn=null,Ho=null,cs=null;function ds(){cs=Ho=Bn=null}function us(e){var t=Mn.current;q(Mn),e._currentValue=t}function yr(e,t,o){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===o)break;e=e.return}}function Do(e,t){Bn=e,cs=Ho=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Pe=!0),e.firstContext=null)}function Ve(e){var t=e._currentValue;if(cs!==e)if(e={context:e,memoizedValue:t,next:null},Ho===null){if(Bn===null)throw Error(S(308));Ho=e,Bn.dependencies={lanes:0,firstContext:e}}else Ho=Ho.next=e;return t}var to=null;function ms(e){to===null?to=[e]:to.push(e)}function Cd(e,t,o,a){var n=t.interleaved;return n===null?(o.next=o,ms(t)):(o.next=n.next,n.next=o),t.interleaved=o,gt(e,a)}function gt(e,t){e.lanes|=t;var o=e.alternate;for(o!==null&&(o.lanes|=t),o=e,e=e.return;e!==null;)e.childLanes|=t,o=e.alternate,o!==null&&(o.childLanes|=t),o=e,e=e.return;return o.tag===3?o.stateNode:null}var Tt=!1;function fs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ft(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mt(e,t,o){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,$&2){var n=a.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),a.pending=t,gt(e,o)}return n=a.interleaved,n===null?(t.next=t,ms(a)):(t.next=n.next,n.next=t),a.interleaved=t,gt(e,o)}function bn(e,t,o){if(t=t.updateQueue,t!==null&&(t=t.shared,(o&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,o|=a,t.lanes=o,Jr(e,o)}}function _l(e,t){var o=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,o===a)){var n=null,i=null;if(o=o.firstBaseUpdate,o!==null){do{var r={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};i===null?n=i=r:i=i.next=r,o=o.next}while(o!==null);i===null?n=i=t:i=i.next=t}else n=i=t;o={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:a.shared,effects:a.effects},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=t:e.next=t,o.lastBaseUpdate=t}function jn(e,t,o,a){var n=e.updateQueue;Tt=!1;var i=n.firstBaseUpdate,r=n.lastBaseUpdate,s=n.shared.pending;if(s!==null){n.shared.pending=null;var c=s,d=c.next;c.next=null,r===null?i=d:r.next=d,r=c;var b=e.alternate;b!==null&&(b=b.updateQueue,s=b.lastBaseUpdate,s!==r&&(s===null?b.firstBaseUpdate=d:s.next=d,b.lastBaseUpdate=c))}if(i!==null){var m=n.baseState;r=0,b=d=c=null,s=i;do{var h=s.lane,y=s.eventTime;if((a&h)===h){b!==null&&(b=b.next={eventTime:y,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=e,k=s;switch(h=t,y=o,k.tag){case 1:if(v=k.payload,typeof v=="function"){m=v.call(y,m,h);break e}m=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=k.payload,h=typeof v=="function"?v.call(y,m,h):v,h==null)break e;m=te({},m,h);break e;case 2:Tt=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=n.effects,h===null?n.effects=[s]:h.push(s))}else y={eventTime:y,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},b===null?(d=b=y,c=m):b=b.next=y,r|=h;if(s=s.next,s===null){if(s=n.shared.pending,s===null)break;h=s,s=h.next,h.next=null,n.lastBaseUpdate=h,n.shared.pending=null}}while(!0);if(b===null&&(c=m),n.baseState=c,n.firstBaseUpdate=d,n.lastBaseUpdate=b,t=n.shared.interleaved,t!==null){n=t;do r|=n.lane,n=n.next;while(n!==t)}else i===null&&(n.shared.lanes=0);lo|=r,e.lanes=r,e.memoizedState=m}}function Hl(e,t,o){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],n=a.callback;if(n!==null){if(a.callback=null,a=o,typeof n!="function")throw Error(S(191,n));n.call(a)}}}var Ia={},rt=Vt(Ia),La=Vt(Ia),Ca=Vt(Ia);function oo(e){if(e===Ia)throw Error(S(174));return e}function hs(e,t){switch(G(Ca,t),G(La,e),G(rt,Ia),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Xi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Xi(t,e)}q(rt),G(rt,t)}function jo(){q(rt),q(La),q(Ca)}function Fd(e){oo(Ca.current);var t=oo(rt.current),o=Xi(t,e.type);t!==o&&(G(La,e),G(rt,o))}function ps(e){La.current===e&&(q(rt),q(La))}var X=Vt(0);function In(e){for(var t=e;t!==null;){if(t.tag===13){var o=t.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ai=[];function bs(){for(var e=0;e<Ai.length;e++)Ai[e]._workInProgressVersionPrimary=null;Ai.length=0}var gn=wt.ReactCurrentDispatcher,Ni=wt.ReactCurrentBatchConfig,so=0,ee=null,ce=null,me=null,Wn=!1,ma=!1,Pa=0,$f=0;function ye(){throw Error(S(321))}function gs(e,t){if(t===null)return!1;for(var o=0;o<t.length&&o<e.length;o++)if(!tt(e[o],t[o]))return!1;return!0}function ks(e,t,o,a,n,i){if(so=i,ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,gn.current=e===null||e.memoizedState===null?Uf:Kf,e=o(a,n),ma){i=0;do{if(ma=!1,Pa=0,25<=i)throw Error(S(301));i+=1,me=ce=null,t.updateQueue=null,gn.current=qf,e=o(a,n)}while(ma)}if(gn.current=zn,t=ce!==null&&ce.next!==null,so=0,me=ce=ee=null,Wn=!1,t)throw Error(S(300));return e}function ys(){var e=Pa!==0;return Pa=0,e}function at(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?ee.memoizedState=me=e:me=me.next=e,me}function Ge(){if(ce===null){var e=ee.alternate;e=e!==null?e.memoizedState:null}else e=ce.next;var t=me===null?ee.memoizedState:me.next;if(t!==null)me=t,ce=e;else{if(e===null)throw Error(S(310));ce=e,e={memoizedState:ce.memoizedState,baseState:ce.baseState,baseQueue:ce.baseQueue,queue:ce.queue,next:null},me===null?ee.memoizedState=me=e:me=me.next=e}return me}function Fa(e,t){return typeof t=="function"?t(e):t}function Mi(e){var t=Ge(),o=t.queue;if(o===null)throw Error(S(311));o.lastRenderedReducer=e;var a=ce,n=a.baseQueue,i=o.pending;if(i!==null){if(n!==null){var r=n.next;n.next=i.next,i.next=r}a.baseQueue=n=i,o.pending=null}if(n!==null){i=n.next,a=a.baseState;var s=r=null,c=null,d=i;do{var b=d.lane;if((so&b)===b)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:e(a,d.action);else{var m={lane:b,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(s=c=m,r=a):c=c.next=m,ee.lanes|=b,lo|=b}d=d.next}while(d!==null&&d!==i);c===null?r=a:c.next=s,tt(a,t.memoizedState)||(Pe=!0),t.memoizedState=a,t.baseState=r,t.baseQueue=c,o.lastRenderedState=a}if(e=o.interleaved,e!==null){n=e;do i=n.lane,ee.lanes|=i,lo|=i,n=n.next;while(n!==e)}else n===null&&(o.lanes=0);return[t.memoizedState,o.dispatch]}function Bi(e){var t=Ge(),o=t.queue;if(o===null)throw Error(S(311));o.lastRenderedReducer=e;var a=o.dispatch,n=o.pending,i=t.memoizedState;if(n!==null){o.pending=null;var r=n=n.next;do i=e(i,r.action),r=r.next;while(r!==n);tt(i,t.memoizedState)||(Pe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),o.lastRenderedState=i}return[i,a]}function Dd(){}function Ed(e,t){var o=ee,a=Ge(),n=t(),i=!tt(a.memoizedState,n);if(i&&(a.memoizedState=n,Pe=!0),a=a.queue,ws(Md.bind(null,o,a,e),[e]),a.getSnapshot!==t||i||me!==null&&me.memoizedState.tag&1){if(o.flags|=2048,Da(9,Nd.bind(null,o,a,n,t),void 0,null),fe===null)throw Error(S(349));so&30||Ad(o,t,n)}return n}function Ad(e,t,o){e.flags|=16384,e={getSnapshot:t,value:o},t=ee.updateQueue,t===null?(t={lastEffect:null,stores:null},ee.updateQueue=t,t.stores=[e]):(o=t.stores,o===null?t.stores=[e]:o.push(e))}function Nd(e,t,o,a){t.value=o,t.getSnapshot=a,Bd(t)&&jd(e)}function Md(e,t,o){return o(function(){Bd(t)&&jd(e)})}function Bd(e){var t=e.getSnapshot;e=e.value;try{var o=t();return!tt(e,o)}catch{return!0}}function jd(e){var t=gt(e,1);t!==null&&Xe(t,e,1,-1)}function Tl(e){var t=at();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fa,lastRenderedState:e},t.queue=e,e=e.dispatch=Gf.bind(null,ee,e),[t.memoizedState,e]}function Da(e,t,o,a){return e={tag:e,create:t,destroy:o,deps:a,next:null},t=ee.updateQueue,t===null?(t={lastEffect:null,stores:null},ee.updateQueue=t,t.lastEffect=e.next=e):(o=t.lastEffect,o===null?t.lastEffect=e.next=e:(a=o.next,o.next=e,e.next=a,t.lastEffect=e)),e}function Id(){return Ge().memoizedState}function kn(e,t,o,a){var n=at();ee.flags|=e,n.memoizedState=Da(1|t,o,void 0,a===void 0?null:a)}function ai(e,t,o,a){var n=Ge();a=a===void 0?null:a;var i=void 0;if(ce!==null){var r=ce.memoizedState;if(i=r.destroy,a!==null&&gs(a,r.deps)){n.memoizedState=Da(t,o,i,a);return}}ee.flags|=e,n.memoizedState=Da(1|t,o,i,a)}function xl(e,t){return kn(8390656,8,e,t)}function ws(e,t){return ai(2048,8,e,t)}function Wd(e,t){return ai(4,2,e,t)}function zd(e,t){return ai(4,4,e,t)}function $d(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Od(e,t,o){return o=o!=null?o.concat([e]):null,ai(4,4,$d.bind(null,t,e),o)}function vs(){}function Vd(e,t){var o=Ge();t=t===void 0?null:t;var a=o.memoizedState;return a!==null&&t!==null&&gs(t,a[1])?a[0]:(o.memoizedState=[e,t],e)}function Gd(e,t){var o=Ge();t=t===void 0?null:t;var a=o.memoizedState;return a!==null&&t!==null&&gs(t,a[1])?a[0]:(e=e(),o.memoizedState=[e,t],e)}function Ud(e,t,o){return so&21?(tt(o,t)||(o=Yc(),ee.lanes|=o,lo|=o,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Pe=!0),e.memoizedState=o)}function Of(e,t){var o=V;V=o!==0&&4>o?o:4,e(!0);var a=Ni.transition;Ni.transition={};try{e(!1),t()}finally{V=o,Ni.transition=a}}function Kd(){return Ge().memoizedState}function Vf(e,t,o){var a=jt(e);if(o={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null},qd(e))Qd(t,o);else if(o=Cd(e,t,o,a),o!==null){var n=He();Xe(o,e,a,n),Zd(o,t,a)}}function Gf(e,t,o){var a=jt(e),n={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null};if(qd(e))Qd(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var r=t.lastRenderedState,s=i(r,o);if(n.hasEagerState=!0,n.eagerState=s,tt(s,r)){var c=t.interleaved;c===null?(n.next=n,ms(t)):(n.next=c.next,c.next=n),t.interleaved=n;return}}catch{}finally{}o=Cd(e,t,n,a),o!==null&&(n=He(),Xe(o,e,a,n),Zd(o,t,a))}}function qd(e){var t=e.alternate;return e===ee||t!==null&&t===ee}function Qd(e,t){ma=Wn=!0;var o=e.pending;o===null?t.next=t:(t.next=o.next,o.next=t),e.pending=t}function Zd(e,t,o){if(o&4194240){var a=t.lanes;a&=e.pendingLanes,o|=a,t.lanes=o,Jr(e,o)}}var zn={readContext:Ve,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useInsertionEffect:ye,useLayoutEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useMutableSource:ye,useSyncExternalStore:ye,useId:ye,unstable_isNewReconciler:!1},Uf={readContext:Ve,useCallback:function(e,t){return at().memoizedState=[e,t===void 0?null:t],e},useContext:Ve,useEffect:xl,useImperativeHandle:function(e,t,o){return o=o!=null?o.concat([e]):null,kn(4194308,4,$d.bind(null,t,e),o)},useLayoutEffect:function(e,t){return kn(4194308,4,e,t)},useInsertionEffect:function(e,t){return kn(4,2,e,t)},useMemo:function(e,t){var o=at();return t=t===void 0?null:t,e=e(),o.memoizedState=[e,t],e},useReducer:function(e,t,o){var a=at();return t=o!==void 0?o(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Vf.bind(null,ee,e),[a.memoizedState,e]},useRef:function(e){var t=at();return e={current:e},t.memoizedState=e},useState:Tl,useDebugValue:vs,useDeferredValue:function(e){return at().memoizedState=e},useTransition:function(){var e=Tl(!1),t=e[0];return e=Of.bind(null,e[1]),at().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,o){var a=ee,n=at();if(Y){if(o===void 0)throw Error(S(407));o=o()}else{if(o=t(),fe===null)throw Error(S(349));so&30||Ad(a,t,o)}n.memoizedState=o;var i={value:o,getSnapshot:t};return n.queue=i,xl(Md.bind(null,a,i,e),[e]),a.flags|=2048,Da(9,Nd.bind(null,a,i,o,t),void 0,null),o},useId:function(){var e=at(),t=fe.identifierPrefix;if(Y){var o=mt,a=ut;o=(a&~(1<<32-Je(a)-1)).toString(32)+o,t=":"+t+"R"+o,o=Pa++,0<o&&(t+="H"+o.toString(32)),t+=":"}else o=$f++,t=":"+t+"r"+o.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Kf={readContext:Ve,useCallback:Vd,useContext:Ve,useEffect:ws,useImperativeHandle:Od,useInsertionEffect:Wd,useLayoutEffect:zd,useMemo:Gd,useReducer:Mi,useRef:Id,useState:function(){return Mi(Fa)},useDebugValue:vs,useDeferredValue:function(e){var t=Ge();return Ud(t,ce.memoizedState,e)},useTransition:function(){var e=Mi(Fa)[0],t=Ge().memoizedState;return[e,t]},useMutableSource:Dd,useSyncExternalStore:Ed,useId:Kd,unstable_isNewReconciler:!1},qf={readContext:Ve,useCallback:Vd,useContext:Ve,useEffect:ws,useImperativeHandle:Od,useInsertionEffect:Wd,useLayoutEffect:zd,useMemo:Gd,useReducer:Bi,useRef:Id,useState:function(){return Bi(Fa)},useDebugValue:vs,useDeferredValue:function(e){var t=Ge();return ce===null?t.memoizedState=e:Ud(t,ce.memoizedState,e)},useTransition:function(){var e=Bi(Fa)[0],t=Ge().memoizedState;return[e,t]},useMutableSource:Dd,useSyncExternalStore:Ed,useId:Kd,unstable_isNewReconciler:!1};function Qe(e,t){if(e&&e.defaultProps){t=te({},t),e=e.defaultProps;for(var o in e)t[o]===void 0&&(t[o]=e[o]);return t}return t}function wr(e,t,o,a){t=e.memoizedState,o=o(a,t),o=o==null?t:te({},t,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var ni={isMounted:function(e){return(e=e._reactInternals)?mo(e)===e:!1},enqueueSetState:function(e,t,o){e=e._reactInternals;var a=He(),n=jt(e),i=ft(a,n);i.payload=t,o!=null&&(i.callback=o),t=Mt(e,i,n),t!==null&&(Xe(t,e,n,a),bn(t,e,n))},enqueueReplaceState:function(e,t,o){e=e._reactInternals;var a=He(),n=jt(e),i=ft(a,n);i.tag=1,i.payload=t,o!=null&&(i.callback=o),t=Mt(e,i,n),t!==null&&(Xe(t,e,n,a),bn(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var o=He(),a=jt(e),n=ft(o,a);n.tag=2,t!=null&&(n.callback=t),t=Mt(e,n,a),t!==null&&(Xe(t,e,a,o),bn(t,e,a))}};function Ll(e,t,o,a,n,i,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,r):t.prototype&&t.prototype.isPureReactComponent?!_a(o,a)||!_a(n,i):!0}function Yd(e,t,o){var a=!1,n=zt,i=t.contextType;return typeof i=="object"&&i!==null?i=Ve(i):(n=De(t)?io:Se.current,a=t.contextTypes,i=(a=a!=null)?No(e,n):zt),t=new t(o,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ni,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=i),t}function Cl(e,t,o,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(o,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(o,a),t.state!==e&&ni.enqueueReplaceState(t,t.state,null)}function vr(e,t,o,a){var n=e.stateNode;n.props=o,n.state=e.memoizedState,n.refs={},fs(e);var i=t.contextType;typeof i=="object"&&i!==null?n.context=Ve(i):(i=De(t)?io:Se.current,n.context=No(e,i)),n.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(wr(e,t,i,o),n.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(t=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),t!==n.state&&ni.enqueueReplaceState(n,n.state,null),jn(e,o,n,a),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function Io(e,t){try{var o="",a=t;do o+=vm(a),a=a.return;while(a);var n=o}catch(i){n=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:n,digest:null}}function ji(e,t,o){return{value:e,source:null,stack:o??null,digest:t??null}}function Sr(e,t){try{console.error(t.value)}catch(o){setTimeout(function(){throw o})}}var Qf=typeof WeakMap=="function"?WeakMap:Map;function Jd(e,t,o){o=ft(-1,o),o.tag=3,o.payload={element:null};var a=t.value;return o.callback=function(){On||(On=!0,Dr=a),Sr(e,t)},o}function Xd(e,t,o){o=ft(-1,o),o.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var n=t.value;o.payload=function(){return a(n)},o.callback=function(){Sr(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(o.callback=function(){Sr(e,t),typeof a!="function"&&(Bt===null?Bt=new Set([this]):Bt.add(this));var r=t.stack;this.componentDidCatch(t.value,{componentStack:r!==null?r:""})}),o}function Pl(e,t,o){var a=e.pingCache;if(a===null){a=e.pingCache=new Qf;var n=new Set;a.set(t,n)}else n=a.get(t),n===void 0&&(n=new Set,a.set(t,n));n.has(o)||(n.add(o),e=ch.bind(null,e,t,o),t.then(e,e))}function Fl(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Dl(e,t,o,a,n){return e.mode&1?(e.flags|=65536,e.lanes=n,e):(e===t?e.flags|=65536:(e.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(t=ft(-1,1),t.tag=2,Mt(o,t,1))),o.lanes|=1),e)}var Zf=wt.ReactCurrentOwner,Pe=!1;function _e(e,t,o,a){t.child=e===null?Ld(t,null,o,a):Bo(t,e.child,o,a)}function El(e,t,o,a,n){o=o.render;var i=t.ref;return Do(t,n),a=ks(e,t,o,a,i,n),o=ys(),e!==null&&!Pe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,kt(e,t,n)):(Y&&o&&rs(t),t.flags|=1,_e(e,t,a,n),t.child)}function Al(e,t,o,a,n){if(e===null){var i=o.type;return typeof i=="function"&&!Cs(i)&&i.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(t.tag=15,t.type=i,eu(e,t,i,a,n)):(e=Sn(o.type,null,a,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&n)){var r=i.memoizedProps;if(o=o.compare,o=o!==null?o:_a,o(r,a)&&e.ref===t.ref)return kt(e,t,n)}return t.flags|=1,e=It(i,a),e.ref=t.ref,e.return=t,t.child=e}function eu(e,t,o,a,n){if(e!==null){var i=e.memoizedProps;if(_a(i,a)&&e.ref===t.ref)if(Pe=!1,t.pendingProps=a=i,(e.lanes&n)!==0)e.flags&131072&&(Pe=!0);else return t.lanes=e.lanes,kt(e,t,n)}return Rr(e,t,o,a,n)}function tu(e,t,o){var a=t.pendingProps,n=a.children,i=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(xo,Ae),Ae|=o;else{if(!(o&1073741824))return e=i!==null?i.baseLanes|o:o,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,G(xo,Ae),Ae|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=i!==null?i.baseLanes:o,G(xo,Ae),Ae|=a}else i!==null?(a=i.baseLanes|o,t.memoizedState=null):a=o,G(xo,Ae),Ae|=a;return _e(e,t,n,o),t.child}function ou(e,t){var o=t.ref;(e===null&&o!==null||e!==null&&e.ref!==o)&&(t.flags|=512,t.flags|=2097152)}function Rr(e,t,o,a,n){var i=De(o)?io:Se.current;return i=No(t,i),Do(t,n),o=ks(e,t,o,a,i,n),a=ys(),e!==null&&!Pe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,kt(e,t,n)):(Y&&a&&rs(t),t.flags|=1,_e(e,t,o,n),t.child)}function Nl(e,t,o,a,n){if(De(o)){var i=!0;En(t)}else i=!1;if(Do(t,n),t.stateNode===null)yn(e,t),Yd(t,o,a),vr(t,o,a,n),a=!0;else if(e===null){var r=t.stateNode,s=t.memoizedProps;r.props=s;var c=r.context,d=o.contextType;typeof d=="object"&&d!==null?d=Ve(d):(d=De(o)?io:Se.current,d=No(t,d));var b=o.getDerivedStateFromProps,m=typeof b=="function"||typeof r.getSnapshotBeforeUpdate=="function";m||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(s!==a||c!==d)&&Cl(t,r,a,d),Tt=!1;var h=t.memoizedState;r.state=h,jn(t,a,r,n),c=t.memoizedState,s!==a||h!==c||Fe.current||Tt?(typeof b=="function"&&(wr(t,o,b,a),c=t.memoizedState),(s=Tt||Ll(t,o,s,a,h,c,d))?(m||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),r.props=a,r.state=c,r.context=d,a=s):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{r=t.stateNode,Pd(e,t),s=t.memoizedProps,d=t.type===t.elementType?s:Qe(t.type,s),r.props=d,m=t.pendingProps,h=r.context,c=o.contextType,typeof c=="object"&&c!==null?c=Ve(c):(c=De(o)?io:Se.current,c=No(t,c));var y=o.getDerivedStateFromProps;(b=typeof y=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(s!==m||h!==c)&&Cl(t,r,a,c),Tt=!1,h=t.memoizedState,r.state=h,jn(t,a,r,n);var v=t.memoizedState;s!==m||h!==v||Fe.current||Tt?(typeof y=="function"&&(wr(t,o,y,a),v=t.memoizedState),(d=Tt||Ll(t,o,d,a,h,v,c)||!1)?(b||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(a,v,c),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(a,v,c)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=v),r.props=a,r.state=v,r.context=c,a=d):(typeof r.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),a=!1)}return _r(e,t,o,a,i,n)}function _r(e,t,o,a,n,i){ou(e,t);var r=(t.flags&128)!==0;if(!a&&!r)return n&&wl(t,o,!1),kt(e,t,i);a=t.stateNode,Zf.current=t;var s=r&&typeof o.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&r?(t.child=Bo(t,e.child,null,i),t.child=Bo(t,null,s,i)):_e(e,t,s,i),t.memoizedState=a.state,n&&wl(t,o,!0),t.child}function au(e){var t=e.stateNode;t.pendingContext?yl(e,t.pendingContext,t.pendingContext!==t.context):t.context&&yl(e,t.context,!1),hs(e,t.containerInfo)}function Ml(e,t,o,a,n){return Mo(),ls(n),t.flags|=256,_e(e,t,o,a),t.child}var Hr={dehydrated:null,treeContext:null,retryLane:0};function Tr(e){return{baseLanes:e,cachePool:null,transitions:null}}function nu(e,t,o){var a=t.pendingProps,n=X.current,i=!1,r=(t.flags&128)!==0,s;if((s=r)||(s=e!==null&&e.memoizedState===null?!1:(n&2)!==0),s?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),G(X,n&1),e===null)return kr(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(r=a.children,e=a.fallback,i?(a=t.mode,i=t.child,r={mode:"hidden",children:r},!(a&1)&&i!==null?(i.childLanes=0,i.pendingProps=r):i=si(r,a,0,null),e=no(e,a,o,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Tr(o),t.memoizedState=Hr,e):Ss(t,r));if(n=e.memoizedState,n!==null&&(s=n.dehydrated,s!==null))return Yf(e,t,r,a,s,n,o);if(i){i=a.fallback,r=t.mode,n=e.child,s=n.sibling;var c={mode:"hidden",children:a.children};return!(r&1)&&t.child!==n?(a=t.child,a.childLanes=0,a.pendingProps=c,t.deletions=null):(a=It(n,c),a.subtreeFlags=n.subtreeFlags&14680064),s!==null?i=It(s,i):(i=no(i,r,o,null),i.flags|=2),i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,r=e.child.memoizedState,r=r===null?Tr(o):{baseLanes:r.baseLanes|o,cachePool:null,transitions:r.transitions},i.memoizedState=r,i.childLanes=e.childLanes&~o,t.memoizedState=Hr,a}return i=e.child,e=i.sibling,a=It(i,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=o),a.return=t,a.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=a,t.memoizedState=null,a}function Ss(e,t){return t=si({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function sn(e,t,o,a){return a!==null&&ls(a),Bo(t,e.child,null,o),e=Ss(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Yf(e,t,o,a,n,i,r){if(o)return t.flags&256?(t.flags&=-257,a=ji(Error(S(422))),sn(e,t,r,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=a.fallback,n=t.mode,a=si({mode:"visible",children:a.children},n,0,null),i=no(i,n,r,null),i.flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,t.mode&1&&Bo(t,e.child,null,r),t.child.memoizedState=Tr(r),t.memoizedState=Hr,i);if(!(t.mode&1))return sn(e,t,r,null);if(n.data==="$!"){if(a=n.nextSibling&&n.nextSibling.dataset,a)var s=a.dgst;return a=s,i=Error(S(419)),a=ji(i,a,void 0),sn(e,t,r,a)}if(s=(r&e.childLanes)!==0,Pe||s){if(a=fe,a!==null){switch(r&-r){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(a.suspendedLanes|r)?0:n,n!==0&&n!==i.retryLane&&(i.retryLane=n,gt(e,n),Xe(a,e,n,-1))}return Ls(),a=ji(Error(S(421))),sn(e,t,r,a)}return n.data==="$?"?(t.flags|=128,t.child=e.child,t=dh.bind(null,e),n._reactRetry=t,null):(e=i.treeContext,Ne=Nt(n.nextSibling),Me=t,Y=!0,Ye=null,e!==null&&(We[ze++]=ut,We[ze++]=mt,We[ze++]=ro,ut=e.id,mt=e.overflow,ro=t),t=Ss(t,a.children),t.flags|=4096,t)}function Bl(e,t,o){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),yr(e.return,t,o)}function Ii(e,t,o,a,n){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:o,tailMode:n}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=o,i.tailMode=n)}function iu(e,t,o){var a=t.pendingProps,n=a.revealOrder,i=a.tail;if(_e(e,t,a.children,o),a=X.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bl(e,o,t);else if(e.tag===19)Bl(e,o,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(G(X,a),!(t.mode&1))t.memoizedState=null;else switch(n){case"forwards":for(o=t.child,n=null;o!==null;)e=o.alternate,e!==null&&In(e)===null&&(n=o),o=o.sibling;o=n,o===null?(n=t.child,t.child=null):(n=o.sibling,o.sibling=null),Ii(t,!1,n,o,i);break;case"backwards":for(o=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&In(e)===null){t.child=n;break}e=n.sibling,n.sibling=o,o=n,n=e}Ii(t,!0,o,null,i);break;case"together":Ii(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function yn(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function kt(e,t,o){if(e!==null&&(t.dependencies=e.dependencies),lo|=t.lanes,!(o&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(S(153));if(t.child!==null){for(e=t.child,o=It(e,e.pendingProps),t.child=o,o.return=t;e.sibling!==null;)e=e.sibling,o=o.sibling=It(e,e.pendingProps),o.return=t;o.sibling=null}return t.child}function Jf(e,t,o){switch(t.tag){case 3:au(t),Mo();break;case 5:Fd(t);break;case 1:De(t.type)&&En(t);break;case 4:hs(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,n=t.memoizedProps.value;G(Mn,a._currentValue),a._currentValue=n;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(G(X,X.current&1),t.flags|=128,null):o&t.child.childLanes?nu(e,t,o):(G(X,X.current&1),e=kt(e,t,o),e!==null?e.sibling:null);G(X,X.current&1);break;case 19:if(a=(o&t.childLanes)!==0,e.flags&128){if(a)return iu(e,t,o);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),G(X,X.current),a)break;return null;case 22:case 23:return t.lanes=0,tu(e,t,o)}return kt(e,t,o)}var ru,xr,su,lu;ru=function(e,t){for(var o=t.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};xr=function(){};su=function(e,t,o,a){var n=e.memoizedProps;if(n!==a){e=t.stateNode,oo(rt.current);var i=null;switch(o){case"input":n=Qi(e,n),a=Qi(e,a),i=[];break;case"select":n=te({},n,{value:void 0}),a=te({},a,{value:void 0}),i=[];break;case"textarea":n=Ji(e,n),a=Ji(e,a),i=[];break;default:typeof n.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Fn)}er(o,a);var r;o=null;for(d in n)if(!a.hasOwnProperty(d)&&n.hasOwnProperty(d)&&n[d]!=null)if(d==="style"){var s=n[d];for(r in s)s.hasOwnProperty(r)&&(o||(o={}),o[r]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ga.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in a){var c=a[d];if(s=n!=null?n[d]:void 0,a.hasOwnProperty(d)&&c!==s&&(c!=null||s!=null))if(d==="style")if(s){for(r in s)!s.hasOwnProperty(r)||c&&c.hasOwnProperty(r)||(o||(o={}),o[r]="");for(r in c)c.hasOwnProperty(r)&&s[r]!==c[r]&&(o||(o={}),o[r]=c[r])}else o||(i||(i=[]),i.push(d,o)),o=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,s=s?s.__html:void 0,c!=null&&s!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ga.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&K("scroll",e),i||s===c||(i=[])):(i=i||[]).push(d,c))}o&&(i=i||[]).push("style",o);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};lu=function(e,t,o,a){o!==a&&(t.flags|=4)};function ta(e,t){if(!Y)switch(e.tailMode){case"hidden":t=e.tail;for(var o=null;t!==null;)t.alternate!==null&&(o=t),t=t.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function we(e){var t=e.alternate!==null&&e.alternate.child===e.child,o=0,a=0;if(t)for(var n=e.child;n!==null;)o|=n.lanes|n.childLanes,a|=n.subtreeFlags&14680064,a|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)o|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=o,t}function Xf(e,t,o){var a=t.pendingProps;switch(ss(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return we(t),null;case 1:return De(t.type)&&Dn(),we(t),null;case 3:return a=t.stateNode,jo(),q(Fe),q(Se),bs(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(nn(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ye!==null&&(Nr(Ye),Ye=null))),xr(e,t),we(t),null;case 5:ps(t);var n=oo(Ca.current);if(o=t.type,e!==null&&t.stateNode!=null)su(e,t,o,a,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(S(166));return we(t),null}if(e=oo(rt.current),nn(t)){a=t.stateNode,o=t.type;var i=t.memoizedProps;switch(a[nt]=t,a[xa]=i,e=(t.mode&1)!==0,o){case"dialog":K("cancel",a),K("close",a);break;case"iframe":case"object":case"embed":K("load",a);break;case"video":case"audio":for(n=0;n<ra.length;n++)K(ra[n],a);break;case"source":K("error",a);break;case"img":case"image":case"link":K("error",a),K("load",a);break;case"details":K("toggle",a);break;case"input":Us(a,i),K("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},K("invalid",a);break;case"textarea":qs(a,i),K("invalid",a)}er(o,i),n=null;for(var r in i)if(i.hasOwnProperty(r)){var s=i[r];r==="children"?typeof s=="string"?a.textContent!==s&&(i.suppressHydrationWarning!==!0&&an(a.textContent,s,e),n=["children",s]):typeof s=="number"&&a.textContent!==""+s&&(i.suppressHydrationWarning!==!0&&an(a.textContent,s,e),n=["children",""+s]):ga.hasOwnProperty(r)&&s!=null&&r==="onScroll"&&K("scroll",a)}switch(o){case"input":Qa(a),Ks(a,i,!0);break;case"textarea":Qa(a),Qs(a);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(a.onclick=Fn)}a=n,t.updateQueue=a,a!==null&&(t.flags|=4)}else{r=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Mc(o)),e==="http://www.w3.org/1999/xhtml"?o==="script"?(e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=r.createElement(o,{is:a.is}):(e=r.createElement(o),o==="select"&&(r=e,a.multiple?r.multiple=!0:a.size&&(r.size=a.size))):e=r.createElementNS(e,o),e[nt]=t,e[xa]=a,ru(e,t,!1,!1),t.stateNode=e;e:{switch(r=tr(o,a),o){case"dialog":K("cancel",e),K("close",e),n=a;break;case"iframe":case"object":case"embed":K("load",e),n=a;break;case"video":case"audio":for(n=0;n<ra.length;n++)K(ra[n],e);n=a;break;case"source":K("error",e),n=a;break;case"img":case"image":case"link":K("error",e),K("load",e),n=a;break;case"details":K("toggle",e),n=a;break;case"input":Us(e,a),n=Qi(e,a),K("invalid",e);break;case"option":n=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},n=te({},a,{value:void 0}),K("invalid",e);break;case"textarea":qs(e,a),n=Ji(e,a),K("invalid",e);break;default:n=a}er(o,n),s=n;for(i in s)if(s.hasOwnProperty(i)){var c=s[i];i==="style"?Ic(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Bc(e,c)):i==="children"?typeof c=="string"?(o!=="textarea"||c!=="")&&ka(e,c):typeof c=="number"&&ka(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ga.hasOwnProperty(i)?c!=null&&i==="onScroll"&&K("scroll",e):c!=null&&Ur(e,i,c,r))}switch(o){case"input":Qa(e),Ks(e,a,!1);break;case"textarea":Qa(e),Qs(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Wt(a.value));break;case"select":e.multiple=!!a.multiple,i=a.value,i!=null?Lo(e,!!a.multiple,i,!1):a.defaultValue!=null&&Lo(e,!!a.multiple,a.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=Fn)}switch(o){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return we(t),null;case 6:if(e&&t.stateNode!=null)lu(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(S(166));if(o=oo(Ca.current),oo(rt.current),nn(t)){if(a=t.stateNode,o=t.memoizedProps,a[nt]=t,(i=a.nodeValue!==o)&&(e=Me,e!==null))switch(e.tag){case 3:an(a.nodeValue,o,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&an(a.nodeValue,o,(e.mode&1)!==0)}i&&(t.flags|=4)}else a=(o.nodeType===9?o:o.ownerDocument).createTextNode(a),a[nt]=t,t.stateNode=a}return we(t),null;case 13:if(q(X),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Y&&Ne!==null&&t.mode&1&&!(t.flags&128))Td(),Mo(),t.flags|=98560,i=!1;else if(i=nn(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(S(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(S(317));i[nt]=t}else Mo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;we(t),i=!1}else Ye!==null&&(Nr(Ye),Ye=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=o,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||X.current&1?de===0&&(de=3):Ls())),t.updateQueue!==null&&(t.flags|=4),we(t),null);case 4:return jo(),xr(e,t),e===null&&Ha(t.stateNode.containerInfo),we(t),null;case 10:return us(t.type._context),we(t),null;case 17:return De(t.type)&&Dn(),we(t),null;case 19:if(q(X),i=t.memoizedState,i===null)return we(t),null;if(a=(t.flags&128)!==0,r=i.rendering,r===null)if(a)ta(i,!1);else{if(de!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(r=In(e),r!==null){for(t.flags|=128,ta(i,!1),a=r.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=o,o=t.child;o!==null;)i=o,e=a,i.flags&=14680066,r=i.alternate,r===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=r.childLanes,i.lanes=r.lanes,i.child=r.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=r.memoizedProps,i.memoizedState=r.memoizedState,i.updateQueue=r.updateQueue,i.type=r.type,e=r.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),o=o.sibling;return G(X,X.current&1|2),t.child}e=e.sibling}i.tail!==null&&re()>Wo&&(t.flags|=128,a=!0,ta(i,!1),t.lanes=4194304)}else{if(!a)if(e=In(r),e!==null){if(t.flags|=128,a=!0,o=e.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),ta(i,!0),i.tail===null&&i.tailMode==="hidden"&&!r.alternate&&!Y)return we(t),null}else 2*re()-i.renderingStartTime>Wo&&o!==1073741824&&(t.flags|=128,a=!0,ta(i,!1),t.lanes=4194304);i.isBackwards?(r.sibling=t.child,t.child=r):(o=i.last,o!==null?o.sibling=r:t.child=r,i.last=r)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=re(),t.sibling=null,o=X.current,G(X,a?o&1|2:o&1),t):(we(t),null);case 22:case 23:return xs(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?Ae&1073741824&&(we(t),t.subtreeFlags&6&&(t.flags|=8192)):we(t),null;case 24:return null;case 25:return null}throw Error(S(156,t.tag))}function eh(e,t){switch(ss(t),t.tag){case 1:return De(t.type)&&Dn(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return jo(),q(Fe),q(Se),bs(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ps(t),null;case 13:if(q(X),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(S(340));Mo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return q(X),null;case 4:return jo(),null;case 10:return us(t.type._context),null;case 22:case 23:return xs(),null;case 24:return null;default:return null}}var ln=!1,ve=!1,th=typeof WeakSet=="function"?WeakSet:Set,L=null;function To(e,t){var o=e.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(a){ae(e,t,a)}else o.current=null}function Lr(e,t,o){try{o()}catch(a){ae(e,t,a)}}var jl=!1;function oh(e,t){if(ur=Ln,e=fd(),is(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var a=o.getSelection&&o.getSelection();if(a&&a.rangeCount!==0){o=a.anchorNode;var n=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{o.nodeType,i.nodeType}catch{o=null;break e}var r=0,s=-1,c=-1,d=0,b=0,m=e,h=null;t:for(;;){for(var y;m!==o||n!==0&&m.nodeType!==3||(s=r+n),m!==i||a!==0&&m.nodeType!==3||(c=r+a),m.nodeType===3&&(r+=m.nodeValue.length),(y=m.firstChild)!==null;)h=m,m=y;for(;;){if(m===e)break t;if(h===o&&++d===n&&(s=r),h===i&&++b===a&&(c=r),(y=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=y}o=s===-1||c===-1?null:{start:s,end:c}}else o=null}o=o||{start:0,end:0}}else o=null;for(mr={focusedElem:e,selectionRange:o},Ln=!1,L=t;L!==null;)if(t=L,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,L=e;else for(;L!==null;){t=L;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var k=v.memoizedProps,_=v.memoizedState,p=t.stateNode,u=p.getSnapshotBeforeUpdate(t.elementType===t.type?k:Qe(t.type,k),_);p.__reactInternalSnapshotBeforeUpdate=u}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(S(163))}}catch(w){ae(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,L=e;break}L=t.return}return v=jl,jl=!1,v}function fa(e,t,o){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var n=a=a.next;do{if((n.tag&e)===e){var i=n.destroy;n.destroy=void 0,i!==void 0&&Lr(t,o,i)}n=n.next}while(n!==a)}}function ii(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var o=t=t.next;do{if((o.tag&e)===e){var a=o.create;o.destroy=a()}o=o.next}while(o!==t)}}function Cr(e){var t=e.ref;if(t!==null){var o=e.stateNode;switch(e.tag){case 5:e=o;break;default:e=o}typeof t=="function"?t(e):t.current=e}}function cu(e){var t=e.alternate;t!==null&&(e.alternate=null,cu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[nt],delete t[xa],delete t[pr],delete t[jf],delete t[If])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function du(e){return e.tag===5||e.tag===3||e.tag===4}function Il(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||du(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pr(e,t,o){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?o.nodeType===8?o.parentNode.insertBefore(e,t):o.insertBefore(e,t):(o.nodeType===8?(t=o.parentNode,t.insertBefore(e,o)):(t=o,t.appendChild(e)),o=o._reactRootContainer,o!=null||t.onclick!==null||(t.onclick=Fn));else if(a!==4&&(e=e.child,e!==null))for(Pr(e,t,o),e=e.sibling;e!==null;)Pr(e,t,o),e=e.sibling}function Fr(e,t,o){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?o.insertBefore(e,t):o.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Fr(e,t,o),e=e.sibling;e!==null;)Fr(e,t,o),e=e.sibling}var pe=null,Ze=!1;function _t(e,t,o){for(o=o.child;o!==null;)uu(e,t,o),o=o.sibling}function uu(e,t,o){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(Yn,o)}catch{}switch(o.tag){case 5:ve||To(o,t);case 6:var a=pe,n=Ze;pe=null,_t(e,t,o),pe=a,Ze=n,pe!==null&&(Ze?(e=pe,o=o.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)):pe.removeChild(o.stateNode));break;case 18:pe!==null&&(Ze?(e=pe,o=o.stateNode,e.nodeType===8?Di(e.parentNode,o):e.nodeType===1&&Di(e,o),Sa(e)):Di(pe,o.stateNode));break;case 4:a=pe,n=Ze,pe=o.stateNode.containerInfo,Ze=!0,_t(e,t,o),pe=a,Ze=n;break;case 0:case 11:case 14:case 15:if(!ve&&(a=o.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){n=a=a.next;do{var i=n,r=i.destroy;i=i.tag,r!==void 0&&(i&2||i&4)&&Lr(o,t,r),n=n.next}while(n!==a)}_t(e,t,o);break;case 1:if(!ve&&(To(o,t),a=o.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=o.memoizedProps,a.state=o.memoizedState,a.componentWillUnmount()}catch(s){ae(o,t,s)}_t(e,t,o);break;case 21:_t(e,t,o);break;case 22:o.mode&1?(ve=(a=ve)||o.memoizedState!==null,_t(e,t,o),ve=a):_t(e,t,o);break;default:_t(e,t,o)}}function Wl(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var o=e.stateNode;o===null&&(o=e.stateNode=new th),t.forEach(function(a){var n=uh.bind(null,e,a);o.has(a)||(o.add(a),a.then(n,n))})}}function qe(e,t){var o=t.deletions;if(o!==null)for(var a=0;a<o.length;a++){var n=o[a];try{var i=e,r=t,s=r;e:for(;s!==null;){switch(s.tag){case 5:pe=s.stateNode,Ze=!1;break e;case 3:pe=s.stateNode.containerInfo,Ze=!0;break e;case 4:pe=s.stateNode.containerInfo,Ze=!0;break e}s=s.return}if(pe===null)throw Error(S(160));uu(i,r,n),pe=null,Ze=!1;var c=n.alternate;c!==null&&(c.return=null),n.return=null}catch(d){ae(n,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)mu(t,e),t=t.sibling}function mu(e,t){var o=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(qe(t,e),ot(e),a&4){try{fa(3,e,e.return),ii(3,e)}catch(k){ae(e,e.return,k)}try{fa(5,e,e.return)}catch(k){ae(e,e.return,k)}}break;case 1:qe(t,e),ot(e),a&512&&o!==null&&To(o,o.return);break;case 5:if(qe(t,e),ot(e),a&512&&o!==null&&To(o,o.return),e.flags&32){var n=e.stateNode;try{ka(n,"")}catch(k){ae(e,e.return,k)}}if(a&4&&(n=e.stateNode,n!=null)){var i=e.memoizedProps,r=o!==null?o.memoizedProps:i,s=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{s==="input"&&i.type==="radio"&&i.name!=null&&Ac(n,i),tr(s,r);var d=tr(s,i);for(r=0;r<c.length;r+=2){var b=c[r],m=c[r+1];b==="style"?Ic(n,m):b==="dangerouslySetInnerHTML"?Bc(n,m):b==="children"?ka(n,m):Ur(n,b,m,d)}switch(s){case"input":Zi(n,i);break;case"textarea":Nc(n,i);break;case"select":var h=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Lo(n,!!i.multiple,y,!1):h!==!!i.multiple&&(i.defaultValue!=null?Lo(n,!!i.multiple,i.defaultValue,!0):Lo(n,!!i.multiple,i.multiple?[]:"",!1))}n[xa]=i}catch(k){ae(e,e.return,k)}}break;case 6:if(qe(t,e),ot(e),a&4){if(e.stateNode===null)throw Error(S(162));n=e.stateNode,i=e.memoizedProps;try{n.nodeValue=i}catch(k){ae(e,e.return,k)}}break;case 3:if(qe(t,e),ot(e),a&4&&o!==null&&o.memoizedState.isDehydrated)try{Sa(t.containerInfo)}catch(k){ae(e,e.return,k)}break;case 4:qe(t,e),ot(e);break;case 13:qe(t,e),ot(e),n=e.child,n.flags&8192&&(i=n.memoizedState!==null,n.stateNode.isHidden=i,!i||n.alternate!==null&&n.alternate.memoizedState!==null||(Hs=re())),a&4&&Wl(e);break;case 22:if(b=o!==null&&o.memoizedState!==null,e.mode&1?(ve=(d=ve)||b,qe(t,e),ve=d):qe(t,e),ot(e),a&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!b&&e.mode&1)for(L=e,b=e.child;b!==null;){for(m=L=b;L!==null;){switch(h=L,y=h.child,h.tag){case 0:case 11:case 14:case 15:fa(4,h,h.return);break;case 1:To(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){a=h,o=h.return;try{t=a,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(k){ae(a,o,k)}}break;case 5:To(h,h.return);break;case 22:if(h.memoizedState!==null){$l(m);continue}}y!==null?(y.return=h,L=y):$l(m)}b=b.sibling}e:for(b=null,m=e;;){if(m.tag===5){if(b===null){b=m;try{n=m.stateNode,d?(i=n.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(s=m.stateNode,c=m.memoizedProps.style,r=c!=null&&c.hasOwnProperty("display")?c.display:null,s.style.display=jc("display",r))}catch(k){ae(e,e.return,k)}}}else if(m.tag===6){if(b===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(k){ae(e,e.return,k)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;b===m&&(b=null),m=m.return}b===m&&(b=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:qe(t,e),ot(e),a&4&&Wl(e);break;case 21:break;default:qe(t,e),ot(e)}}function ot(e){var t=e.flags;if(t&2){try{e:{for(var o=e.return;o!==null;){if(du(o)){var a=o;break e}o=o.return}throw Error(S(160))}switch(a.tag){case 5:var n=a.stateNode;a.flags&32&&(ka(n,""),a.flags&=-33);var i=Il(e);Fr(e,i,n);break;case 3:case 4:var r=a.stateNode.containerInfo,s=Il(e);Pr(e,s,r);break;default:throw Error(S(161))}}catch(c){ae(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ah(e,t,o){L=e,fu(e)}function fu(e,t,o){for(var a=(e.mode&1)!==0;L!==null;){var n=L,i=n.child;if(n.tag===22&&a){var r=n.memoizedState!==null||ln;if(!r){var s=n.alternate,c=s!==null&&s.memoizedState!==null||ve;s=ln;var d=ve;if(ln=r,(ve=c)&&!d)for(L=n;L!==null;)r=L,c=r.child,r.tag===22&&r.memoizedState!==null?Ol(n):c!==null?(c.return=r,L=c):Ol(n);for(;i!==null;)L=i,fu(i),i=i.sibling;L=n,ln=s,ve=d}zl(e)}else n.subtreeFlags&8772&&i!==null?(i.return=n,L=i):zl(e)}}function zl(e){for(;L!==null;){var t=L;if(t.flags&8772){var o=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ve||ii(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!ve)if(o===null)a.componentDidMount();else{var n=t.elementType===t.type?o.memoizedProps:Qe(t.type,o.memoizedProps);a.componentDidUpdate(n,o.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Hl(t,i,a);break;case 3:var r=t.updateQueue;if(r!==null){if(o=null,t.child!==null)switch(t.child.tag){case 5:o=t.child.stateNode;break;case 1:o=t.child.stateNode}Hl(t,r,o)}break;case 5:var s=t.stateNode;if(o===null&&t.flags&4){o=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&o.focus();break;case"img":c.src&&(o.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var b=d.memoizedState;if(b!==null){var m=b.dehydrated;m!==null&&Sa(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(S(163))}ve||t.flags&512&&Cr(t)}catch(h){ae(t,t.return,h)}}if(t===e){L=null;break}if(o=t.sibling,o!==null){o.return=t.return,L=o;break}L=t.return}}function $l(e){for(;L!==null;){var t=L;if(t===e){L=null;break}var o=t.sibling;if(o!==null){o.return=t.return,L=o;break}L=t.return}}function Ol(e){for(;L!==null;){var t=L;try{switch(t.tag){case 0:case 11:case 15:var o=t.return;try{ii(4,t)}catch(c){ae(t,o,c)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var n=t.return;try{a.componentDidMount()}catch(c){ae(t,n,c)}}var i=t.return;try{Cr(t)}catch(c){ae(t,i,c)}break;case 5:var r=t.return;try{Cr(t)}catch(c){ae(t,r,c)}}}catch(c){ae(t,t.return,c)}if(t===e){L=null;break}var s=t.sibling;if(s!==null){s.return=t.return,L=s;break}L=t.return}}var nh=Math.ceil,$n=wt.ReactCurrentDispatcher,Rs=wt.ReactCurrentOwner,Oe=wt.ReactCurrentBatchConfig,$=0,fe=null,se=null,be=0,Ae=0,xo=Vt(0),de=0,Ea=null,lo=0,ri=0,_s=0,ha=null,Ce=null,Hs=0,Wo=1/0,ct=null,On=!1,Dr=null,Bt=null,cn=!1,Ft=null,Vn=0,pa=0,Er=null,wn=-1,vn=0;function He(){return $&6?re():wn!==-1?wn:wn=re()}function jt(e){return e.mode&1?$&2&&be!==0?be&-be:zf.transition!==null?(vn===0&&(vn=Yc()),vn):(e=V,e!==0||(e=window.event,e=e===void 0?16:nd(e.type)),e):1}function Xe(e,t,o,a){if(50<pa)throw pa=0,Er=null,Error(S(185));Ma(e,o,a),(!($&2)||e!==fe)&&(e===fe&&(!($&2)&&(ri|=o),de===4&&Lt(e,be)),Ee(e,a),o===1&&$===0&&!(t.mode&1)&&(Wo=re()+500,oi&&Gt()))}function Ee(e,t){var o=e.callbackNode;Wm(e,t);var a=xn(e,e===fe?be:0);if(a===0)o!==null&&Js(o),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(o!=null&&Js(o),t===1)e.tag===0?Wf(Vl.bind(null,e)):Rd(Vl.bind(null,e)),Mf(function(){!($&6)&&Gt()}),o=null;else{switch(Jc(a)){case 1:o=Yr;break;case 4:o=Qc;break;case 16:o=Tn;break;case 536870912:o=Zc;break;default:o=Tn}o=vu(o,hu.bind(null,e))}e.callbackPriority=t,e.callbackNode=o}}function hu(e,t){if(wn=-1,vn=0,$&6)throw Error(S(327));var o=e.callbackNode;if(Eo()&&e.callbackNode!==o)return null;var a=xn(e,e===fe?be:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=Gn(e,a);else{t=a;var n=$;$|=2;var i=bu();(fe!==e||be!==t)&&(ct=null,Wo=re()+500,ao(e,t));do try{sh();break}catch(s){pu(e,s)}while(!0);ds(),$n.current=i,$=n,se!==null?t=0:(fe=null,be=0,t=de)}if(t!==0){if(t===2&&(n=rr(e),n!==0&&(a=n,t=Ar(e,n))),t===1)throw o=Ea,ao(e,0),Lt(e,a),Ee(e,re()),o;if(t===6)Lt(e,a);else{if(n=e.current.alternate,!(a&30)&&!ih(n)&&(t=Gn(e,a),t===2&&(i=rr(e),i!==0&&(a=i,t=Ar(e,i))),t===1))throw o=Ea,ao(e,0),Lt(e,a),Ee(e,re()),o;switch(e.finishedWork=n,e.finishedLanes=a,t){case 0:case 1:throw Error(S(345));case 2:Xt(e,Ce,ct);break;case 3:if(Lt(e,a),(a&130023424)===a&&(t=Hs+500-re(),10<t)){if(xn(e,0)!==0)break;if(n=e.suspendedLanes,(n&a)!==a){He(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=hr(Xt.bind(null,e,Ce,ct),t);break}Xt(e,Ce,ct);break;case 4:if(Lt(e,a),(a&4194240)===a)break;for(t=e.eventTimes,n=-1;0<a;){var r=31-Je(a);i=1<<r,r=t[r],r>n&&(n=r),a&=~i}if(a=n,a=re()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*nh(a/1960))-a,10<a){e.timeoutHandle=hr(Xt.bind(null,e,Ce,ct),a);break}Xt(e,Ce,ct);break;case 5:Xt(e,Ce,ct);break;default:throw Error(S(329))}}}return Ee(e,re()),e.callbackNode===o?hu.bind(null,e):null}function Ar(e,t){var o=ha;return e.current.memoizedState.isDehydrated&&(ao(e,t).flags|=256),e=Gn(e,t),e!==2&&(t=Ce,Ce=o,t!==null&&Nr(t)),e}function Nr(e){Ce===null?Ce=e:Ce.push.apply(Ce,e)}function ih(e){for(var t=e;;){if(t.flags&16384){var o=t.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var a=0;a<o.length;a++){var n=o[a],i=n.getSnapshot;n=n.value;try{if(!tt(i(),n))return!1}catch{return!1}}}if(o=t.child,t.subtreeFlags&16384&&o!==null)o.return=t,t=o;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Lt(e,t){for(t&=~_s,t&=~ri,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var o=31-Je(t),a=1<<o;e[o]=-1,t&=~a}}function Vl(e){if($&6)throw Error(S(327));Eo();var t=xn(e,0);if(!(t&1))return Ee(e,re()),null;var o=Gn(e,t);if(e.tag!==0&&o===2){var a=rr(e);a!==0&&(t=a,o=Ar(e,a))}if(o===1)throw o=Ea,ao(e,0),Lt(e,t),Ee(e,re()),o;if(o===6)throw Error(S(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xt(e,Ce,ct),Ee(e,re()),null}function Ts(e,t){var o=$;$|=1;try{return e(t)}finally{$=o,$===0&&(Wo=re()+500,oi&&Gt())}}function co(e){Ft!==null&&Ft.tag===0&&!($&6)&&Eo();var t=$;$|=1;var o=Oe.transition,a=V;try{if(Oe.transition=null,V=1,e)return e()}finally{V=a,Oe.transition=o,$=t,!($&6)&&Gt()}}function xs(){Ae=xo.current,q(xo)}function ao(e,t){e.finishedWork=null,e.finishedLanes=0;var o=e.timeoutHandle;if(o!==-1&&(e.timeoutHandle=-1,Nf(o)),se!==null)for(o=se.return;o!==null;){var a=o;switch(ss(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Dn();break;case 3:jo(),q(Fe),q(Se),bs();break;case 5:ps(a);break;case 4:jo();break;case 13:q(X);break;case 19:q(X);break;case 10:us(a.type._context);break;case 22:case 23:xs()}o=o.return}if(fe=e,se=e=It(e.current,null),be=Ae=t,de=0,Ea=null,_s=ri=lo=0,Ce=ha=null,to!==null){for(t=0;t<to.length;t++)if(o=to[t],a=o.interleaved,a!==null){o.interleaved=null;var n=a.next,i=o.pending;if(i!==null){var r=i.next;i.next=n,a.next=r}o.pending=a}to=null}return e}function pu(e,t){do{var o=se;try{if(ds(),gn.current=zn,Wn){for(var a=ee.memoizedState;a!==null;){var n=a.queue;n!==null&&(n.pending=null),a=a.next}Wn=!1}if(so=0,me=ce=ee=null,ma=!1,Pa=0,Rs.current=null,o===null||o.return===null){de=1,Ea=t,se=null;break}e:{var i=e,r=o.return,s=o,c=t;if(t=be,s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,b=s,m=b.tag;if(!(b.mode&1)&&(m===0||m===11||m===15)){var h=b.alternate;h?(b.updateQueue=h.updateQueue,b.memoizedState=h.memoizedState,b.lanes=h.lanes):(b.updateQueue=null,b.memoizedState=null)}var y=Fl(r);if(y!==null){y.flags&=-257,Dl(y,r,s,i,t),y.mode&1&&Pl(i,d,t),t=y,c=d;var v=t.updateQueue;if(v===null){var k=new Set;k.add(c),t.updateQueue=k}else v.add(c);break e}else{if(!(t&1)){Pl(i,d,t),Ls();break e}c=Error(S(426))}}else if(Y&&s.mode&1){var _=Fl(r);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Dl(_,r,s,i,t),ls(Io(c,s));break e}}i=c=Io(c,s),de!==4&&(de=2),ha===null?ha=[i]:ha.push(i),i=r;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=Jd(i,c,t);_l(i,p);break e;case 1:s=c;var u=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof u.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Bt===null||!Bt.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=Xd(i,s,t);_l(i,w);break e}}i=i.return}while(i!==null)}ku(o)}catch(H){t=H,se===o&&o!==null&&(se=o=o.return);continue}break}while(!0)}function bu(){var e=$n.current;return $n.current=zn,e===null?zn:e}function Ls(){(de===0||de===3||de===2)&&(de=4),fe===null||!(lo&268435455)&&!(ri&268435455)||Lt(fe,be)}function Gn(e,t){var o=$;$|=2;var a=bu();(fe!==e||be!==t)&&(ct=null,ao(e,t));do try{rh();break}catch(n){pu(e,n)}while(!0);if(ds(),$=o,$n.current=a,se!==null)throw Error(S(261));return fe=null,be=0,de}function rh(){for(;se!==null;)gu(se)}function sh(){for(;se!==null&&!Fm();)gu(se)}function gu(e){var t=wu(e.alternate,e,Ae);e.memoizedProps=e.pendingProps,t===null?ku(e):se=t,Rs.current=null}function ku(e){var t=e;do{var o=t.alternate;if(e=t.return,t.flags&32768){if(o=eh(o,t),o!==null){o.flags&=32767,se=o;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{de=6,se=null;return}}else if(o=Xf(o,t,Ae),o!==null){se=o;return}if(t=t.sibling,t!==null){se=t;return}se=t=e}while(t!==null);de===0&&(de=5)}function Xt(e,t,o){var a=V,n=Oe.transition;try{Oe.transition=null,V=1,lh(e,t,o,a)}finally{Oe.transition=n,V=a}return null}function lh(e,t,o,a){do Eo();while(Ft!==null);if($&6)throw Error(S(327));o=e.finishedWork;var n=e.finishedLanes;if(o===null)return null;if(e.finishedWork=null,e.finishedLanes=0,o===e.current)throw Error(S(177));e.callbackNode=null,e.callbackPriority=0;var i=o.lanes|o.childLanes;if(zm(e,i),e===fe&&(se=fe=null,be=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||cn||(cn=!0,vu(Tn,function(){return Eo(),null})),i=(o.flags&15990)!==0,o.subtreeFlags&15990||i){i=Oe.transition,Oe.transition=null;var r=V;V=1;var s=$;$|=4,Rs.current=null,oh(e,o),mu(o,e),Lf(mr),Ln=!!ur,mr=ur=null,e.current=o,ah(o),Dm(),$=s,V=r,Oe.transition=i}else e.current=o;if(cn&&(cn=!1,Ft=e,Vn=n),i=e.pendingLanes,i===0&&(Bt=null),Nm(o.stateNode),Ee(e,re()),t!==null)for(a=e.onRecoverableError,o=0;o<t.length;o++)n=t[o],a(n.value,{componentStack:n.stack,digest:n.digest});if(On)throw On=!1,e=Dr,Dr=null,e;return Vn&1&&e.tag!==0&&Eo(),i=e.pendingLanes,i&1?e===Er?pa++:(pa=0,Er=e):pa=0,Gt(),null}function Eo(){if(Ft!==null){var e=Jc(Vn),t=Oe.transition,o=V;try{if(Oe.transition=null,V=16>e?16:e,Ft===null)var a=!1;else{if(e=Ft,Ft=null,Vn=0,$&6)throw Error(S(331));var n=$;for($|=4,L=e.current;L!==null;){var i=L,r=i.child;if(L.flags&16){var s=i.deletions;if(s!==null){for(var c=0;c<s.length;c++){var d=s[c];for(L=d;L!==null;){var b=L;switch(b.tag){case 0:case 11:case 15:fa(8,b,i)}var m=b.child;if(m!==null)m.return=b,L=m;else for(;L!==null;){b=L;var h=b.sibling,y=b.return;if(cu(b),b===d){L=null;break}if(h!==null){h.return=y,L=h;break}L=y}}}var v=i.alternate;if(v!==null){var k=v.child;if(k!==null){v.child=null;do{var _=k.sibling;k.sibling=null,k=_}while(k!==null)}}L=i}}if(i.subtreeFlags&2064&&r!==null)r.return=i,L=r;else e:for(;L!==null;){if(i=L,i.flags&2048)switch(i.tag){case 0:case 11:case 15:fa(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,L=p;break e}L=i.return}}var u=e.current;for(L=u;L!==null;){r=L;var g=r.child;if(r.subtreeFlags&2064&&g!==null)g.return=r,L=g;else e:for(r=u;L!==null;){if(s=L,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:ii(9,s)}}catch(H){ae(s,s.return,H)}if(s===r){L=null;break e}var w=s.sibling;if(w!==null){w.return=s.return,L=w;break e}L=s.return}}if($=n,Gt(),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(Yn,e)}catch{}a=!0}return a}finally{V=o,Oe.transition=t}}return!1}function Gl(e,t,o){t=Io(o,t),t=Jd(e,t,1),e=Mt(e,t,1),t=He(),e!==null&&(Ma(e,1,t),Ee(e,t))}function ae(e,t,o){if(e.tag===3)Gl(e,e,o);else for(;t!==null;){if(t.tag===3){Gl(t,e,o);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Bt===null||!Bt.has(a))){e=Io(o,e),e=Xd(t,e,1),t=Mt(t,e,1),e=He(),t!==null&&(Ma(t,1,e),Ee(t,e));break}}t=t.return}}function ch(e,t,o){var a=e.pingCache;a!==null&&a.delete(t),t=He(),e.pingedLanes|=e.suspendedLanes&o,fe===e&&(be&o)===o&&(de===4||de===3&&(be&130023424)===be&&500>re()-Hs?ao(e,0):_s|=o),Ee(e,t)}function yu(e,t){t===0&&(e.mode&1?(t=Ja,Ja<<=1,!(Ja&130023424)&&(Ja=4194304)):t=1);var o=He();e=gt(e,t),e!==null&&(Ma(e,t,o),Ee(e,o))}function dh(e){var t=e.memoizedState,o=0;t!==null&&(o=t.retryLane),yu(e,o)}function uh(e,t){var o=0;switch(e.tag){case 13:var a=e.stateNode,n=e.memoizedState;n!==null&&(o=n.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(S(314))}a!==null&&a.delete(t),yu(e,o)}var wu;wu=function(e,t,o){if(e!==null)if(e.memoizedProps!==t.pendingProps||Fe.current)Pe=!0;else{if(!(e.lanes&o)&&!(t.flags&128))return Pe=!1,Jf(e,t,o);Pe=!!(e.flags&131072)}else Pe=!1,Y&&t.flags&1048576&&_d(t,Nn,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;yn(e,t),e=t.pendingProps;var n=No(t,Se.current);Do(t,o),n=ks(null,t,a,e,n,o);var i=ys();return t.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,De(a)?(i=!0,En(t)):i=!1,t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,fs(t),n.updater=ni,t.stateNode=n,n._reactInternals=t,vr(t,a,e,o),t=_r(null,t,a,!0,i,o)):(t.tag=0,Y&&i&&rs(t),_e(null,t,n,o),t=t.child),t;case 16:a=t.elementType;e:{switch(yn(e,t),e=t.pendingProps,n=a._init,a=n(a._payload),t.type=a,n=t.tag=fh(a),e=Qe(a,e),n){case 0:t=Rr(null,t,a,e,o);break e;case 1:t=Nl(null,t,a,e,o);break e;case 11:t=El(null,t,a,e,o);break e;case 14:t=Al(null,t,a,Qe(a.type,e),o);break e}throw Error(S(306,a,""))}return t;case 0:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:Qe(a,n),Rr(e,t,a,n,o);case 1:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:Qe(a,n),Nl(e,t,a,n,o);case 3:e:{if(au(t),e===null)throw Error(S(387));a=t.pendingProps,i=t.memoizedState,n=i.element,Pd(e,t),jn(t,a,null,o);var r=t.memoizedState;if(a=r.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:r.cache,pendingSuspenseBoundaries:r.pendingSuspenseBoundaries,transitions:r.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){n=Io(Error(S(423)),t),t=Ml(e,t,a,o,n);break e}else if(a!==n){n=Io(Error(S(424)),t),t=Ml(e,t,a,o,n);break e}else for(Ne=Nt(t.stateNode.containerInfo.firstChild),Me=t,Y=!0,Ye=null,o=Ld(t,null,a,o),t.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Mo(),a===n){t=kt(e,t,o);break e}_e(e,t,a,o)}t=t.child}return t;case 5:return Fd(t),e===null&&kr(t),a=t.type,n=t.pendingProps,i=e!==null?e.memoizedProps:null,r=n.children,fr(a,n)?r=null:i!==null&&fr(a,i)&&(t.flags|=32),ou(e,t),_e(e,t,r,o),t.child;case 6:return e===null&&kr(t),null;case 13:return nu(e,t,o);case 4:return hs(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Bo(t,null,a,o):_e(e,t,a,o),t.child;case 11:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:Qe(a,n),El(e,t,a,n,o);case 7:return _e(e,t,t.pendingProps,o),t.child;case 8:return _e(e,t,t.pendingProps.children,o),t.child;case 12:return _e(e,t,t.pendingProps.children,o),t.child;case 10:e:{if(a=t.type._context,n=t.pendingProps,i=t.memoizedProps,r=n.value,G(Mn,a._currentValue),a._currentValue=r,i!==null)if(tt(i.value,r)){if(i.children===n.children&&!Fe.current){t=kt(e,t,o);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){r=i.child;for(var c=s.firstContext;c!==null;){if(c.context===a){if(i.tag===1){c=ft(-1,o&-o),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var b=d.pending;b===null?c.next=c:(c.next=b.next,b.next=c),d.pending=c}}i.lanes|=o,c=i.alternate,c!==null&&(c.lanes|=o),yr(i.return,o,t),s.lanes|=o;break}c=c.next}}else if(i.tag===10)r=i.type===t.type?null:i.child;else if(i.tag===18){if(r=i.return,r===null)throw Error(S(341));r.lanes|=o,s=r.alternate,s!==null&&(s.lanes|=o),yr(r,o,t),r=i.sibling}else r=i.child;if(r!==null)r.return=i;else for(r=i;r!==null;){if(r===t){r=null;break}if(i=r.sibling,i!==null){i.return=r.return,r=i;break}r=r.return}i=r}_e(e,t,n.children,o),t=t.child}return t;case 9:return n=t.type,a=t.pendingProps.children,Do(t,o),n=Ve(n),a=a(n),t.flags|=1,_e(e,t,a,o),t.child;case 14:return a=t.type,n=Qe(a,t.pendingProps),n=Qe(a.type,n),Al(e,t,a,n,o);case 15:return eu(e,t,t.type,t.pendingProps,o);case 17:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:Qe(a,n),yn(e,t),t.tag=1,De(a)?(e=!0,En(t)):e=!1,Do(t,o),Yd(t,a,n),vr(t,a,n,o),_r(null,t,a,!0,e,o);case 19:return iu(e,t,o);case 22:return tu(e,t,o)}throw Error(S(156,t.tag))};function vu(e,t){return qc(e,t)}function mh(e,t,o,a){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $e(e,t,o,a){return new mh(e,t,o,a)}function Cs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fh(e){if(typeof e=="function")return Cs(e)?1:0;if(e!=null){if(e=e.$$typeof,e===qr)return 11;if(e===Qr)return 14}return 2}function It(e,t){var o=e.alternate;return o===null?(o=$e(e.tag,t,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=t,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&14680064,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,t=e.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o}function Sn(e,t,o,a,n,i){var r=2;if(a=e,typeof e=="function")Cs(e)&&(r=1);else if(typeof e=="string")r=5;else e:switch(e){case go:return no(o.children,n,i,t);case Kr:r=8,n|=8;break;case Gi:return e=$e(12,o,t,n|2),e.elementType=Gi,e.lanes=i,e;case Ui:return e=$e(13,o,t,n),e.elementType=Ui,e.lanes=i,e;case Ki:return e=$e(19,o,t,n),e.elementType=Ki,e.lanes=i,e;case Fc:return si(o,n,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Cc:r=10;break e;case Pc:r=9;break e;case qr:r=11;break e;case Qr:r=14;break e;case Ht:r=16,a=null;break e}throw Error(S(130,e==null?e:typeof e,""))}return t=$e(r,o,t,n),t.elementType=e,t.type=a,t.lanes=i,t}function no(e,t,o,a){return e=$e(7,e,a,t),e.lanes=o,e}function si(e,t,o,a){return e=$e(22,e,a,t),e.elementType=Fc,e.lanes=o,e.stateNode={isHidden:!1},e}function Wi(e,t,o){return e=$e(6,e,null,t),e.lanes=o,e}function zi(e,t,o){return t=$e(4,e.children!==null?e.children:[],e.key,t),t.lanes=o,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function hh(e,t,o,a,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vi(0),this.expirationTimes=vi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.identifierPrefix=a,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function Ps(e,t,o,a,n,i,r,s,c){return e=new hh(e,t,o,s,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=$e(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:a,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},fs(i),e}function ph(e,t,o){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bo,key:a==null?null:""+a,children:e,containerInfo:t,implementation:o}}function Su(e){if(!e)return zt;e=e._reactInternals;e:{if(mo(e)!==e||e.tag!==1)throw Error(S(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(De(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(S(171))}if(e.tag===1){var o=e.type;if(De(o))return Sd(e,o,t)}return t}function Ru(e,t,o,a,n,i,r,s,c){return e=Ps(o,a,!0,e,n,i,r,s,c),e.context=Su(null),o=e.current,a=He(),n=jt(o),i=ft(a,n),i.callback=t??null,Mt(o,i,n),e.current.lanes=n,Ma(e,n,a),Ee(e,a),e}function li(e,t,o,a){var n=t.current,i=He(),r=jt(n);return o=Su(o),t.context===null?t.context=o:t.pendingContext=o,t=ft(i,r),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=Mt(n,t,r),e!==null&&(Xe(e,n,r,i),bn(e,n,r)),r}function Un(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ul(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<t?o:t}}function Fs(e,t){Ul(e,t),(e=e.alternate)&&Ul(e,t)}function bh(){return null}var _u=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ds(e){this._internalRoot=e}ci.prototype.render=Ds.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(S(409));li(e,t,null,null)};ci.prototype.unmount=Ds.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;co(function(){li(null,e,null,null)}),t[bt]=null}};function ci(e){this._internalRoot=e}ci.prototype.unstable_scheduleHydration=function(e){if(e){var t=td();e={blockedOn:null,target:e,priority:t};for(var o=0;o<xt.length&&t!==0&&t<xt[o].priority;o++);xt.splice(o,0,e),o===0&&ad(e)}};function Es(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function di(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Kl(){}function gh(e,t,o,a,n){if(n){if(typeof a=="function"){var i=a;a=function(){var d=Un(r);i.call(d)}}var r=Ru(t,a,e,0,null,!1,!1,"",Kl);return e._reactRootContainer=r,e[bt]=r.current,Ha(e.nodeType===8?e.parentNode:e),co(),r}for(;n=e.lastChild;)e.removeChild(n);if(typeof a=="function"){var s=a;a=function(){var d=Un(c);s.call(d)}}var c=Ps(e,0,!1,null,null,!1,!1,"",Kl);return e._reactRootContainer=c,e[bt]=c.current,Ha(e.nodeType===8?e.parentNode:e),co(function(){li(t,c,o,a)}),c}function ui(e,t,o,a,n){var i=o._reactRootContainer;if(i){var r=i;if(typeof n=="function"){var s=n;n=function(){var c=Un(r);s.call(c)}}li(t,r,e,n)}else r=gh(o,t,e,n,a);return Un(r)}Xc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var o=ia(t.pendingLanes);o!==0&&(Jr(t,o|1),Ee(t,re()),!($&6)&&(Wo=re()+500,Gt()))}break;case 13:co(function(){var a=gt(e,1);if(a!==null){var n=He();Xe(a,e,1,n)}}),Fs(e,1)}};Xr=function(e){if(e.tag===13){var t=gt(e,134217728);if(t!==null){var o=He();Xe(t,e,134217728,o)}Fs(e,134217728)}};ed=function(e){if(e.tag===13){var t=jt(e),o=gt(e,t);if(o!==null){var a=He();Xe(o,e,t,a)}Fs(e,t)}};td=function(){return V};od=function(e,t){var o=V;try{return V=e,t()}finally{V=o}};ar=function(e,t,o){switch(t){case"input":if(Zi(e,o),t=o.name,o.type==="radio"&&t!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<o.length;t++){var a=o[t];if(a!==e&&a.form===e.form){var n=ti(a);if(!n)throw Error(S(90));Ec(a),Zi(a,n)}}}break;case"textarea":Nc(e,o);break;case"select":t=o.value,t!=null&&Lo(e,!!o.multiple,t,!1)}};$c=Ts;Oc=co;var kh={usingClientEntryPoint:!1,Events:[ja,vo,ti,Wc,zc,Ts]},oa={findFiberByHostInstance:eo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yh={bundleType:oa.bundleType,version:oa.version,rendererPackageName:oa.rendererPackageName,rendererConfig:oa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Uc(e),e===null?null:e.stateNode},findFiberByHostInstance:oa.findFiberByHostInstance||bh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dn=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dn.isDisabled&&dn.supportsFiber)try{Yn=dn.inject(yh),it=dn}catch{}}je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kh;je.createPortal=function(e,t){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Es(t))throw Error(S(200));return ph(e,t,null,o)};je.createRoot=function(e,t){if(!Es(e))throw Error(S(299));var o=!1,a="",n=_u;return t!=null&&(t.unstable_strictMode===!0&&(o=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(n=t.onRecoverableError)),t=Ps(e,1,!1,null,null,o,!1,a,n),e[bt]=t.current,Ha(e.nodeType===8?e.parentNode:e),new Ds(t)};je.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(S(188)):(e=Object.keys(e).join(","),Error(S(268,e)));return e=Uc(t),e=e===null?null:e.stateNode,e};je.flushSync=function(e){return co(e)};je.hydrate=function(e,t,o){if(!di(t))throw Error(S(200));return ui(null,e,t,!0,o)};je.hydrateRoot=function(e,t,o){if(!Es(e))throw Error(S(405));var a=o!=null&&o.hydratedSources||null,n=!1,i="",r=_u;if(o!=null&&(o.unstable_strictMode===!0&&(n=!0),o.identifierPrefix!==void 0&&(i=o.identifierPrefix),o.onRecoverableError!==void 0&&(r=o.onRecoverableError)),t=Ru(t,null,e,1,o??null,n,!1,i,r),e[bt]=t.current,Ha(e),a)for(e=0;e<a.length;e++)o=a[e],n=o._getVersion,n=n(o._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[o,n]:t.mutableSourceEagerHydrationData.push(o,n);return new ci(t)};je.render=function(e,t,o){if(!di(t))throw Error(S(200));return ui(null,e,t,!1,o)};je.unmountComponentAtNode=function(e){if(!di(e))throw Error(S(40));return e._reactRootContainer?(co(function(){ui(null,null,e,!1,function(){e._reactRootContainer=null,e[bt]=null})}),!0):!1};je.unstable_batchedUpdates=Ts;je.unstable_renderSubtreeIntoContainer=function(e,t,o,a){if(!di(o))throw Error(S(200));if(e==null||e._reactInternals===void 0)throw Error(S(38));return ui(e,t,o,!1,a)};je.version="18.3.1-next-f1338f8080-20240426";function Hu(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hu)}catch(e){console.error(e)}}Hu(),Hc.exports=je;var wh=Hc.exports,ql=wh;Oi.createRoot=ql.createRoot,Oi.hydrateRoot=ql.hydrateRoot;const vh=""+new URL("logo-destiny-CbkO7ug_.png",import.meta.url).href,Sh=({children:e,className:t=""})=>l.jsx("div",{className:`mobile-layout ${t}`,children:l.jsx("div",{className:"mobile-layout-content",children:e})}),Rh=({activeTab:e,onTabChange:t})=>l.jsxs("nav",{className:"bottom-nav",children:[l.jsxs("button",{onClick:()=>t("stats"),className:`nav-button ${e==="stats"?"active":""}`,children:[l.jsx("span",{className:"nav-button-icon",children:""}),l.jsx("span",{className:"nav-button-label",children:"Hero"})]}),l.jsx("div",{className:"nav-divider"}),l.jsxs("button",{onClick:()=>t("equipment"),className:`nav-button ${e==="equipment"?"active":""}`,children:[l.jsx("span",{className:"nav-button-icon",children:""}),l.jsx("span",{className:"nav-button-label",children:"Inventory"})]}),l.jsx("div",{className:"nav-divider"}),l.jsxs("button",{onClick:()=>t("combat"),className:`nav-button ${e==="combat"?"active":""}`,children:[l.jsx("span",{className:"nav-button-icon",children:""}),l.jsx("span",{className:"nav-button-label",children:"Combat"})]})]}),Ct=({value:e,onChange:t,min:o=0,max:a=9999,label:n})=>{const i=r=>{const s=Math.min(a,Math.max(o,e+r));t(s)};return l.jsxs("div",{className:"number-control",children:[l.jsxs("div",{className:"nc-buttons left",children:[l.jsx("button",{className:"nc-btn nc-btn-large",onClick:()=>i(-10),disabled:e-10<o,"aria-label":"Decrease by 10",children:"-10"}),l.jsx("button",{className:"nc-btn",onClick:()=>i(-1),disabled:e<=o,"aria-label":"Decrease by 1",children:"-"})]}),l.jsxs("div",{className:"nc-display",children:[l.jsx("span",{className:"nc-value",children:e}),n&&l.jsx("span",{className:"nc-label",children:n})]}),l.jsxs("div",{className:"nc-buttons right",children:[l.jsx("button",{className:"nc-btn",onClick:()=>i(1),disabled:e>=a,"aria-label":"Increase by 1",children:"+"}),l.jsx("button",{className:"nc-btn nc-btn-large",onClick:()=>i(10),disabled:e+10>a,"aria-label":"Increase by 10",children:"+10"})]})]})};function A(e){switch(e.toLowerCase()){case"speed":return"";case"die":return"";case"brawn":return"";case"magic":return"";case"armour":return"";case"health":return"";case"money":return"";case"damage":return"";case"damageModifier":return"";case"modifier":return"";case"hero":return"";case"enemy":return"";default:return""}}const Tu={};function f(e){Tu[Ut(e.name)]=e}function Ut(e){return e.replace(/ /g,"-").toLowerCase()}function vt(e){const t=Ut(e);return t?Tu[t]:void 0}function Wa(e){if(!e)return"";const t=e.type;if(e.icon)return e.icon;switch(t){case"speed":return"";case"combat":return"";case"modifier":return"";case"passive":return"";case"special":return"";default:return""}}const xu=[{name:"Gladiator",path:"Warrior",abilities:["Blood Rage","Head Butt"]},{name:"Berserker",path:"Warrior",abilities:["Seeing Red","Raining Blows"]},{name:"Ranger",path:"Warrior",abilities:["Lay of the Land","Nature's Revenge"]},{name:"Cavalier",path:"Warrior",abilities:["Shield Spind","Shield Wall"]},{name:"Shadow Ranger",path:"Warrior",abilities:["Black Rain","Thorn Fist"]},{name:"Inquisitor",path:"Warrior",abilities:["Cleansing Light","Avenging Spirit"]},{name:"Alchemist",path:"Mage",abilities:["Good Taste","Midas Touch"]},{name:"Pyromancer",path:"Mage",abilities:["Ignite","Burn"]},{name:"Medic",path:"Mage",abilities:["Mend","Torniquet"]},{name:"Icelock",path:"Mage",abilities:["Ice Shards","Ice Shield"]},{name:"Necromancer",path:"Mage",abilities:["Shades","Sacrifice"]},{name:"Pickpocket",path:"Rogue",abilities:["Patchwork Pauper","Loot Master"]},{name:"Assassin",path:"Rogue",abilities:["First Strike","Deadly Poison"]},{name:"Shadowstalker",path:"Rogue",abilities:["Shadow Speed","Shadow Fury"]},{name:"Swordsmaster",path:"Rogue",abilities:["Swift Strikes","Ambidextrous"]}];function _h(e){return xu.filter(t=>t.path===e)}function Hh(e){return xu.find(t=>t.name===e)}const za=({title:e,children:t,className:o="",headerContent:a,onClose:n,...i})=>l.jsxs("div",{className:`dq-card ${o}`,...i,children:[(e||a||n)&&l.jsxs("div",{className:"hero-header",children:[e&&l.jsx("h3",{className:"dq-card-title",children:e}),a,n&&l.jsx("button",{className:"close-btn",onClick:n,"aria-label":"Close",children:""})]}),t]}),Th=[{key:"speed",label:"Speed"},{key:"brawn",label:"Brawn"},{key:"magic",label:"Magic"},{key:"armour",label:"Armour"}],xh=({hero:e,activeAbilities:t,onHealthChange:o,onMoneyChange:a,onNameChange:n,onPathChange:i,onCareerChange:r})=>{const{stats:s,money:c}=e,d=st.useMemo(()=>{const m=new Map;return t.forEach(h=>m.set(h,(m.get(h)||0)+1)),Array.from(m).sort((h,y)=>h[0].localeCompare(y[0]))},[t]),b=st.useMemo(()=>e.path?_h(e.path):[],[e.path]);return l.jsx(za,{title:"Hero Sheet",headerContent:null,children:l.jsxs("div",{className:"hero-stats-container",children:[l.jsxs("div",{className:"stat-row",children:[l.jsx("span",{className:"stat-label",children:"Name"}),l.jsx("input",{className:"hero-input",value:e.name,onChange:m=>n(m.target.value),placeholder:"Hero Name"})]}),l.jsxs("div",{className:"stat-row",children:[l.jsx("span",{className:"stat-label",children:"Path"}),l.jsxs("select",{className:"hero-input",value:e.path,onChange:m=>i(m.target.value),children:[l.jsx("option",{value:"",children:"No Path"}),l.jsx("option",{value:"Warrior",children:"Warrior (+15 HP)"}),l.jsx("option",{value:"Mage",children:"Mage (+10 HP)"}),l.jsx("option",{value:"Rogue",children:"Rogue (+5 HP)"})]})]}),l.jsxs("div",{className:"stat-row",children:[l.jsx("span",{className:"stat-label",children:"Career"}),l.jsxs("select",{className:"hero-input",value:e.career,disabled:!e.path,onChange:m=>r(m.target.value),children:[l.jsx("option",{value:"",children:"Select Career..."}),b.map(m=>l.jsx("option",{value:m.name,children:m.name},m.name))]})]}),l.jsxs("div",{className:"stat-row health",children:[l.jsxs("span",{className:"stat-label",children:[l.jsx("span",{className:"stat-icon",children:A("health")})," Health"]}),l.jsx("div",{className:"stat-controls",children:l.jsx(Ct,{value:s.health,onChange:o,max:s.maxHealth,min:0,label:`/ ${s.maxHealth}`})})]}),l.jsxs("div",{className:"stat-row money",children:[l.jsxs("span",{className:"stat-label",children:[l.jsx("span",{className:"stat-icon",children:A("money")})," Money"]}),l.jsx("div",{className:"stat-controls",children:l.jsx(Ct,{value:c,onChange:a,min:0})})]}),l.jsx("div",{className:"attributes-grid",children:Th.map(({key:m,label:h})=>l.jsxs("div",{className:"attribute-square",children:[l.jsx("span",{className:"stat-icon",children:A(m)}),l.jsxs("div",{className:"attribute-row",children:[l.jsx("span",{className:"stat-label",children:h}),l.jsx("span",{className:"stat-value-large",children:s[m]})]})]},m))}),d.length>0&&l.jsxs("div",{className:"abilities-section",children:[l.jsx("h4",{children:"Active Abilities"}),l.jsx("div",{className:"abilities-list",children:d.map(([m,h])=>{const y=vt(m),v=Wa(y);return l.jsxs("div",{className:"ability-row",children:[l.jsx("div",{className:"ability-icon-wrapper",children:l.jsx("span",{className:"ability-icon",children:v})}),l.jsxs("div",{className:"ability-details",children:[l.jsxs("div",{className:"ability-header-row",children:[l.jsx("span",{className:"ability-name",children:m}),h>1&&l.jsxs("span",{className:"ability-count",children:["x",h]})]}),(y==null?void 0:y.description)&&l.jsx("div",{className:"ability-description",children:y.description})]})]},m)})})]})]})})};function $a(e){return e.description?e.description:Object.entries(e.stats).map(([t,o])=>{if(!o)return null;const a=(o>0?`+${o}`:`${o}`)+` ${t}`;let n="";switch(e.duration){case void 0:n=a+"/";break;case 0:n=a;break;default:n=a+`/${e.duration}rd`}return e.visible||(n=`[${n}]`),n}).filter(t=>t!==null).join(", ")}function Lu(e,t){const o={...e};return o.speed+=t.speed??0,o.brawn+=t.brawn??0,o.magic+=t.magic??0,o.armour+=t.armour??0,o.maxHealth+=t.maxHealth??0,o.health=Math.min(o.maxHealth,o.health+(t.health??0)),o.speedDice=(o.speedDice??2)+(t.speedDice??0),o.damageDice=(o.damageDice??1)+(t.damageDice??0),o.damageModifier=(o.damageModifier??0)+(t.damageModifier??0),o}function Ql(e,t,o){return t.reduce((a,n)=>n.target!==o?a:Lu(a,n.stats),e)}const Cu=({label:e,icon:t,item:o,onClick:a,className:n=""})=>l.jsxs("div",{className:`equipment-slot ${o?"equipped":""} ${n}`,onClick:a,children:[l.jsx("span",{className:"slot-icon",children:t}),o?l.jsxs("div",{className:"equipment-item-container",children:[l.jsx("span",{className:"equipment-name-visible",children:o.name}),o.stats&&Object.keys(o.stats).length>0&&l.jsx("span",{className:"equipment-stats-display",children:Object.entries(o.stats).map(([i,r])=>{const s=r,c=A(i);return`${s>0?"+":""}${s} ${c}`}).join(" ")}),o.abilities&&o.abilities.length>0&&l.jsx("span",{className:"equipment-abilities-display",children:o.abilities.map(i=>` ${i}`).join(", ")}),(o.description||o.effect)&&l.jsx("span",{className:"equipment-effect-display",children:o.description||(typeof o.effect=="string"?o.effect:$a(o.effect))})]}):e&&l.jsx("span",{className:"slot-label",children:e})]}),Pu=[{id:"patchwork_cloak",name:"Patchwork cloak",type:"cloak",bookRef:{book:"Legions of Shadows",act:1,section:68},stats:{speed:1},abilities:[],location:"Vendor/Tithebury Cross"},{id:"bat_cape",name:"Bat cape",type:"cloak",bookRef:{book:"Legions of Shadows",act:1,section:114},stats:{speed:1,armour:1},abilities:[],location:"Vendor/Tithebury Cross"},{id:"spindlesilk_cloak",name:"Spindlesilk cloak",type:"cloak",bookRef:{book:"Legions of Shadows",act:1,section:132},stats:{speed:1,armour:2},abilities:["Spindlesilk set"],location:"Vendor/Tithebury Cross"},{id:"chieftains_furs",name:"Chieftain's furs",type:"cloak",bookRef:{book:"Legions of Shadows",act:1,section:260},stats:{armour:1},abilities:[],location:"Goblin chief"},{id:"travellers_cloak",name:"Traveller's cloak",type:"cloak",bookRef:{book:"Legions of Shadows",act:1,section:251},stats:{magic:1,armour:1},abilities:["Charm"],location:"Farmhouse bedroom"},{id:"moth_eaten_blanket",name:"Moth-eaten blanket",type:"cloak",bookRef:{book:"Legions of Shadows",act:1,section:40},stats:{speed:1},abilities:[],location:"Ruffians"},{id:"crusaders_mantle",name:"Crusader's mantle",type:"cloak",bookRef:{book:"Legions of Shadows",act:1,section:160},stats:{speed:1},abilities:["Charm"],location:"Valadin Roth"},{id:"hags_shawl",name:"Hag's shawl",type:"cloak",bookRef:{book:"Legions of Shadows",act:1,section:155},stats:{magic:1,armour:1},abilities:["Charm"],location:"Witch"},{id:"savage_pelt",name:"Savage pelt",type:"cloak",bookRef:{book:"Legions of Shadows",act:1,section:26},stats:{brawn:1,magic:1},abilities:["Savagery"],location:"Mauler"},{id:"mottled_cloak",name:"Mottled cloak",type:"cloak",bookRef:{book:"Legions of Shadows",act:2,section:283},stats:{speed:1,armour:1},abilities:[],location:"Mud golem"},{id:"diaphanous_wings",name:"Diaphanous wings",type:"cloak",bookRef:{book:"Legions of Shadows",act:2,section:314},stats:{speed:1,magic:1},abilities:["Haste"],location:"Hive queen"},{id:"cloak_of_white_winter",name:"Cloak of white winter",type:"cloak",bookRef:{book:"Legions of Shadows",act:2,section:385},stats:{speed:1,brawn:2},abilities:["Piercing"],location:"Baron Greylock"},{id:"cloak_of_shadows",name:"Cloak of shadows",type:"cloak",bookRef:{book:"Legions of Shadows",act:2,section:487},stats:{speed:1,armour:2},abilities:["Feint"],location:"Count(special)"},{id:"golden_fleece",name:"Golden fleece",type:"cloak",bookRef:{book:"Legions of Shadows",act:2,section:548},stats:{speed:1,armour:2},abilities:["Radiance"],location:"Treasure vault"},{id:"phoenix_feathers",name:"Phoenix feathers",type:"cloak",bookRef:{book:"Legions of Shadows",act:2,section:565},stats:{speed:1,armour:1},abilities:["Charm"],location:"Phoenix"},{id:"destroyers_drape",name:"Destroyer's drape",type:"cloak",bookRef:{book:"Legions of Shadows",act:2,section:568},stats:{speed:2,armour:1},abilities:["Backfire"],location:"Inferno"},{id:"majestic_shoulders",name:"Majestic shoulders",type:"cloak",bookRef:{book:"Legions of Shadows",act:2,section:397},stats:{speed:2,armour:2},abilities:["Royal regalia set"],location:"Puzzle chest",careerPreference:"Warrior"},{id:"sparkcraft_mantle",name:"Sparkcraft mantle",type:"cloak",bookRef:{book:"Legions of Shadows",act:2,section:509},stats:{speed:2,magic:2},abilities:["Lifespark"],location:"Swamp giant",careerPreference:"Mage"},{id:"kaggadours_cloak",name:"Kaggadour's cloak",type:"cloak",bookRef:{book:"Legions of Shadows",act:2,section:443},stats:{speed:2,brawn:2},abilities:["Savagery"],location:"Stone giant"},{id:"mantle_of_spite",name:"Mantle of spite",type:"cloak",bookRef:{book:"Legions of Shadows",act:2,section:713},stats:{speed:2,magic:3},abilities:["Curse"],location:"Gargoyle chest",careerPreference:"Mage"},{id:"mane_of_the_black_lion",name:"Mane of the Black Lion",type:"cloak",bookRef:{book:"Legions of Shadows",act:2,section:379},stats:{speed:1,brawn:3},abilities:["Fearless"],location:"Nalsa"},{id:"winter_pelt",name:"Winter pelt",type:"cloak",bookRef:{book:"Legions of Shadows",act:2,section:359},stats:{speed:2,armour:2},abilities:["Savagery"],location:"King Louis"},{id:"flame_mantle",name:"Flame mantle",type:"cloak",bookRef:{book:"Legions of Shadows",act:2,section:377},stats:{speed:2,armour:1},abilities:["Fire aura"],location:"Vesuvius"},{id:"dragonscale_cloak",name:"Dragonscale cloak",type:"cloak",bookRef:{book:"Legions of Shadows",act:2,section:708},stats:{speed:2,armour:2},abilities:["Second skin"],location:"Kindle"},{id:"slipstream_silk",name:"Slipstream silk",type:"cloak",bookRef:{book:"Legions of Shadows",act:3,section:914},stats:{speed:3,magic:2},abilities:["Surge"],location:"Waldo's wares",careerPreference:"Mage"},{id:"valiant_spaulders",name:"Valiant spaulders",type:"cloak",bookRef:{book:"Legions of Shadows",act:3,section:815},stats:{speed:2,brawn:2},abilities:["Overpower"],location:"Waldo's wares",careerPreference:"Warrior"},{id:"spiked_boneguards",name:"Spiked boneguards",type:"cloak",bookRef:{book:"Legions of Shadows",act:3,section:759},stats:{speed:2,armour:2},abilities:["Piercing"],location:"Flesh golem"},{id:"broken_wings",name:"Broken wings",type:"cloak",bookRef:{book:"Legions of Shadows",act:3,section:906},stats:{speed:2,brawn:2},abilities:["Fearless"],location:"Bone angel"},{id:"cloak_of_ceremonies",name:"Cloak of ceremonies",type:"cloak",bookRef:{book:"Legions of Shadows",act:3,section:892},stats:{speed:2,magic:2},abilities:["Radiance"],location:"Arthurian's vault"},{id:"stalwart_shoulders",name:"Stalwart shoulders",type:"cloak",bookRef:{book:"Legions of Shadows",act:3,section:565},stats:{speed:2,armour:2},abilities:["Might of stone"],location:"Yorvic"},{id:"gloom_shade",name:"Gloom shade",type:"cloak",bookRef:{book:"Legions of Shadows",act:3,section:622},stats:{speed:2,brawn:3},abilities:["Steal"],location:"Brothers' Grimm",careerPreference:"Rogue"},{id:"pauldrons_of_might",name:"Pauldrons of might",type:"cloak",bookRef:{book:"Legions of Shadows",act:3,section:727},stats:{speed:2,brawn:3},abilities:["Fortitude"],location:"Brothers' Grimm",careerPreference:"Warrior"},{id:"cloak_of_the_wind",name:"Cloak of the wind",type:"cloak",bookRef:{book:"Legions of Shadows",act:3,section:762},stats:{speed:3,armour:1},abilities:["Surge"],location:"Scout",careerPreference:"Mage"},{id:"nemesis_shroud",name:"Nemesis shroud",type:"cloak",bookRef:{book:"Legions of Shadows",act:3,section:765},stats:{speed:2,brawn:3},abilities:["Dark pact"],location:"Malcontent"},{id:"veil_of_dark_synergies",name:"Veil of dark synergies",type:"cloak",bookRef:{book:"Legions of Shadows",act:3,section:865},stats:{speed:2,magic:3},abilities:["Second wind"],location:"Daarko",careerPreference:"Mage"},{id:"spore_shoulders",name:"Spore shoulders",type:"cloak",bookRef:{book:"Legions of Shadows",act:3,section:845},stats:{speed:2,magic:3},abilities:["Spore cloud"],location:"Decayers",careerPreference:"Mage"},{id:"hulking_shoulders",name:"Hulking shoulders",type:"cloak",bookRef:{book:"Legions of Shadows",act:3,section:847},stats:{speed:2,brawn:3},abilities:["Barbs"],location:"The wrecker",careerPreference:"Rogue"},{id:"simple_coif",name:"Simple coif",type:"head",bookRef:{book:"Legions of Shadows",act:1,section:175},stats:{brawn:1,armour:1},abilities:[],location:"Vendor/Tithebury Cross"},{id:"all_weather_hat",name:"All-weather hat",type:"head",bookRef:{book:"Legions of Shadows",act:1,section:243},stats:{speed:1},abilities:[],location:"Weather wizard"},{id:"rusted_helm",name:"Rusted helm",type:"head",bookRef:{book:"Legions of Shadows",act:1,section:166},stats:{speed:1},abilities:[],location:"Skeletons"},{id:"maulers_maw",name:"Mauler's maw",type:"head",bookRef:{book:"Legions of Shadows",act:1,section:26},stats:{speed:1,armour:1},abilities:["Fearless"],location:"Mauler"},{id:"trolls_nose_ring",name:"Troll's nose-ring",type:"head",bookRef:{book:"Legions of Shadows",act:1,section:122},stats:{brawn:2},abilities:["Charm"],location:"Bridge troll"},{id:"ramrod_helm",name:"Ramrod helm",type:"head",bookRef:{book:"Legions of Shadows",act:2,section:311},stats:{speed:1,armour:2},abilities:["Haste"],location:"No Hope tinker"},{id:"footpads_cover",name:"Footpad's cover",type:"head",bookRef:{book:"Legions of Shadows",act:2,section:338},stats:{brawn:2,armour:1},abilities:[],location:"Thievies' guild",careerPreference:"Rogue"},{id:"skull_cap",name:"Skull cap",type:"head",bookRef:{book:"Legions of Shadows",act:2,section:287},stats:{speed:1,armour:1},abilities:[],location:"Mushroom forest"},{id:"great_helm",name:"Great helm",type:"head",bookRef:{book:"Legions of Shadows",act:2,section:494},stats:{speed:1,brawn:1},abilities:[],location:"Slime"},{id:"wyrm_crest",name:"Wyrm crest",type:"head",bookRef:{book:"Legions of Shadows",act:2,section:517},stats:{magic:1,armour:2},abilities:[],location:"Wormwood (normal)"},{id:"wyrm_crown",name:"Wyrm crown",type:"head",bookRef:{book:"Legions of Shadows",act:2,section:533},stats:{magic:2,armour:2},abilities:[],location:"Wormwood (special)"},{id:"nightguard_cover",name:"Nightguard cover",type:"head",bookRef:{book:"Legions of Shadows",act:2,section:548},stats:{speed:1,armour:2},abilities:["Steadfast"],location:"Treasure vault"},{id:"flame_bathed_cowl",name:"Flame-bathed cowl",type:"head",bookRef:{book:"Legions of Shadows",act:2,section:655},stats:{brawn:2,armour:1},abilities:["Sear"],location:"Inferno"},{id:"jesters_cap",name:"Jester's cap",type:"head",bookRef:{book:"Legions of Shadows",act:2,section:374},stats:{speed:1,brawn:1},abilities:["Last laugh"],location:"Jester"},{id:"masque_of_deceit",name:"Masque of deceit",type:"head",bookRef:{book:"Legions of Shadows",act:2,section:422},stats:{speed:1,armour:2},abilities:["Deceieve"],location:"Count (normal)"},{id:"pirates_bandanna",name:"Pirate's bandanna",type:"head",bookRef:{book:"Legions of Shadows",act:2,section:716},stats:{speed:1,brawn:2},abilities:[],location:"Kalimari"},{id:"vanquishers_helm",name:"Vanquisher's helm",type:"head",bookRef:{book:"Legions of Shadows",act:2,section:581},stats:{brawn:2,armour:2},abilities:["Vanquish"],location:"Armoury",careerPreference:"Warrior"},{id:"night_watch",name:"Night watch",type:"head",bookRef:{book:"Legions of Shadows",act:2,section:583},stats:{speed:1,brawn:2},abilities:["Steadfast"],location:"Raptor pit",careerPreference:"Rogue"},{id:"cover_of_darkness",name:"Cover of darkness",type:"head",bookRef:{book:"Legions of Shadows",act:2,section:744},stats:{speed:1,brawn:2},abilities:["Evade"],location:"Gargoyle chest",careerPreference:"Rogue"},{id:"crown_of_command",name:"Crown of command",type:"head",bookRef:{book:"Legions of Shadows",act:2,section:689},stats:{brawn:1,magic:1},abilities:["Command"],location:"Stone giant"},{id:"crown_of_command_upgrade_1_",name:"Crown of command (upgrade 1)",type:"head",bookRef:{book:"Legions of Shadows",act:2,section:689},stats:{brawn:3,magic:3},abilities:["Command"],location:"Stone giant"},{id:"crown_of_command_upgrade_2_",name:"Crown of command (upgrade 2)",type:"head",bookRef:{book:"Legions of Shadows",act:2,section:689},stats:{brawn:5,magic:5},abilities:["Command"],location:"Stone giant"},{id:"tri_horned_hat",name:"Tri-horned hat",type:"head",bookRef:{book:"Legions of Shadows",act:2,section:277},stats:{magic:1,armour:2},abilities:["Charm"],location:"Left-hook Luke"},{id:"horns_of_the_bull",name:"Horns of the bull",type:"head",bookRef:{book:"Legions of Shadows",act:2,section:216},stats:{speed:1,armour:2},abilities:["Charge"],location:"Zen"},{id:"simian_crown",name:"Simian crown",type:"head",bookRef:{book:"Legions of Shadows",act:2,section:359},stats:{speed:1,brawn:2},abilities:["Chill touch"],location:"King Louis"},{id:"desert_keffiyeh",name:"Desert Keffiyeh",type:"head",bookRef:{book:"Legions of Shadows",act:2,section:370},stats:{speed:1,brawn:2},abilities:[],location:"Nasareim"},{id:"agal_of_shifting_sands",name:"Agal of shifting sands",type:"head",bookRef:{book:"Legions of Shadows",act:2,section:370},stats:{magic:2,armour:2},abilities:[],location:"Nasareim"},{id:"wreath_of_woe",name:"Wreath of woe",type:"head",bookRef:{book:"Legions of Shadows",act:2,section:346},stats:{speed:1,magic:3},abilities:["Barbs"],location:"Snapjaw"},{id:"firewalkers_faceguard",name:"Firewalker's faceguard",type:"head",bookRef:{book:"Legions of Shadows",act:2,section:400},stats:{speed:1,armour:3},abilities:["Overpower"],location:"Magmageddon",careerPreference:"Warrior"},{id:"total_eclipse",name:"Total eclipse",type:"head",bookRef:{book:"Legions of Shadows",act:3,section:839},stats:{speed:2,brawn:3},abilities:["Vanish"],location:"Waldo's wares",careerPreference:"Rogue"},{id:"wyvern_jaws",name:"Wyvern jaws",type:"head",bookRef:{book:"Legions of Shadows",act:3,section:776},stats:{magic:3,armour:2},abilities:[],location:"Bone wyvern"},{id:"knuckle_head",name:"Knuckle head",type:"head",bookRef:{book:"Legions of Shadows",act:3,section:695},stats:{speed:1,brawn:2},abilities:["Slam"],location:"Bone construct",careerPreference:"Warrior"},{id:"hood_of_night",name:"Hood of night",type:"head",bookRef:{book:"Legions of Shadows",act:3,section:649},stats:{speed:2,magic:3},abilities:["Charm"],location:"Necromancer"},{id:"enchanted_coif",name:"Enchanted coif",type:"head",bookRef:{book:"Legions of Shadows",act:3,section:677},stats:{speed:2,armour:2},abilities:["Deceive"],location:"Tor knight",careerPreference:"Mage"},{id:"forked_crest",name:"Forked crest",type:"head",bookRef:{book:"Legions of Shadows",act:3,section:775},stats:{speed:1,brawn:3},abilities:["Charge"],location:"Skeleton horde"},{id:"bone_headdress",name:"Bone headdress",type:"head",bookRef:{book:"Legions of Shadows",act:3,section:778},stats:{magic:3,armour:2},abilities:["Charm"],location:"Ghoul pack"},{id:"cracked_spectacles",name:"Cracked spectacles",type:"head",bookRef:{book:"Legions of Shadows",act:3,section:923},stats:{speed:2,magic:2},abilities:["Focus"],location:"Apprentice"},{id:"crown_of_ice",name:"Crown of ice",type:"head",bookRef:{book:"Legions of Shadows",act:3,section:874},stats:{speed:2,magic:3},abilities:["Barbs"],location:"Sammain (special)"},{id:"bone_halo",name:"Bone halo",type:"head",bookRef:{book:"Legions of Shadows",act:3,section:906},stats:{speed:2,magic:3},abilities:["Focus"],location:"Bone angel"},{id:"black_widow",name:"Black widow",type:"head",bookRef:{book:"Legions of Shadows",act:3,section:929},stats:{speed:2,brawn:2},abilities:["Webbed"],location:"Dark Arthurian"},{id:"diadem_of_mastery",name:"Diadem of mastery",type:"head",bookRef:{book:"Legions of Shadows",act:3,section:664},stats:{speed:2,magic:3},abilities:["Dominate"],location:"Brothers' Grimm",careerPreference:"Mage"},{id:"ghouls_collar",name:"Ghoul's collar",type:"head",bookRef:{book:"Legions of Shadows",act:3,section:702},stats:{speed:2,armour:3},abilities:["Piercing"],location:"Ghoulash"},{id:"budaks_blindfold",name:"Budak's blindfold",type:"head",bookRef:{book:"Legions of Shadows",act:3,section:733},stats:{speed:2,brawn:3},abilities:["Second sight"],location:"Budak",careerPreference:"Rogue"},{id:"brain_infusers",name:"Brain infusers",type:"head",bookRef:{book:"Legions of Shadows",act:3,section:642},stats:{speed:2,armour:3},abilities:["Lightning"],location:"Lichenstein"},{id:"the_morgue",name:"The morgue",type:"head",bookRef:{book:"Legions of Shadows",act:3,section:765},stats:{speed:2,magic:3},abilities:["Leech"],location:"Malcontent",careerPreference:"Mage"},{id:"cerebral_helm",name:"Cerebral helm",type:"head",bookRef:{book:"Legions of Shadows",act:3,section:765},stats:{speed:2,magic:3},abilities:["Overload"],location:"Death orb",careerPreference:"Mage"},{id:"cranium_plate",name:"Cranium plate",type:"head",bookRef:{book:"Legions of Shadows",act:3,section:665},stats:{brawn:2,armour:3},abilities:["Fortitide"],location:"Lord of pain"},{id:"dread_mask",name:"Dread mask",type:"head",bookRef:{book:"Legions of Shadows",act:3,section:893},stats:{speed:2,brawn:3},abilities:["Overpower"],location:"Daarko",careerPreference:"Warrior"},{id:"drape_of_shadow",name:"Drape of shadow",type:"head",bookRef:{book:"Legions of Shadows",act:3,section:813},stats:{speed:2,brawn:4},abilities:["Chill touch"],location:"Ghasts"},{id:"thalamus_tiara",name:"Thalamus tiara",type:"head",bookRef:{book:"Legions of Shadows",act:3,section:826},stats:{speed:2,magic:5},abilities:["Haste"],location:"Doom orb",careerPreference:"Mage"},{id:"embroidered_gloves",name:"Embroidered gloves",type:"gloves",bookRef:{book:"Legions of Shadows",act:1,section:68},stats:{speed:1,magic:1},abilities:[],location:"Vendor/Tithebury Cross"},{id:"rat_bitten_gloves",name:"Rat-bitten gloves",type:"gloves",bookRef:{book:"Legions of Shadows",act:1,section:161},stats:{brawn:1,magic:1},abilities:[],location:"Rat swarm"},{id:"half_digested_gauntlets",name:"Half-digested gauntlets",type:"gloves",bookRef:{book:"Legions of Shadows",act:1,section:258},stats:{brawn:1,armour:1},abilities:["Acid"],location:"Burrower wyrm"},{id:"masons_gloves",name:"Mason's gloves",type:"gloves",bookRef:{book:"Legions of Shadows",act:1,section:209},stats:{speed:1},abilities:["First cut"],location:"Crypt chest"},{id:"stone_fists",name:"Stone fists",type:"gloves",bookRef:{book:"Legions of Shadows",act:2,section:522},stats:{brawn:2,armour:1},abilities:[],location:"Treasure vault"},{id:"diamond_gauntlets",name:"Diamond gauntlets",type:"gloves",bookRef:{book:"Legions of Shadows",act:2,section:540},stats:{brawn:2},abilities:["Piercing"],location:"Rumbler"},{id:"vambraces_of_might",name:"Vambraces of might",type:"gloves",bookRef:{book:"Legions of Shadows",act:2,section:568},stats:{speed:1,armour:2},abilities:["Parry"],location:"Inferno"},{id:"prophets_handwraps",name:"Prophet's handwraps",type:"gloves",bookRef:{book:"Legions of Shadows",act:2,section:550},stats:{brawn:1,armour:1},abilities:["Trickster"],location:"Jenlar's cabin"},{id:"nightguard_gloves",name:"Nightguard gloves",type:"gloves",bookRef:{book:"Legions of Shadows",act:2,section:642},stats:{speed:1,armour:2},abilities:["Steadfast"],location:"Armoury",careerPreference:"Rogue"},{id:"nightwalker_gloves",name:"Nightwalker gloves",type:"gloves",bookRef:{book:"Legions of Shadows",act:2,section:765},stats:{speed:1,brawn:2},abilities:["Nightwalker set"],location:"Gargoyle chest",careerPreference:"Rogue"},{id:"battlemages_fists",name:"Battlemage's fists",type:"gloves",bookRef:{book:"Legions of Shadows",act:2,section:414},stats:{magic:3,armour:3},abilities:["Dominate"],location:"Arena champion",careerPreference:"Mage"},{id:"barbed_bracers",name:"Barbed bracers",type:"gloves",bookRef:{book:"Legions of Shadows",act:2,section:346},stats:{speed:1,armour:2},abilities:["Barbs"],location:"Snapjaw"},{id:"gardeners_gloves",name:"Gardener's gloves",type:"gloves",bookRef:{book:"Legions of Shadows",act:2,section:516},stats:{speed:1,armour:2},abilities:["Thorns"],location:"Alchemist bonus quest"},{id:"hydra_scaled_gloves",name:"Hydra-scaled gloves",type:"gloves",bookRef:{book:"Legions of Shadows",act:2,section:389},stats:{magic:2,armour:2},abilities:["Regrowth"],location:"Snapjaw",careerPreference:"Mage"},{id:"hydra_scaled_fists",name:"Hydra-scaled fists",type:"gloves",bookRef:{book:"Legions of Shadows",act:2,section:418},stats:{magic:3,armour:2},abilities:["Regrowth"],location:"Snapjaw",careerPreference:"Mage"},{id:"molten_gauntlets",name:"Molten gauntlets",type:"gloves",bookRef:{book:"Legions of Shadows",act:2,section:377},stats:{brawn:2,armour:1},abilities:["Fire aura"],location:"Vesuvius",careerPreference:"Warrior"},{id:"crimson_cuffs",name:"Crimson cuffs",type:"gloves",bookRef:{book:"Legions of Shadows",act:2,section:400},stats:{speed:1,magic:4},abilities:["Sear"],location:"Magmageddon"},{id:"mortuary_gauntlets",name:"Mortuary gauntlets",type:"gloves",bookRef:{book:"Legions of Shadows",act:3,section:803},stats:{speed:1,armour:3},abilities:["Acid"],location:"Waldo's wares",careerPreference:"Warrior"},{id:"reapers_fists",name:"Reaper's fists",type:"gloves",bookRef:{book:"Legions of Shadows",act:3,section:903},stats:{speed:1,brawn:3},abilities:["Critical strike"],location:"Waldo's wares",careerPreference:"Rogue"},{id:"bestial_gloves",name:"Bestial gloves",type:"gloves",bookRef:{book:"Legions of Shadows",act:3,section:620},stats:{brawn:2,armour:2},abilities:["Adrenaline"],location:"Packmaster"},{id:"gauntlets_of_the_fallen",name:"Gauntlets of the fallen",type:"gloves",bookRef:{book:"Legions of Shadows",act:3,section:617},stats:{brawn:3,armour:2},abilities:["Finery of the fallen"],location:"Tor knight",careerPreference:"Warrior"},{id:"bone_bracers",name:"Bone bracers",type:"gloves",bookRef:{book:"Legions of Shadows",act:3,section:759},stats:{speed:1,brawn:2},abilities:["Bleed"],location:"Flesh golem"},{id:"branded_bracers",name:"Branded bracers",type:"gloves",bookRef:{book:"Legions of Shadows",act:3,section:880},stats:{brawn:2,armour:2},abilities:["Regrowth"],location:"Branded brute"},{id:"tainted_wraps",name:"Tainted wraps",type:"gloves",bookRef:{book:"Legions of Shadows",act:3,section:912},stats:{speed:1,magic:3},abilities:["Curse"],location:"Malaise"},{id:"devourers_grips",name:"Devourer's grips",type:"gloves",bookRef:{book:"Legions of Shadows",act:3,section:664},stats:{speed:1,magic:4},abilities:["Rust"],location:"Brothers'Grimm",careerPreference:"Mage"},{id:"bracelet_of_iron",name:"Bracelet of iron",type:"gloves",bookRef:{book:"Legions of Shadows",act:3,section:736},stats:{brawn:2,armour:3},abilities:["Might of stone"],location:"Ghoulash chains"},{id:"bracelet_of_fire",name:"Bracelet of fire",type:"gloves",bookRef:{book:"Legions of Shadows",act:3,section:736},stats:{speed:1,magic:3},abilities:["Embers"],location:"Ghoulash chains",careerPreference:"Mage"},{id:"bracelet_of_fury",name:"Bracelet of fury",type:"gloves",bookRef:{book:"Legions of Shadows",act:3,section:736},stats:{speed:1,brawn:4},abilities:["Adrenaline"],location:"Ghoulash chains"},{id:"bracelet_of_power",name:"Bracelet of power",type:"gloves",bookRef:{book:"Legions of Shadows",act:3,section:702},stats:{speed:1,magic:3},abilities:["Focus"],location:"Ghoulash",careerPreference:"Mage"},{id:"razor_fists",name:"Razor fists",type:"gloves",bookRef:{book:"Legions of Shadows",act:3,section:722},stats:{brawn:1,armour:3},abilities:["Rake"],location:"Bone giant"},{id:"abattoir_gloves",name:"Abattoir gloves",type:"gloves",bookRef:{book:"Legions of Shadows",act:3,section:642},stats:{speed:1,magic:4},abilities:["Bleed"],location:"Lichenstein",careerPreference:"Mage"},{id:"silk_robe",name:"Silk robe",type:"chest",bookRef:{book:"Legions of Shadows",act:1,section:68},stats:{magic:1},abilities:[],location:"Vendor/Tithebury Cross"},{id:"goblin_leathers",name:"Goblin leathers",type:"chest",bookRef:{book:"Legions of Shadows",act:1,section:150},stats:{armour:1},abilities:[],location:"Goblin"},{id:"huntsmans_jerkin",name:"Huntsman's jerkin",type:"chest",bookRef:{book:"Legions of Shadows",act:1,section:228},stats:{armour:1},abilities:[],location:"Huntsman"},{id:"studded_leather",name:"Studded leather",type:"chest",bookRef:{book:"Legions of Shadows",act:1,section:125},stats:{armour:2},abilities:[],location:"Were rat"},{id:"rain_soaked_robe",name:"Rain-soaked robe",type:"chest",bookRef:{book:"Legions of Shadows",act:1,section:243},stats:{magic:1,armour:1},abilities:[],location:"Weather wizard"},{id:"web_coated_jerkin",name:"Web-coated jerkin",type:"chest",bookRef:{book:"Legions of Shadows",act:1,section:206},stats:{brawn:1,armour:1},abilities:["Webbed"],location:"Water cave"},{id:"spindlesilk_mantle",name:"Spindlesilk mantle",type:"chest",bookRef:{book:"Legions of Shadows",act:1,section:91},stats:{magic:1,armour:1},abilities:["Spindlesilk set"],location:"Spindle"},{id:"crusaders_vestments",name:"Crusader's vestments",type:"chest",bookRef:{book:"Legions of Shadows",act:1,section:160},stats:{brawn:1,armour:1},abilities:["Heal"],location:"Valadin Roth"},{id:"hellfire_robes",name:"Hellfire robes",type:"chest",bookRef:{book:"Legions of Shadows",act:1,section:133},stats:{speed:1,magic:1},abilities:["Trickster"],location:"Changeling"},{id:"duskleaf_doubloon",name:"Duskleaf doubloon",type:"chest",bookRef:{book:"Legions of Shadows",act:1,section:80},stats:{speed:1,brawn:1},abilities:["Charm"],location:"Zalladrel"},{id:"chitinous_carapace",name:"Chitinous carapace",type:"chest",bookRef:{book:"Legions of Shadows",act:2,section:368},stats:{speed:1,armour:2},abilities:["Charm"],location:"Kerklick"},{id:"patchwork_jerkin",name:"Patchwork jerkin",type:"chest",bookRef:{book:"Legions of Shadows",act:2,section:374},stats:{speed:1,brawn:1},abilities:["Evade"],location:"Jester"},{id:"gown_of_midnight",name:"Gown of midnight",type:"chest",bookRef:{book:"Legions of Shadows",act:2,section:445},stats:{speed:1,magic:2},abilities:["Evade"],location:"Elvera"},{id:"sanguine_gown",name:"Sanguine gown",type:"chest",bookRef:{book:"Legions of Shadows",act:2,section:460},stats:{speed:1,magic:2},abilities:["Evade"],location:"Clymonistra"},{id:"cinders_gown",name:"Cinder's gown",type:"chest",bookRef:{book:"Legions of Shadows",act:2,section:655},stats:{speed:1,magic:3},abilities:["Sear"],location:"Cinders",careerPreference:"Mage"},{id:"scorched_tunic",name:"Scorched tunic",type:"chest",bookRef:{book:"Legions of Shadows",act:2,section:568},stats:{speed:1,armour:2},abilities:["Charm"],location:"Inferno"},{id:"nightwalker_tunic",name:"Nightwalker tunic",type:"chest",bookRef:{book:"Legions of Shadows",act:2,section:497},stats:{speed:1,brawn:2},abilities:["Nightwalker set"],location:"Boggart",careerPreference:"Rogue"},{id:"vigilant_chestguard",name:"Vigilant chestguard",type:"chest",bookRef:{book:"Legions of Shadows",act:2,section:509},stats:{speed:1,armour:3},abilities:[],location:"Swamp giant",careerPreference:"Warrior"},{id:"scaled_vest",name:"Scaled vest",type:"chest",bookRef:{book:"Legions of Shadows",act:2,section:452},stats:{speed:1,magic:2},abilities:["Swamp legs"],location:"Angler's cave"},{id:"ink_stained_vest",name:"Ink-stained vest",type:"chest",bookRef:{book:"Legions of Shadows",act:2,section:716},stats:{speed:2,brawn:1},abilities:[],location:"Kalimari"},{id:"navigators_waistcoat",name:"Navigator's waistcoat",type:"chest",bookRef:{book:"Legions of Shadows",act:2,section:544},stats:{speed:2,armour:2},abilities:["Charm"],location:"Leviathan"},{id:"channelers_robes",name:"Channeler's robes",type:"chest",bookRef:{book:"Legions of Shadows",act:2,section:434},stats:{magic:3,armour:2},abilities:["Focus"],location:"Raptor pit",careerPreference:"Mage"},{id:"lincoln_green",name:"Lincoln green",type:"chest",bookRef:{book:"Legions of Shadows",act:2,section:590},stats:{speed:2,brawn:2},abilities:["Charm"],location:"Raptor pit",careerPreference:"Warrior"},{id:"skulkers_coat",name:"Skulker's coat",type:"chest",bookRef:{book:"Legions of Shadows",act:2,section:583},stats:{speed:1,armour:3},abilities:["Evade"],location:"Raptor pit",careerPreference:"Rogue"},{id:"spellplate",name:"Spellplate",type:"chest",bookRef:{book:"Legions of Shadows",act:2,section:598},stats:{speed:1,armour:3},abilities:["Focus"],location:"Armoury"},{id:"stone_coat",name:"Stone coat",type:"chest",bookRef:{book:"Legions of Shadows",act:2,section:706},stats:{speed:2,armour:2},abilities:["Might of stone"],location:"Gargoyle chest",careerPreference:"Warrior"},{id:"breastplate_of_the_bull",name:"Breastplate of the bull",type:"chest",bookRef:{book:"Legions of Shadows",act:2,section:216},stats:{brawn:3,armour:2},abilities:["Charge"],location:"Zen"},{id:"hunters_hide",name:"Hunter's hide",type:"chest",bookRef:{book:"Legions of Shadows",act:2,section:379},stats:{speed:1,armour:2},abilities:["Immobilise"],location:"Nalsa"},{id:"the_cage",name:"The cage",type:"chest",bookRef:{book:"Legions of Shadows",act:2,section:414},stats:{speed:2,armour:3},abilities:["Iron will"],location:"Arena champion",careerPreference:"Warrior"},{id:"dragonscale_mail",name:"Dragonscale mail",type:"chest",bookRef:{book:"Legions of Shadows",act:2,section:708},stats:{speed:2,armour:3},abilities:["Second skin"],location:"Kindle",careerPreference:"Warrior"},{id:"raiders_tunic",name:"Raider's tunic",type:"chest",bookRef:{book:"Legions of Shadows",act:3,section:803},stats:{speed:2,brawn:4},abilities:["Retaliation"],location:"Waldo's wares",careerPreference:"Warrior"},{id:"slipstream_gown",name:"Slipstream gown",type:"chest",bookRef:{book:"Legions of Shadows",act:3,section:881},stats:{speed:2,magic:4},abilities:["Overload"],location:"Waldo's wares",careerPreference:"Mage"},{id:"confessors_coat",name:"Confessor's coat",type:"chest",bookRef:{book:"Legions of Shadows",act:3,section:903},stats:{speed:2,brawn:4},abilities:["Fortitude"],location:"Waldo's wares",careerPreference:"Rogue"},{id:"titan_plate",name:"Titan plate",type:"chest",bookRef:{book:"Legions of Shadows",act:3,section:730},stats:{speed:1,armour:2},abilities:["Fearless"],location:"Bone giants"},{id:"deathgrip_robes",name:"Deathgrip robes",type:"chest",bookRef:{book:"Legions of Shadows",act:3,section:770},stats:{speed:2,magic:3},abilities:["Corruption"],location:"Rotterghast"},{id:"lions_tabard",name:"Lion's tabard",type:"chest",bookRef:{book:"Legions of Shadows",act:3,section:892},stats:{speed:1,brawn:2},abilities:["Fearless"],location:"Arthurian's vault"},{id:"skullplate",name:"Skullplate",type:"chest",bookRef:{book:"Legions of Shadows",act:3,section:906},stats:{speed:2,armour:3},abilities:["Dominate"],location:"Bone angel"},{id:"funeral_gown",name:"Funeral gown",type:"chest",bookRef:{book:"Legions of Shadows",act:3,section:916},stats:{speed:1,magic:3},abilities:["Charm"],location:"Yorvic"},{id:"redguards_tabard",name:"Redguard's tabard",type:"chest",bookRef:{book:"Legions of Shadows",act:3,section:735},stats:{speed:2,armour:4},abilities:["Iron will"],location:"Special achievement"},{id:"stalkers_jerkin",name:"Stalker's jerkin",type:"chest",bookRef:{book:"Legions of Shadows",act:3,section:733},stats:{speed:2,armour:3},abilities:["Evade"],location:"Budak",careerPreference:"Rogue"},{id:"silleers_robe",name:"Silleer's robe",type:"chest",bookRef:{book:"Legions of Shadows",act:3,section:570},stats:{speed:2,magic:3},abilities:["Curse"],location:"Silleer",careerPreference:"Mage"},{id:"plate_of_the_fallen",name:"Plate of the fallen",type:"chest",bookRef:{book:"Legions of Shadows",act:3,section:719},stats:{speed:2,armour:4},abilities:["finery of the fallen"],location:"Tor knight",careerPreference:"Warrior"},{id:"funeral_wraps",name:"Funeral wraps",type:"chest",bookRef:{book:"Legions of Shadows",act:3,section:765},stats:{speed:2,brawn:3},abilities:["Bleed"],location:"Malcontent"},{id:"pacemaker",name:"Pacemaker",type:"chest",bookRef:{book:"Legions of Shadows",act:3,section:716},stats:{speed:2,armour:4},abilities:["Kick start"],location:"The blob",careerPreference:"Warrior"},{id:"shadow_bindings",name:"Shadow bindings",type:"chest",bookRef:{book:"Legions of Shadows",act:3,section:631},stats:{speed:2,brawn:3},abilities:["Evade"],location:"Mage hunter",careerPreference:"Rogue"},{id:"dark_slayer_vest",name:"Dark slayer vest",type:"chest",bookRef:{book:"Legions of Shadows",act:3,section:843},stats:{speed:2,brawn:4},abilities:["Dominate"],location:"Daarko",careerPreference:"Rogue"},{id:"decayers_wraps",name:"Decayer's wraps",type:"chest",bookRef:{book:"Legions of Shadows",act:3,section:845},stats:{speed:2,brawn:3},abilities:["Disease"],location:"Decayers"},{id:"beasts_harness",name:"Beast's harness",type:"chest",bookRef:{book:"Legions of Shadows",act:3,section:801},stats:{speed:2,armour:4},abilities:["Knockdown"],location:"The wrecker",careerPreference:"Warrior"},{id:"beasts_backbone",name:"Beast's backbone",type:"chest",bookRef:{book:"Legions of Shadows",act:3,section:847},stats:{speed:2,brawn:4},abilities:["Savagery"],location:"The wrecker",careerPreference:"Rogue"},{id:"bloodied_chestguard",name:"Bloodied chestguard",type:"chest",bookRef:{book:"Legions of Shadows",act:3,section:882},stats:{speed:2,armour:4},abilities:["Bleed"],location:"Sannrah",careerPreference:"Warrior"},{id:"buckled_boots",name:"Buckled boots",type:"feet",bookRef:{book:"Legions of Shadows",act:1,section:175},stats:{speed:1,brawn:1},abilities:[],location:"Vendor/Tithebury Cross"},{id:"spindlesilk_boots",name:"Spindlesilk boots",type:"feet",bookRef:{book:"Legions of Shadows",act:1,section:110},stats:{speed:1,magic:1},abilities:["Spindlesilk set"],location:"Vendor/Tithebury Cross"},{id:"crows_feet",name:"Crow's feet",type:"feet",bookRef:{book:"Legions of Shadows",act:1,section:204},stats:{speed:1,magic:1},abilities:[],location:"Scarecrow"},{id:"goblin_kickers",name:"Goblin kickers",type:"feet",bookRef:{book:"Legions of Shadows",act:1,section:199},stats:{speed:1,brawn:1},abilities:[],location:"Hobgoblin"},{id:"rat_skin_boots",name:"Rat-skin boots",type:"feet",bookRef:{book:"Legions of Shadows",act:1,section:260},stats:{speed:1},abilities:[],location:"Goblin chief"},{id:"dusty_footpads",name:"Dusty footpads",type:"feet",bookRef:{book:"Legions of Shadows",act:1,section:206},stats:{speed:1},abilities:["Charm"],location:"Water cave"},{id:"ruby_slippers",name:"Ruby slippers",type:"feet",bookRef:{book:"Legions of Shadows",act:1,section:155},stats:{speed:1,armour:1},abilities:["Click your heels"],location:"Witch"},{id:"boar_hide_boots",name:"Boar-hide boots",type:"feet",bookRef:{book:"Legions of Shadows",act:1,section:44},stats:{speed:1,armour:1},abilities:["Steadfast"],location:"Humbaroth"},{id:"reed_woven_sandals",name:"Reed-woven sandals",type:"feet",bookRef:{book:"Legions of Shadows",act:1,section:122},stats:{speed:1,magic:1},abilities:["Charm"],location:"Bridge troll"},{id:"rune_forged_greaves",name:"Rune-forged greaves",type:"feet",bookRef:{book:"Legions of Shadows",act:2,section:311},stats:{speed:2,magic:2},abilities:[],location:"No Hope tinker"},{id:"boots_of_swift_flight",name:"Boots of swift flight",type:"feet",bookRef:{book:"Legions of Shadows",act:2,section:338},stats:{speed:1,brawn:2},abilities:[],location:"Thievies' guild",careerPreference:"Rogue"},{id:"deerskin_boots",name:"Deerskin boots",type:"feet",bookRef:{book:"Legions of Shadows",act:2,section:287},stats:{speed:1,brawn:1},abilities:[],location:"Mushroom forest"},{id:"sludge_waders",name:"Sludge waders",type:"feet",bookRef:{book:"Legions of Shadows",act:2,section:494},stats:{speed:1,armour:1},abilities:[],location:"Slime"},{id:"barons_boots",name:"Baron's boots",type:"feet",bookRef:{book:"Legions of Shadows",act:2,section:385},stats:{speed:1,armour:1},abilities:["Dominate"],location:"Baron Greylock"},{id:"velvet_slippers",name:"Velvet slippers",type:"feet",bookRef:{book:"Legions of Shadows",act:2,section:487},stats:{speed:1,magic:3},abilities:["Haste"],location:"Count (special)"},{id:"scarab_sandals",name:"Scarab sandals",type:"feet",bookRef:{book:"Legions of Shadows",act:2,section:446},stats:{speed:2,armour:2},abilities:[],location:"Treasure cave",careerPreference:"Mage"},{id:"bright_greaves",name:"Bright greaves",type:"feet",bookRef:{book:"Legions of Shadows",act:2,section:497},stats:{speed:1,brawn:2},abilities:["Steadfast"],location:"Boggart"},{id:"sanguine_slippers",name:"Sanguine slippers",type:"feet",bookRef:{book:"Legions of Shadows",act:2,section:497},stats:{speed:2,magic:2},abilities:["Charm"],location:"Boggart",careerPreference:"Mage"},{id:"captains_boots",name:"Captain's boots",type:"feet",bookRef:{book:"Legions of Shadows",act:2,section:716},stats:{speed:2,armour:1},abilities:[],location:"Kalimari"},{id:"scouts_longboots",name:"Scout's longboots",type:"feet",bookRef:{book:"Legions of Shadows",act:2,section:590},stats:{speed:1,brawn:3},abilities:["Sideswipe"],location:"Raptor pit",careerPreference:"Warrior"},{id:"quicksilver_boots",name:"Quicksilver boots",type:"feet",bookRef:{book:"Legions of Shadows",act:2,section:434},stats:{speed:2,magic:1},abilities:["Quicksilver"],location:"Raptor pit",careerPreference:"Mage"},{id:"majestic_greaves",name:"Majestic greaves",type:"feet",bookRef:{book:"Legions of Shadows",act:2,section:581},stats:{speed:2,brawn:2},abilities:["Royal regalia"],location:"Armoury",careerPreference:"Warrior"},{id:"shadow_treads",name:"Shadow treads",type:"feet",bookRef:{book:"Legions of Shadows",act:2,section:744},stats:{speed:1,brawn:2},abilities:["Sidestep"],location:"Gargoyle chest",careerPreference:"Rogue"},{id:"logans_runners",name:"Logan's runners",type:"feet",bookRef:{book:"Legions of Shadows",act:2,section:394},stats:{speed:2,brawn:1},abilities:["Sidestep"],location:"Logan",careerPreference:"Rogue"},{id:"barkskin_greaves",name:"Barkskin greaves",type:"feet",bookRef:{book:"Legions of Shadows",act:2,section:341},stats:{speed:1,armour:2},abilities:["Steadfast"],location:"Barkrot"},{id:"marsh_striders",name:"Marsh striders",type:"feet",bookRef:{book:"Legions of Shadows",act:2,section:389},stats:{speed:2,brawn:2},abilities:["Sideswipe"],location:"Hydra (normal)"},{id:"marsh_stalkers",name:"Marsh stalkers",type:"feet",bookRef:{book:"Legions of Shadows",act:2,section:418},stats:{speed:2,brawn:3},abilities:["Sideswipe"],location:"Hydra (special)"},{id:"boots_of_shielding",name:"Boots of shielding",type:"feet",bookRef:{book:"Legions of Shadows",act:3,section:881},stats:{speed:2,armour:1},abilities:["Deflect"],location:"Waldo's wares",careerPreference:"Mage"},{id:"barbarous_boots",name:"Barbarous boots",type:"feet",bookRef:{book:"Legions of Shadows",act:3,section:815},stats:{speed:2,brawn:3},abilities:["Savagery"],location:"Waldo's wares",careerPreference:"Warrior"},{id:"vagabond_boots",name:"Vagabond boots",type:"feet",bookRef:{book:"Legions of Shadows",act:3,section:620},stats:{speed:2,armour:2},abilities:["Steadfast"],location:"Packmaster"},{id:"heralds_spurs",name:"Herald's spurs",type:"feet",bookRef:{book:"Legions of Shadows",act:3,section:617},stats:{speed:2,brawn:1},abilities:["Charge"],location:"Tor knight"},{id:"ebon_boots",name:"Ebon boots",type:"feet",bookRef:{book:"Legions of Shadows",act:3,section:649},stats:{speed:2,brawn:1},abilities:["Fearless"],location:"Necromancer"},{id:"bewitched_boots",name:"Bewitched boots",type:"feet",bookRef:{book:"Legions of Shadows",act:3,section:802},stats:{speed:2,magic:2},abilities:["Dominate"],location:"Tomb"},{id:"twisted_treads",name:"Twisted treads",type:"feet",bookRef:{book:"Legions of Shadows",act:3,section:912},stats:{speed:2,brawn:2},abilities:["Trickster"],location:"Malaise"},{id:"rumble_thumpers",name:"Rumble thumpers",type:"feet",bookRef:{book:"Legions of Shadows",act:3,section:616},stats:{speed:1,brawn:3},abilities:["Knockdown"],location:"The blob"},{id:"elemental_greaves",name:"Elemental greaves",type:"feet",bookRef:{book:"Legions of Shadows",act:3,section:865},stats:{speed:2,armour:2},abilities:["Fire aura"],location:"Daarko",careerPreference:"Mage"},{id:"boots_of_black_fortune",name:"Boots of black fortune",type:"feet",bookRef:{book:"Legions of Shadows",act:3,section:893},stats:{speed:2,armour:2},abilities:["Feint"],location:"Daarko",careerPreference:"Warrior"},{id:"the_apprentice",name:"The apprentice",type:"mainHand",bookRef:{book:"Legions of Shadows",act:1},stats:{brawn:1,magic:1},abilities:[],location:"Prologue"},{id:"notched_blade",name:"Notched blade",type:"mainHand",bookRef:{book:"Legions of Shadows",act:1,section:175},stats:{speed:1,brawn:1},abilities:[],location:"Vendor/Tithebury Cross"},{id:"curved_blade",name:"Curved blade",type:"mainHand",bookRef:{book:"Legions of Shadows",act:1,section:199},stats:{speed:1},abilities:[],location:"Hobgoblin"},{id:"goblin_hewer",name:"Goblin hewer",type:"mainHand",bookRef:{book:"Legions of Shadows",act:1,section:82},stats:{speed:1,armour:1},abilities:[],location:"Woodsman"},{id:"huntsmans_axe",name:"Huntsman's axe",type:"mainHand",bookRef:{book:"Legions of Shadows",act:1,section:228},stats:{brawn:2},abilities:[],location:"Huntsman"},{id:"meat_cleaver",name:"Meat cleaver",type:"mainHand",bookRef:{book:"Legions of Shadows",act:1,section:260},stats:{speed:1},abilities:["Bleed"],location:"Goblin chief"},{id:"crones_dagger",name:"Crone's dagger",type:"mainHand",bookRef:{book:"Legions of Shadows",act:1,section:40},stats:{speed:1,magic:1},abilities:[],location:"Ruffians"},{id:"gilberts_club",name:"Gilbert's club",type:"mainHand",bookRef:{book:"Legions of Shadows",act:1,section:40},stats:{brawn:3},abilities:[],location:"Ruffians"},{id:"leaders_edge",name:"Leader's edge",type:"mainHand",bookRef:{book:"Legions of Shadows",act:1,section:125},stats:{speed:1,brawn:1},abilities:[],location:"Were rat"},{id:"acid_coated_battle_axe",name:"Acid-coated battle axe",type:"mainHand",bookRef:{book:"Legions of Shadows",act:1,section:258},stats:{speed:1,brawn:1},abilities:["Acid"],location:"Burrower wyrm"},{id:"venomous_fang",name:"Venomous fang",type:"mainHand",bookRef:{book:"Legions of Shadows",act:1,section:91},stats:{speed:1,brawn:1},abilities:["Venom"],location:"Spindle"},{id:"nightbringer",name:"Nightbringer",type:"mainHand",bookRef:{book:"Legions of Shadows",act:1,section:52},stats:{speed:1,brawn:4},abilities:["Might of stone"],location:"Noldor (special)"},{id:"nightfall",name:"Nightfall",type:"mainHand",bookRef:{book:"Legions of Shadows",act:1,section:52},stats:{speed:1,magic:4},abilities:["Might of stone"],location:"Noldor (special)"},{id:"ancient_sword",name:"Ancient sword",type:"mainHand",bookRef:{book:"Legions of Shadows",act:1,section:222},stats:{speed:1,brawn:1},abilities:["Bleed"],location:"Skeleton knight"},{id:"dirk_of_deceit",name:"Dirk of deceit",type:"mainHand",bookRef:{book:"Legions of Shadows",act:1,section:271},stats:{speed:1,brawn:1},abilities:["Corruption"],location:"Fetch"},{id:"silver_silence",name:"Silver silence",type:"mainHand",bookRef:{book:"Legions of Shadows",act:1,section:271},stats:{speed:1,magic:1},abilities:["Immobilise"],location:"Fetch"},{id:"skullbreaker",name:"Skullbreaker",type:"mainHand",bookRef:{book:"Legions of Shadows",act:1,section:44},stats:{speed:1,brawn:2},abilities:["Pound"],location:"Humbaroth"},{id:"dark_crystal",name:"Dark crystal",type:"mainHand",bookRef:{book:"Legions of Shadows",act:2,section:311},stats:{speed:1,brawn:2},abilities:["Venom"],location:"No Hope tinker",careerPreference:"Rogue"},{id:"black_jack",name:"Black jack",type:"mainHand",bookRef:{book:"Legions of Shadows",act:2,section:338},stats:{speed:1,brawn:3},abilities:["Slam"],location:"Thievies' guild",careerPreference:"Rogue"},{id:"abyssal_blade",name:"Abyssal blade",type:"mainHand",bookRef:{book:"Legions of Shadows",act:2,section:432},stats:{speed:2,brawn:3},abilities:["Deep wound"],location:"Sea spray Steve",careerPreference:"Rogue"},{id:"ashen_staff",name:"Ashen staff",type:"mainHand",bookRef:{book:"Legions of Shadows",act:2,section:283},stats:{speed:1,magic:2},abilities:[],location:"Mud golem"},{id:"shiny_dirk",name:"Shiny dirk",type:"mainHand",bookRef:{book:"Legions of Shadows",act:2,section:287},stats:{speed:1,brawn:2},abilities:[],location:"Mushroom forest"},{id:"trog_spear",name:"Trog spear",type:"mainHand",bookRef:{book:"Legions of Shadows",act:2,section:327},stats:{speed:1,brawn:3},abilities:[],location:"Trogs",careerPreference:"Warrior"},{id:"black_fang",name:"Black fang",type:"mainHand",bookRef:{book:"Legions of Shadows",act:2,section:517},stats:{speed:1,brawn:2},abilities:["Parry"],location:"Wormwood (normal)"},{id:"lacerator",name:"Lacerator",type:"mainHand",bookRef:{book:"Legions of Shadows",act:2,section:533},stats:{speed:1,brawn:3},abilities:["Parry"],location:"Wormwood (special)"},{id:"bone_scythe",name:"Bone scythe",type:"mainHand",bookRef:{book:"Legions of Shadows",act:2,section:368},stats:{speed:1,brawn:2},abilities:["Retaliation"],location:"Kerklick"},{id:"winters_bite",name:"Winter's bite",type:"mainHand",bookRef:{book:"Legions of Shadows",act:2,section:385},stats:{speed:2,brawn:2},abilities:["Bleed"],location:"Baron Greylock",careerPreference:"Warrior"},{id:"blood_harvest",name:"Blood harvest",type:"mainHand",bookRef:{book:"Legions of Shadows",act:2,section:455},stats:{speed:2,magic:1},abilities:["Leech"],location:"Lady Roe",careerPreference:"Mage"},{id:"silk_cut",name:"Silk cut",type:"mainHand",bookRef:{book:"Legions of Shadows",act:2,section:487},stats:{speed:2,brawn:2},abilities:["Riposte"],location:"Count (special)",careerPreference:"Rogue"},{id:"the_rock",name:"The rock",type:"mainHand",bookRef:{book:"Legions of Shadows",act:2,section:540},stats:{brawn:4},abilities:["Slam"],location:"Rumbler",careerPreference:"Warrior"},{id:"illumanti_rod",name:"Illumanti rod",type:"mainHand",bookRef:{book:"Legions of Shadows",act:2,section:548},stats:{speed:2,magic:1},abilities:["Overload"],location:"Treasure vault",careerPreference:"Mage"},{id:"phoenix_claw",name:"Phoenix claw",type:"mainHand",bookRef:{book:"Legions of Shadows",act:2,section:565},stats:{speed:1,brawn:2},abilities:["Immobilise"],location:"Phoenix"},{id:"lucky_fishing_rod",name:"Lucky fishing rod",type:"mainHand",bookRef:{book:"Legions of Shadows",act:2,section:452},stats:{speed:2,brawn:1},abilities:["Charm"],location:"Angler's cave"},{id:"magicians_crook",name:"Magician's crook",type:"mainHand",bookRef:{book:"Legions of Shadows",act:2,section:446},stats:{speed:2,magic:3},abilities:["Radiance"],location:"Treasure cave",careerPreference:"Mage"},{id:"trident_of_the_seven_seas",name:"Trident of the seven seas",type:"mainHand",bookRef:{book:"Legions of Shadows",act:2,section:479},stats:{speed:1,magic:3},abilities:[],location:"Wreekin"},{id:"dark_malice",name:"Dark malice",type:"mainHand",bookRef:{book:"Legions of Shadows",act:2,section:506},stats:{speed:2,brawn:3},abilities:["Impale"],location:"Scorpios",careerPreference:"Warrior"},{id:"scorpion_stinger",name:"Scorpion stinger",type:"mainHand",bookRef:{book:"Legions of Shadows",act:2,section:506},stats:{speed:2,brawn:1},abilities:["Venom"],location:"Scorpios",careerPreference:"Rogue"},{id:"betsy_blue_anchor",name:"Betsy blue anchor",type:"mainHand",bookRef:{book:"Legions of Shadows",act:2,section:544},stats:{speed:1,brawn:4},abilities:["Stun"],location:"Leviathan",careerPreference:"Warrior"},{id:"spellbreaker",name:"Spellbreaker",type:"mainHand",bookRef:{book:"Legions of Shadows",act:2,section:567},stats:{speed:2,brawn:4},abilities:["Disrupt"],location:"Armoury",careerPreference:"Rogue"},{id:"frenzy",name:"Frenzy",type:"mainHand",bookRef:{book:"Legions of Shadows",act:2,section:581},stats:{speed:2,brawn:4},abilities:["Cleave"],location:"Armoury",careerPreference:"Warrior"},{id:"swordbreaker",name:"Swordbreaker",type:"mainHand",bookRef:{book:"Legions of Shadows",act:2,section:593},stats:{speed:2,magic:3},abilities:["Retaliation"],location:"Armoury",careerPreference:"Mage"},{id:"pulveriser",name:"Pulveriser",type:"mainHand",bookRef:{book:"Legions of Shadows",act:2,section:706},stats:{speed:2,brawn:4},abilities:["Knockdown"],location:"Gargoyle chest",careerPreference:"Warrior"},{id:"torturers_rod",name:"Torturer's rod",type:"mainHand",bookRef:{book:"Legions of Shadows",act:2,section:713},stats:{speed:2,brawn:2},abilities:["Stun"],location:"Gargoyle chest",careerPreference:"Mage"},{id:"buccaneers_rapier",name:"Buccaneer's rapier",type:"mainHand",bookRef:{book:"Legions of Shadows",act:2,section:277},stats:{speed:1,brawn:1},abilities:["Riposte"],location:"Left-hook Luke"},{id:"nalsas_claws",name:"Nalsa's claws",type:"mainHand",bookRef:{book:"Legions of Shadows",act:2,section:379},stats:{speed:1,brawn:2},abilities:["Piercing"],location:"Nalsa"},{id:"ebony",name:"Ebony",type:"mainHand",bookRef:{book:"Legions of Shadows",act:2,section:370},stats:{speed:2,brawn:3},abilities:["Ebony and ivory"],location:"Nasareim"},{id:"brawlers_shiv",name:"Brawler's shiv",type:"mainHand",bookRef:{book:"Legions of Shadows",act:2,section:414},stats:{speed:2,brawn:4},abilities:["Venom"],location:"Arena champion",careerPreference:"Rogue"},{id:"fire_brand",name:"Fire brand",type:"mainHand",bookRef:{book:"Legions of Shadows",act:2,section:377},stats:{speed:2,magic:2},abilities:["Fire aura"],location:"Vesuvius",careerPreference:"Mage"},{id:"burning_heretic",name:"Burning heretic",type:"mainHand",bookRef:{book:"Legions of Shadows",act:2,section:400},stats:{speed:3,brawn:3},abilities:["Critical strike"],location:"Magmageddon",careerPreference:"Rogue"},{id:"velocifero",name:"Velocifero",type:"mainHand",bookRef:{book:"Legions of Shadows",act:2,section:729},stats:{speed:3,brawn:3},abilities:["Riposte"],location:"Shadowstalker"},{id:"sliver_of_shadow",name:"Sliver of shadow",type:"mainHand",bookRef:{book:"Legions of Shadows",act:3,section:839},stats:{speed:2,brawn:4},abilities:["Chill touch"],location:"Waldo's wares",careerPreference:"Rogue"},{id:"talanosts_edge",name:"Talanost's edge",type:"mainHand",bookRef:{book:"Legions of Shadows",act:3,section:903},stats:{speed:3,brawn:5},abilities:["Sear"],location:"Waldo's wares",careerPreference:"Rogue"},{id:"wicked_claw",name:"Wicked claw",type:"mainHand",bookRef:{book:"Legions of Shadows",act:3,section:776},stats:{speed:1,brawn:3},abilities:["Critical strike"],location:"Bone wyvern"},{id:"bone_claw",name:"Bone claw",type:"mainHand",bookRef:{book:"Legions of Shadows",act:3,section:695},stats:{speed:2,brawn:3},abilities:["Rake"],location:"Bone construct"},{id:"lasher",name:"Lasher",type:"mainHand",bookRef:{book:"Legions of Shadows",act:3,section:620},stats:{speed:3,brawn:3},abilities:["Bleed"],location:"Packmaster"},{id:"tainted_striker",name:"Tainted striker",type:"mainHand",bookRef:{book:"Legions of Shadows",act:3,section:677},stats:{speed:3,magic:3},abilities:["Corruption"],location:"Tor knight",careerPreference:"Mage"},{id:"spinal_tap",name:"Spinal tap",type:"mainHand",bookRef:{book:"Legions of Shadows",act:3,section:759},stats:{speed:3,brawn:4},abilities:["Impale"],location:"Flesh golem",careerPreference:"Warrior"},{id:"bone_gavel",name:"Bone gavel",type:"mainHand",bookRef:{book:"Legions of Shadows",act:3,section:730},stats:{speed:3,brawn:4},abilities:["Knockdown"],location:"Bone giants",careerPreference:"Warrior"},{id:"tenacity",name:"Tenacity",type:"mainHand",bookRef:{book:"Legions of Shadows",act:3,section:770},stats:{speed:2,brawn:5},abilities:["Deep wound"],location:"Rotterghast",careerPreference:"Rogue"},{id:"scorn",name:"Scorn",type:"mainHand",bookRef:{book:"Legions of Shadows",act:3,section:912},stats:{speed:2,brawn:3},abilities:["Immobilise"],location:"Malaise",careerPreference:"Rogue"},{id:"ever_sharp",name:"Ever-sharp",type:"mainHand",bookRef:{book:"Legions of Shadows",act:3,section:916},stats:{speed:3,brawn:4},abilities:["Deep wound"],location:"Yorvic",careerPreference:"Warrior"},{id:"deep_freeze",name:"Deep freeze",type:"mainHand",bookRef:{book:"Legions of Shadows",act:3,section:869},stats:{speed:2,magic:3},abilities:["Stun"],location:"Sammain (normal)"},{id:"hoarfrost",name:"Hoarfrost",type:"mainHand",bookRef:{book:"Legions of Shadows",act:3,section:874},stats:{speed:2,magic:3},abilities:["Chill touch"],location:"Sammain (special)"},{id:"grimm_reaper",name:"Grimm reaper",type:"mainHand",bookRef:{book:"Legions of Shadows",act:3,section:727},stats:{speed:3,brawn:5},abilities:["Brutality"],location:"Brothers' Grimm",careerPreference:"Warrior"},{id:"serenity",name:"Serenity",type:"mainHand",bookRef:{book:"Legions of Shadows",act:3,section:733},stats:{speed:2,brawn:4},abilities:["Deep wound"],location:"Budak",careerPreference:"Rogue"},{id:"wand_of_lightning",name:"Wand of lightning",type:"mainHand",bookRef:{book:"Legions of Shadows",act:3,section:570},stats:{speed:2,magic:4},abilities:["Shock!"],location:"Silleer",careerPreference:"Mage"},{id:"pain_in_chains",name:"Pain in chains",type:"mainHand",bookRef:{book:"Legions of Shadows",act:3,section:722},stats:{speed:2,brawn:4},abilities:["Pound"],location:"Bone giants"},{id:"frost_burn",name:"Frost burn",type:"mainHand",bookRef:{book:"Legions of Shadows",act:3,section:584},stats:{speed:2,magic:4},abilities:["Piercing"],location:"Chilblain",careerPreference:"Mage"},{id:"belching_bludger",name:"Belching bludger",type:"mainHand",bookRef:{book:"Legions of Shadows",act:3,section:616},stats:{speed:2,brawn:4},abilities:["Disease"],location:"The blob"},{id:"morticians_scalpel",name:"Mortician's scalpel",type:"mainHand",bookRef:{book:"Legions of Shadows",act:3,section:642},stats:{speed:3,brawn:4},abilities:["Disease"],location:"Lichenstein",careerPreference:"Rogue"},{id:"tempests_fury",name:"Tempest's fury",type:"mainHand",bookRef:{book:"Legions of Shadows",act:3,section:754},stats:{speed:2,magic:5},abilities:["Windblast"],location:"Flay"},{id:"blood_crescent",name:"Blood crescent",type:"mainHand",bookRef:{book:"Legions of Shadows",act:3,section:631},stats:{speed:3,brawn:5},abilities:["Cleave"],location:"Mage hunter",careerPreference:"Warrior"},{id:"orb_stinger",name:"Orb stinger",type:"mainHand",bookRef:{book:"Legions of Shadows",act:3,section:665},stats:{speed:3,brawn:4},abilities:["Shock!"],location:"Death orb",careerPreference:"Rogue"},{id:"tricksters_maul",name:"Trickster's maul",type:"mainHand",bookRef:{book:"Legions of Shadows",act:3,section:711},stats:{speed:3,brawn:4},abilities:["Trickster"],location:"Lord of pain"},{id:"shadow_woven_kris",name:"Shadow-woven kris",type:"mainHand",bookRef:{book:"Legions of Shadows",act:3,section:843},stats:{speed:3,brawn:5},abilities:["Deep wound"],location:"Daarko",careerPreference:"Rogue"},{id:"sacrum_of_carnage",name:"Sacrum of carnage",type:"mainHand",bookRef:{book:"Legions of Shadows",act:3,section:847},stats:{speed:2,brawn:5},abilities:["Fatal blow"],location:"The wrecker",careerPreference:"Rogue"},{id:"aged_acronium",name:"Aged acronium",type:"mainHand",bookRef:{book:"Legions of Shadows",act:3,section:878},stats:{speed:2,magic:5},abilities:["Rust"],location:"The wrecker",careerPreference:"Mage"},{id:"the_sting",name:"The sting",type:"mainHand",bookRef:{book:"Legions of Shadows",act:3,section:868},stats:{speed:3,brawn:5},abilities:["Impale"],location:"Scarrons",careerPreference:"Warrior"},{id:"fortunes_favour",name:"Fortune's favour",type:"mainHand",bookRef:{book:"Legions of Shadows",act:3,section:871},stats:{speed:2,magic:5},abilities:["Radiance"],location:"Sannrah",careerPreference:"Mage"},{id:"retribution",name:"Retribution",type:"mainHand",bookRef:{book:"Legions of Shadows",act:3,section:882},stats:{speed:3,brawn:6},abilities:["Feral fury"],location:"Sannrah",careerPreference:"Warrior"},{id:"scaled_defender",name:"Scaled defender",type:"leftHand",bookRef:{book:"Legions of Shadows",act:1,section:191},stats:{brawn:2,armour:1},abilities:[],location:"Vendor/Tithebury Cross"},{id:"murder_of_crows",name:"Murder of crows",type:"leftHand",bookRef:{book:"Legions of Shadows",act:1,section:204},stats:{speed:1,brawn:1},abilities:[],location:"Scarecrow"},{id:"crocks_tooth",name:"Crock's tooth",type:"leftHand",bookRef:{book:"Legions of Shadows",act:1,section:118},stats:{brawn:1},abilities:[],location:"Crocodile"},{id:"rennies_slicer",name:"Rennie's slicer",type:"leftHand",bookRef:{book:"Legions of Shadows",act:1,section:55},stats:{speed:1,brawn:1},abilities:["First cut"],location:"Rennie the rat"},{id:"stone_shield",name:"Stone shield",type:"leftHand",bookRef:{book:"Legions of Shadows",act:1,section:41},stats:{speed:1,armour:2},abilities:["Slam"],location:"Noldor (normal)"},{id:"essence_of_shadow",name:"Essence of shadow",type:"leftHand",bookRef:{book:"Legions of Shadows",act:1,section:43},stats:{speed:1,magic:1},abilities:["Chill touch"],location:"Shadow"},{id:"ghoul_claw",name:"Ghoul claw",type:"leftHand",bookRef:{book:"Legions of Shadows",act:1,section:106},stats:{speed:1,brawn:1},abilities:["Piercing"],location:"Ghouls"},{id:"dented_buckler",name:"Dented buckler",type:"leftHand",bookRef:{book:"Legions of Shadows",act:1,section:166},stats:{speed:1,armour:1},abilities:[],location:"Skeletons"},{id:"spiders_spinneret",name:"Spider's spinneret",type:"leftHand",bookRef:{book:"Legions of Shadows",act:1,section:179},stats:{speed:1,magic:1},abilities:["Webbed"],location:"Spiders"},{id:"rage_claw",name:"Rage claw",type:"leftHand",bookRef:{book:"Legions of Shadows",act:1,section:26},stats:{speed:1,brawn:1},abilities:["Dominate"],location:"Mauler"},{id:"ardent_edge",name:"Ardent edge",type:"leftHand",bookRef:{book:"Legions of Shadows",act:2,section:494},stats:{speed:1,brawn:2},abilities:["Parry"],location:"Slime"},{id:"champions_blade",name:"Champion's blade",type:"leftHand",bookRef:{book:"Legions of Shadows",act:2,section:283},stats:{speed:2,brawn:1},abilities:["Bleed"],location:"Mud golem"},{id:"ridgeback",name:"Ridgeback",type:"leftHand",bookRef:{book:"Legions of Shadows",act:2,section:517},stats:{speed:1,armour:2},abilities:["Slam"],location:"Wormwood (normal)",careerPreference:"Warrior"},{id:"razorback",name:"Razorback",type:"leftHand",bookRef:{book:"Legions of Shadows",act:2,section:533},stats:{speed:2,armour:2},abilities:["Slam"],location:"Wormwood (special)",careerPreference:"Warrior"},{id:"rockbiter",name:"Rockbiter",type:"leftHand",bookRef:{book:"Legions of Shadows",act:2,section:522},stats:{speed:1,brawn:2},abilities:["Piercing"],location:"Treasure vault"},{id:"shrink_ray",name:"Shrink ray",type:"leftHand",bookRef:{book:"Legions of Shadows",act:2,section:477},stats:{speed:1,magic:1},abilities:["Zapped!"],location:"Hal Arbuckle"},{id:"book_of_black_deeds",name:"Book of black deeds",type:"leftHand",bookRef:{book:"Legions of Shadows",act:2,section:445},stats:{speed:2,magic:2},abilities:[],location:"Treasure vault",careerPreference:"Mage"},{id:"vampires_kiss",name:"Vampire's kiss",type:"leftHand",bookRef:{book:"Legions of Shadows",act:2,section:422},stats:{speed:1,brawn:2},abilities:["Leech"],location:"Treasure vault"},{id:"ivory_r_w_",name:"Ivory (R+W)",type:"leftHand",bookRef:{book:"Legions of Shadows",act:2,section:333},stats:{speed:2,brawn:2},abilities:["Ebony and ivory"],location:"Treasure cave"},{id:"t_bone_wand",name:"T-Bone wand",type:"leftHand",bookRef:{book:"Legions of Shadows",act:2,section:449},stats:{speed:1,brawn:1},abilities:["Bolt"],location:"Wreekin",careerPreference:"Mage"},{id:"wreekin_net",name:"Wreekin net",type:"leftHand",bookRef:{book:"Legions of Shadows",act:2,section:479},stats:{speed:1,brawn:2},abilities:["Webbed"],location:"Wreekin"},{id:"twin_furies",name:"Twin furies",type:"leftHand",bookRef:{book:"Legions of Shadows",act:2,section:452},stats:{speed:1,brawn:3},abilities:[],location:"Angler's cave",careerPreference:"Rogue"},{id:"blackout",name:"Blackout",type:"leftHand",bookRef:{book:"Legions of Shadows",act:2,section:509},stats:{speed:2,brawn:2},abilities:["Stun"],location:"Swamp giant"},{id:"tome_of_deep_thought",name:"Tome of deep thought",type:"leftHand",bookRef:{book:"Legions of Shadows",act:2,section:550},stats:{speed:2,magic:3},abilities:[],location:"Jenlar's cabin",careerPreference:"Mage"},{id:"deliverance",name:"Deliverance",type:"leftHand",bookRef:{book:"Legions of Shadows",act:2,section:590},stats:{speed:1,brawn:3},abilities:["Deep wound"],location:"Raptor pit",careerPreference:"Warrior"},{id:"witching_hour",name:"Witching hour",type:"leftHand",bookRef:{book:"Legions of Shadows",act:2,section:583},stats:{speed:2,brawn:3},abilities:["Bull's eye"],location:"Raptor pit",careerPreference:"Rogue"},{id:"ebenezers_spellbook",name:"Ebenezer's spellbook",type:"leftHand",bookRef:{book:"Legions of Shadows",act:2,section:434},stats:{speed:2,magic:2},abilities:["Sear"],location:"Raptor pit",careerPreference:"Mage"},{id:"st_elmos_fire",name:"St Elmo's fire",type:"leftHand",bookRef:{book:"Legions of Shadows",act:2,section:544},stats:{speed:2,magic:2},abilities:["Lightning"],location:"Leviathan"},{id:"vorpal_sword",name:"Vorpal sword",type:"leftHand",bookRef:{book:"Legions of Shadows",act:2,section:567},stats:{speed:2,brawn:3},abilities:["Vanquish"],location:"Armoury",careerPreference:"Rogue"},{id:"dour_claws",name:"Dour claws",type:"leftHand",bookRef:{book:"Legions of Shadows",act:2,section:706},stats:{speed:1,brawn:4},abilities:["Rake"],location:"Gargoyle chest",careerPreference:"Warrior"},{id:"tome_of_intellect",name:"Tome of intellect",type:"leftHand",bookRef:{book:"Legions of Shadows",act:2,section:713},stats:{speed:2,magic:2},abilities:["Focus"],location:"Gargoyle chest",careerPreference:"Mage"},{id:"stone_crescent",name:"Stone crescent",type:"leftHand",bookRef:{book:"Legions of Shadows",act:2,section:443},stats:{speed:2,armour:2},abilities:["Slam"],location:"Stone giant",careerPreference:"Warrior"},{id:"left_hook",name:"Left hook",type:"leftHand",bookRef:{book:"Legions of Shadows",act:2,section:277},stats:{speed:1,brawn:2},abilities:["Immobilise"],location:"Left-hook Luke"},{id:"deathstrike",name:"Deathstrike",type:"leftHand",bookRef:{book:"Legions of Shadows",act:2,section:394},stats:{speed:1,brawn:3},abilities:["Bull's eye"],location:"Logan"},{id:"sprig_of_corruption",name:"Sprig of corruption",type:"leftHand",bookRef:{book:"Legions of Shadows",act:2,section:341},stats:{speed:2,magic:3},abilities:["Corruption"],location:"Barkrot"},{id:"spine_tooth",name:"Spine tooth",type:"leftHand",bookRef:{book:"Legions of Shadows",act:2,section:346},stats:{speed:2,brawn:2},abilities:["Critical strike"],location:"Snapjaw",careerPreference:"Rogue"},{id:"hydras_wing",name:"Hydra's wing",type:"leftHand",bookRef:{book:"Legions of Shadows",act:2,section:389},stats:{speed:2,armour:2},abilities:["Deflect"],location:"Hydra (normal)",careerPreference:"Warrior"},{id:"hydras_guard",name:"Hydra's guard",type:"leftHand",bookRef:{book:"Legions of Shadows",act:2,section:418},stats:{speed:2,armour:3},abilities:["Deflect"],location:"Hydra (special)",careerPreference:"Warrior"},{id:"dragonslayer",name:"Dragonslayer",type:"leftHand",bookRef:{book:"Legions of Shadows",act:2,section:708},stats:{speed:2,brawn:4},abilities:["Deep wound"],location:"Kindle"},{id:"shadowblade",name:"Shadowblade",type:"leftHand",bookRef:{book:"Legions of Shadows",act:2,section:729},stats:{speed:2,magic:3},abilities:["Retaliation"],location:"Shadowstalker"},{id:"talanosts_wall",name:"Talanost's wall",type:"leftHand",bookRef:{book:"Legions of Shadows",act:3,section:803},stats:{speed:2,armour:5},abilities:["Deflect"],location:"Waldo's wares",careerPreference:"Warrior"},{id:"talanosts_reach",name:"Talanost's reach",type:"leftHand",bookRef:{book:"Legions of Shadows",act:3,section:881},stats:{speed:3,magic:4},abilities:["Critical strike"],location:"Waldo's wares",careerPreference:"Mage"},{id:"tor_shield",name:"Tor shield",type:"leftHand",bookRef:{book:"Legions of Shadows",act:3,section:617},stats:{speed:2,armour:2},abilities:["Deflect"],location:"Tor knight"},{id:"spite",name:"Spite",type:"leftHand",bookRef:{book:"Legions of Shadows",act:3,section:649},stats:{speed:2,brawn:3},abilities:["Venom"],location:"Necromancer"},{id:"iron_curtain",name:"Iron curtain",type:"leftHand",bookRef:{book:"Legions of Shadows",act:3,section:775},stats:{brawn:3,armour:2},abilities:["Iron will"],location:"Skeleton horde",careerPreference:"Warrior"},{id:"chains_of_binding",name:"Chains of binding",type:"leftHand",bookRef:{book:"Legions of Shadows",act:3,section:778},stats:{speed:2,magic:3},abilities:["Shackle"],location:"Ghouls",careerPreference:"Mage"},{id:"shallow_grave",name:"Shallow grave",type:"leftHand",bookRef:{book:"Legions of Shadows",act:3,section:827},stats:{speed:2,brawn:3},abilities:["Savagery"],location:"Tomb robber"},{id:"raven_eye",name:"Raven eye",type:"leftHand",bookRef:{book:"Legions of Shadows",act:3,section:834},stats:{speed:2,brawn:3},abilities:["Bolt"],location:"Dark ranger"},{id:"witchs_finger",name:"Witch's finger",type:"leftHand",bookRef:{book:"Legions of Shadows",act:3,section:869},stats:{speed:2,magic:3},abilities:["Curse"],location:"Sammain (normal)"},{id:"meat_grinder",name:"Meat grinder",type:"leftHand",bookRef:{book:"Legions of Shadows",act:3,section:891},stats:{speed:2,brawn:3},abilities:["Pound"],location:"Clockwerk"},{id:"steel_gear_solid",name:"Steel gear solid",type:"leftHand",bookRef:{book:"Legions of Shadows",act:3,section:891},stats:{speed:2,armour:3},abilities:["Retaliation"],location:"Clockwerk",careerPreference:"Warrior"},{id:"justice",name:"Justice",type:"leftHand",bookRef:{book:"Legions of Shadows",act:3,section:892},stats:{speed:2,brawn:3},abilities:["Knockdown"],location:"Arthurian's vault"},{id:"twilight_claw",name:"Twilight claw",type:"leftHand",bookRef:{book:"Legions of Shadows",act:3,section:929},stats:{speed:2,brawn:3},abilities:["Rake"],location:"Dark arthurian"},{id:"black_death",name:"Black death",type:"leftHand",bookRef:{book:"Legions of Shadows",act:3,section:622},stats:{speed:2,brawn:4},abilities:["Critical strike"],location:"Brothers' Grimm",careerPreference:"Rogue"},{id:"grasping_grimm",name:"Grasping grimm",type:"leftHand",bookRef:{book:"Legions of Shadows",act:3,section:664},stats:{speed:3,magic:3},abilities:["Rake"],location:"Brothers'Grimm",careerPreference:"Mage"},{id:"grimoire_of_entropy",name:"Grimoire of entropy",type:"leftHand",bookRef:{book:"Legions of Shadows",act:3,section:570},stats:{speed:3,magic:3},abilities:["Sear"],location:"Silleer",careerPreference:"Mage"},{id:"dark_tower",name:"Dark tower",type:"leftHand",bookRef:{book:"Legions of Shadows",act:3,section:719},stats:{speed:2,armour:4},abilities:["Impale"],location:"Tor knight",careerPreference:"Warrior"},{id:"thunder_hammer",name:"Thunder hammer",type:"leftHand",bookRef:{book:"Legions of Shadows",act:3,section:719},stats:{speed:2,brawn:4},abilities:["Shock!"],location:"Tor knight",careerPreference:"Warrior"},{id:"shield_of_bones",name:"Shield of bones",type:"leftHand",bookRef:{book:"Legions of Shadows",act:3,section:722},stats:{brawn:4,armour:2},abilities:["Piercing"],location:"Bone giant",careerPreference:"Warrior"},{id:"shield_of_bones",name:"Shield of bones",type:"leftHand",bookRef:{book:"Legions of Shadows",act:3,section:762},stats:{speed:3,magic:3},abilities:["Dominate"],location:"Scout",careerPreference:"Mage"},{id:"shield_of_bones",name:"Shield of bones",type:"leftHand",bookRef:{book:"Legions of Shadows",act:3,section:762},stats:{speed:2,brawn:4},abilities:["Sear"],location:"Scout",careerPreference:"Rogue"},{id:"bone_splinter",name:"Bone splinter",type:"leftHand",bookRef:{book:"Legions of Shadows",act:3,section:584},stats:{speed:2,brawn:4},abilities:["Piercing"],location:"Chilblain",careerPreference:"Rogue"},{id:"shield_of_angels",name:"Shield of angels",type:"leftHand",bookRef:{book:"Legions of Shadows",act:3,section:754},stats:{speed:1,brawn:5},abilities:["Windblast"],location:"Flay"},{id:"shield_of_blasting",name:"Shield of blasting",type:"leftHand",bookRef:{book:"Legions of Shadows",act:3,section:665},stats:{speed:2,armour:3},abilities:["Lightning"],location:"Death orb",careerPreference:"Warrior"},{id:"torment",name:"Torment",type:"leftHand",bookRef:{book:"Legions of Shadows",act:3,section:711},stats:{speed:2,magic:4},abilities:["Disease"],location:"Lord of pain"},{id:"fang_of_vengos",name:"Fang of Vengos",type:"leftHand",bookRef:{book:"Legions of Shadows",act:3,section:868},stats:{speed:2,brawn:4},abilities:["Venom"],location:"Scarrons",careerPreference:"Rogue"},{id:"parasitic_plate",name:"Parasitic plate",type:"leftHand",bookRef:{book:"Legions of Shadows",act:3,section:845},stats:{speed:2,armour:4},abilities:["Leech"],location:"Decayers",careerPreference:"Warrior"},{id:"lexicon_of_bones",name:"Lexicon of bones",type:"leftHand",bookRef:{book:"Legions of Shadows",act:3,section:813},stats:{speed:2,magic:5},abilities:["Haunt"],location:"Ghasts",careerPreference:"Mage"},{id:"wrecking_ball",name:"Wrecking ball",type:"leftHand",bookRef:{book:"Legions of Shadows",act:3,section:801},stats:{speed:2,brawn:5},abilities:["Demolish"],location:"The wrecker",careerPreference:"Warrior"},{id:"cortical_bulb",name:"Cortical bulb",type:"leftHand",bookRef:{book:"Legions of Shadows",act:3,section:826},stats:{speed:3,magic:5},abilities:["Brain drain"],location:"Doom orb",careerPreference:"Mage"},{id:"bone_bow_of_grief",name:"Bone bow of grief",type:"leftHand",bookRef:{book:"Legions of Shadows",act:3,section:882},stats:{speed:2,brawn:5},abilities:["Puncture"],location:"Sannrah",careerPreference:"Warrior"},{id:"final_solution",name:"Final solution",type:"leftHand",bookRef:{book:"Legions of Shadows",act:3,section:887},stats:{speed:2,brawn:5},abilities:["Acid"],location:"Sannrah",careerPreference:"Rogue"},{id:"stone_ward",name:"Stone ward",type:"talisman",bookRef:{book:"Legions of Shadows",act:1,section:41},stats:{},abilities:["Might of stone"],location:"Noldor (normal)"},{id:"spindles_eye",name:"Spindle's eye",type:"talisman",bookRef:{book:"Legions of Shadows",act:1,section:91},stats:{speed:1},abilities:["Charm"],location:"Spindle"},{id:"third_eye",name:"Third eye",type:"talisman",bookRef:{book:"Legions of Shadows",act:1,section:155},stats:{speed:1},abilities:["Charm"],location:"Witch"},{id:"demons_heart",name:"Demon's heart",type:"talisman",bookRef:{book:"Legions of Shadows",act:1,section:133},stats:{speed:1},abilities:["Trickster"],location:"Changeling"},{id:"avians_crest",name:"Avian's crest",type:"talisman",bookRef:{book:"Legions of Shadows",act:2,section:275},stats:{brawn:1,magic:1},abilities:["Charm"],location:"Legions of Shadows"},{id:"sap_filled_gland",name:"Sap-filled gland",type:"talisman",bookRef:{book:"Legions of Shadows",act:2,section:283},stats:{speed:1},abilities:["Heal"],location:"Kerklick"},{id:"elemental_dust",name:"Elemental dust",type:"talisman",bookRef:{book:"Legions of Shadows",act:2,section:540},stats:{magic:1},abilities:["Might of stone"],location:"Rumbler"},{id:"phoenix_ashes",name:"Phoenix ashes",type:"talisman",bookRef:{book:"Legions of Shadows",act:2,section:565},stats:{magic:1},abilities:["Heal"],location:"Phoenix"},{id:"dours_whetstone_r_w_",name:"Dour's whetstone (R+W)",type:"talisman",bookRef:{book:"Legions of Shadows",act:2,section:593},stats:{speed:1},abilities:["Piercing"],location:"Stone puzzle"},{id:"seal_of_war",name:"Seal of war",type:"talisman",bookRef:{book:"Legions of Shadows",act:2,section:593},stats:{speed:1},abilities:["Fearless"],location:"Stone puzzle"},{id:"braids_of_the_bull",name:"Braids of the bull",type:"talisman",bookRef:{book:"Legions of Shadows",act:2,section:216},stats:{speed:1},abilities:["Charge"],location:"Zen"},{id:"tigers_heart",name:"Tiger's heart",type:"talisman",bookRef:{book:"Legions of Shadows",act:2,section:162},stats:{speed:1},abilities:["Cat's speed"],location:"Shara Khana"},{id:"tigers_fury",name:"Tiger's fury",type:"talisman",bookRef:{book:"Legions of Shadows",act:2,section:162},stats:{speed:1},abilities:["Berserker"],location:"Shara Khana",careerPreference:"Warrior"},{id:"core_of_flame",name:"Core of flame",type:"talisman",bookRef:{book:"Legions of Shadows",act:2,section:407},stats:{magic:1},abilities:["Pyromancer"],location:"Vesuvius",careerPreference:"Mage"},{id:"lady_of_the_lamp",name:"Lady of the lamp",type:"talisman",bookRef:{book:"Legions of Shadows",act:3,section:680},stats:{armour:1},abilities:["Medic"],location:"Lansbury/medic tent",careerPreference:"Mage"},{id:"bone_fetish",name:"Bone fetish",type:"talisman",bookRef:{book:"Legions of Shadows",act:3,section:692},stats:{armour:1},abilities:["Necromancer"],location:"Necromancer",careerPreference:"Mage"},{id:"blinding_dust",name:"Blinding dust",type:"talisman",bookRef:{book:"Legions of Shadows",act:3,section:730},stats:{speed:1},abilities:["Deceive"],location:"Bone giants"},{id:"bag_o_bones",name:"Bag o' bones",type:"talisman",bookRef:{book:"Legions of Shadows",act:3,section:775},stats:{magic:1},abilities:["Curse"],location:"Skeleton horde"},{id:"dark_therapy",name:"Dark therapy",type:"talisman",bookRef:{book:"Legions of Shadows",act:3,section:802},stats:{speed:1},abilities:["Regrowth"],location:"Tomb"},{id:"grimm_ichor",name:"Grimm ichor",type:"talisman",bookRef:{book:"Legions of Shadows",act:3,section:622},stats:{speed:1},abilities:["Poison mastery"],location:"Brothers' Grimm",careerPreference:"Rogue"},{id:"survivors_pennant",name:"Survivor's pennant",type:"talisman",bookRef:{book:"Legions of Shadows",act:3,section:735},stats:{speed:1,brawn:1},abilities:["Fortitude"],location:"Special achievement"},{id:"heart_of_the_beast",name:"Heart of the beast",type:"talisman",bookRef:{book:"Legions of Shadows",act:3,section:702},stats:{speed:1,brawn:1},abilities:["Savagery"],location:"Ghoulash"},{id:"sands_of_time",name:"Sands of time",type:"talisman",bookRef:{book:"Legions of Shadows",act:3,section:754},stats:{speed:1},abilities:["Time shift"],location:"Flay"},{id:"winters_heart",name:"Winter's heart",type:"talisman",bookRef:{book:"Legions of Shadows",act:3,section:761},stats:{magic:1},abilities:["Icelock"],location:"Chilblain",careerPreference:"Mage"},{id:"the_cravens_head",name:"The craven's head",type:"talisman",bookRef:{book:"Legions of Shadows",act:3,section:843},stats:{speed:1,brawn:1},abilities:["Sidestep"],location:"Daarko",careerPreference:"Rogue"},{id:"seed_of_rage",name:"Seed of rage",type:"talisman",bookRef:{book:"Legions of Shadows",act:3,section:878},stats:{magic:2},abilities:["Dominate"],location:"The wrecker",careerPreference:"Mage"},{id:"grannys_locket",name:"Granny's locket",type:"necklace",bookRef:{book:"Legions of Shadows",act:1,section:199},stats:{magic:1},abilities:[],location:"Hobgoblin"},{id:"stone_collar",name:"Stone collar",type:"necklace",bookRef:{book:"Legions of Shadows",act:1,section:41},stats:{armour:1},abilities:["Charm"],location:"Noldor (normal)"},{id:"beads_of_brilliance",name:"Beads of brilliance",type:"necklace",bookRef:{book:"Legions of Shadows",act:1,section:193},stats:{brawn:1,magic:1},abilities:[],location:"Flooded cave"},{id:"clymonistras_sorrow",name:"Clymonistra's sorrow",type:"necklace",bookRef:{book:"Legions of Shadows",act:1,section:112},stats:{magic:1},abilities:["Cly's adornments"],location:"Catacombs"},{id:"trophy_of_bones",name:"Trophy of bones",type:"necklace",bookRef:{book:"Legions of Shadows",act:1,section:44},stats:{magic:1,armour:1},abilities:["Charm"],location:"Humbaroth"},{id:"black_pearl",name:"Black pearl",type:"necklace",bookRef:{book:"Legions of Shadows",act:2,section:432},stats:{magic:2},abilities:["Curse"],location:"Sea spray Steve"},{id:"amber_coated_collar",name:"Amber-coated collar",type:"necklace",bookRef:{book:"Legions of Shadows",act:2,section:314},stats:{armour:1},abilities:["Heal"],location:"Hive queen"},{id:"beetle_shell_garland",name:"Beetle-shell garland",type:"necklace",bookRef:{book:"Legions of Shadows",act:2,section:327},stats:{speed:1},abilities:["Charm"],location:"Trogs"},{id:"channelers_prism",name:"Channeler's prism",type:"necklace",bookRef:{book:"Legions of Shadows",act:2,section:522},stats:{magic:1},abilities:["Focus"],location:"Treasure vault"},{id:"silver_cross",name:"Silver cross",type:"necklace",bookRef:{book:"Legions of Shadows",act:2,section:291},stats:{speed:1,magic:1},abilities:["Heal"],location:"Dead traveller"},{id:"vermillion_heart",name:"Vermillion heart",type:"necklace",bookRef:{book:"Legions of Shadows",act:2,section:455},stats:{speed:1},abilities:["Life spark"],location:"Lady Roe"},{id:"dours_fury",name:"Dour's fury",type:"necklace",bookRef:{book:"Legions of Shadows",act:2,section:397},stats:{speed:1},abilities:["Savagery"],location:"Treasure chest"},{id:"marsh_pendant",name:"Marsh pendant",type:"necklace",bookRef:{book:"Legions of Shadows",act:2,section:506},stats:{magic:1,armour:1},abilities:["Steadfast"],location:"Scorpios"},{id:"pendant_of_foresight",name:"Pendant of foresight",type:"necklace",bookRef:{book:"Legions of Shadows",act:2,section:550},stats:{speed:1},abilities:["Evade"],location:"Jenlar's cabin"},{id:"lodestone",name:"Lodestone",type:"necklace",bookRef:{book:"Legions of Shadows",act:2,section:593},stats:{magic:2},abilities:["Rust"],location:"Stone puzzle"},{id:"warders_collar",name:"Warder's collar",type:"necklace",bookRef:{book:"Legions of Shadows",act:2,section:598},stats:{magic:1,armour:2},abilities:["Might of stone"],location:"Armoury",careerPreference:"Mage"},{id:"diamond_of_the_tundra",name:"Diamond of the tundra",type:"necklace",bookRef:{book:"Legions of Shadows",act:2,section:359},stats:{speed:1},abilities:["Piercing"],location:"King Louis"},{id:"eye_of_shadow",name:"Eye of shadow",type:"necklace",bookRef:{book:"Legions of Shadows",act:2,section:729},stats:{speed:1},abilities:["Haste"],location:"Shadowstalker"},{id:"ghouls_teeth",name:"Ghoul's teeth",type:"necklace",bookRef:{book:"Legions of Shadows",act:3,section:839},stats:{speed:1},abilities:["Piercing"],location:"Waldo's wares",careerPreference:"Rogue"},{id:"chilblains_tears",name:"Chilblain's tears",type:"necklace",bookRef:{book:"Legions of Shadows",act:3,section:914},stats:{magic:1,armour:1},abilities:["Piercing"],location:"Waldo's wares",careerPreference:"Mage"},{id:"leap_of_faith",name:"Leap of faith",type:"necklace",bookRef:{book:"Legions of Shadows",act:3,section:677},stats:{speed:1},abilities:["Radiance"],location:"Tor knight"},{id:"horn_of_courage",name:"Horn of courage",type:"necklace",bookRef:{book:"Legions of Shadows",act:3,section:770},stats:{speed:1,brawn:1},abilities:["Courage"],location:"Rotterghast",careerPreference:"Warrior"},{id:"dark_queen",name:"Dark queen",type:"necklace",bookRef:{book:"Legions of Shadows",act:3,section:834},stats:{magic:2},abilities:["Heal"],location:"Dark ranger"},{id:"charged_core",name:"Charged core",type:"necklace",bookRef:{book:"Legions of Shadows",act:3,section:891},stats:{magic:2},abilities:["Lifespark"],location:"Clockwerk"},{id:"stolen_hope",name:"Stolen hope",type:"necklace",bookRef:{book:"Legions of Shadows",act:3,section:929},stats:{brawn:1,magic:1},abilities:["Deceive"],location:"Dark Arthurian"},{id:"inner_circle",name:"Inner circle",type:"necklace",bookRef:{book:"Legions of Shadows",act:3,section:541},stats:{},abilities:["(+5 health) Curse"],location:"Zul"},{id:"glacial_shards",name:"Glacial shards",type:"necklace",bookRef:{book:"Legions of Shadows",act:3,section:584},stats:{speed:1,brawn:1},abilities:["Piercing"],location:"Chilblain",careerPreference:"Warrior"},{id:"winged_locket",name:"Winged locket",type:"necklace",bookRef:{book:"Legions of Shadows",act:3,section:777},stats:{armour:1},abilities:["(+5 health) Courage"],location:"Rune chest"},{id:"widows_band",name:"Widow's band",type:"ring",bookRef:{book:"Legions of Shadows",act:1,section:104},stats:{magic:1},abilities:["Heal"],location:"Martha"},{id:"missing_link",name:"Missing link",type:"ring",bookRef:{book:"Legions of Shadows",act:1,section:180},stats:{brawn:1,magic:1},abilities:[],location:"Barricaded room"},{id:"travellers_band",name:"Traveller's band",type:"ring",bookRef:{book:"Legions of Shadows",act:1,section:251},stats:{brawn:1,magic:1},abilities:["Charm"],location:"Farm bedroom"},{id:"lightning_ring",name:"Lightning ring",type:"ring",bookRef:{book:"Legions of Shadows",act:1,section:243},stats:{},abilities:["Lightning"],location:"Weather wizard"},{id:"grave_dust_ring",name:"Grave dust ring",type:"ring",bookRef:{book:"Legions of Shadows",act:1,section:106},stats:{brawn:1},abilities:[],location:"Ghouls"},{id:"scholars_circle",name:"Scholar's circle",type:"ring",bookRef:{book:"Legions of Shadows",act:1,section:170},stats:{},abilities:["Eureka!"],location:"Perinold"},{id:"blackfire_ring",name:"Blackfire ring",type:"ring",bookRef:{book:"Legions of Shadows",act:1,section:133},stats:{},abilities:["Sear"],location:"Changeling"},{id:"circle_of_thorns",name:"Circle of thorns",type:"ring",bookRef:{book:"Legions of Shadows",act:1,section:80},stats:{},abilities:["Thorns"],location:"Zaladrell"},{id:"splintered_band",name:"Splintered band",type:"ring",bookRef:{book:"Legions of Shadows",act:2,section:432},stats:{brawn:2},abilities:["Retaliation"],location:"Sea spray Steve",careerPreference:"Warrior"},{id:"my_precious",name:"My precious",type:"ring",bookRef:{book:"Legions of Shadows",act:2,section:327},stats:{armour:1},abilities:["Vanish"],location:"Trogs"},{id:"wayfarers_ring",name:"Wayfarer's ring",type:"ring",bookRef:{book:"Legions of Shadows",act:2,section:291},stats:{brawn:1,magic:1},abilities:["Charm"],location:"Dead traveller"},{id:"vermillion_rage",name:"Vermillion rage",type:"ring",bookRef:{book:"Legions of Shadows",act:2,section:422},stats:{magic:1},abilities:["Bleed"],location:"Count (normal)"},{id:"clymonistras_folly",name:"Clymonistra's folly",type:"ring",bookRef:{book:"Legions of Shadows",act:2,section:460},stats:{magic:1,armour:1},abilities:["Cly's adornments"],location:"Clymonistra"},{id:"finger_of_fire",name:"Finger of fire",type:"ring",bookRef:{book:"Legions of Shadows",act:2,section:655},stats:{brawn:1},abilities:["Sear"],location:"Cinders"},{id:"ring_of_the_marshes",name:"Ring of the marshes",type:"ring",bookRef:{book:"Legions of Shadows",act:2,section:449},stats:{brawn:1,magic:1},abilities:["Swamp legs"],location:"Wreekin"},{id:"steadfast_ring",name:"Steadfast ring",type:"ring",bookRef:{book:"Legions of Shadows",act:2,section:446},stats:{armour:1},abilities:["Steadfast"],location:"Treasure cave",careerPreference:"Mage"},{id:"serpents_coil_r_w_",name:"Serpent's coil (R+W)",type:"ring",bookRef:{book:"Legions of Shadows",act:2,section:333},stats:{brawn:1},abilities:["Immobilise"],location:"Treasure cave"},{id:"band_of_conquest_r_w_",name:"Band of conquest (R+W)",type:"ring",bookRef:{book:"Legions of Shadows",act:2,section:333},stats:{armour:1},abilities:["Fortitude"],location:"Treasure cave"},{id:"abyssal_brimstone",name:"Abyssal brimstone",type:"ring",bookRef:{book:"Legions of Shadows",act:2,section:397},stats:{magic:1},abilities:["Cauterise"],location:"Treasure chest"},{id:"avatars_circle",name:"Avatar's circle",type:"ring",bookRef:{book:"Legions of Shadows",act:2,section:443},stats:{magic:1},abilities:["Overload"],location:"Stone giant",careerPreference:"Mage"},{id:"lupine_lapis",name:"Lupine lapis",type:"ring",bookRef:{book:"Legions of Shadows",act:2,section:696},stats:{brawn:1},abilities:["Bleed"],location:"Raolin Storm"},{id:"menders_marcasite",name:"Mender's marcasite",type:"ring",bookRef:{book:"Legions of Shadows",act:2,section:696},stats:{magic:1},abilities:["Regrowth"],location:"Raolin Storm"},{id:"cutters_cornelian",name:"Cutter's cornelian",type:"ring",bookRef:{book:"Legions of Shadows",act:2,section:696},stats:{armour:1},abilities:["Piercing"],location:"Raolin Storm"},{id:"magpies_mischief",name:"Magpie's mischief",type:"ring",bookRef:{book:"Legions of Shadows",act:2,section:394},stats:{armour:1},abilities:["Steal"],location:"Logan"},{id:"dryads_band",name:"Dryad's band",type:"ring",bookRef:{book:"Legions of Shadows",act:2,section:341},stats:{brawn:1},abilities:["Thorn armour"],location:"Barkrot"},{id:"khanas_revenge",name:"Khana's revenge",type:"ring",bookRef:{book:"Legions of Shadows",act:3,section:815},stats:{brawn:2},abilities:["Bleed"],location:"Waldo's wares",careerPreference:"Warrior"},{id:"wrath_of_ages",name:"Wrath of ages",type:"ring",bookRef:{book:"Legions of Shadows",act:3,section:914},stats:{magic:2},abilities:["Rust"],location:"Waldo's wares",careerPreference:"Mage"},{id:"leader_of_the_pack",name:"Leader of the pack",type:"ring",bookRef:{book:"Legions of Shadows",act:3,section:778},stats:{brawn:1},abilities:["Dominate"],location:"Ghouls"},{id:"sinister_shadows",name:"Sinister shadows",type:"ring",bookRef:{book:"Legions of Shadows",act:3,section:834},stats:{brawn:1,magic:1},abilities:["Vanish"],location:"Dark ranger"},{id:"blood_winter",name:"Blood winter",type:"ring",bookRef:{book:"Legions of Shadows",act:3,section:869},stats:{brawn:1},abilities:["Leech"],location:"Sammain (normal)"},{id:"hunger",name:"Hunger",type:"ring",bookRef:{book:"Legions of Shadows",act:3,section:874},stats:{brawn:2},abilities:["Leech"],location:"Sammain (special)"},{id:"tooth_n_claw",name:"Tooth 'n claw",type:"ring",bookRef:{book:"Legions of Shadows",act:3,section:727},stats:{speed:1,brawn:1},abilities:["Sideswipe"],location:"Brothes' Grimm",careerPreference:"Warrior"},{id:"martyrs_blood",name:"Martyr's blood",type:"ring",bookRef:{book:"Legions of Shadows",act:3,section:735},stats:{magic:1,armour:1},abilities:["Martyr"],location:"Special achievement"},{id:"seven_stars_r_w_",name:"Seven stars (R+W)",type:"ring",bookRef:{book:"Legions of Shadows",act:3,section:577},stats:{brawn:2},abilities:["Heal"],location:"Silleer"},{id:"wytchwood_thorn_r_w_",name:"Wytchwood thorn (R+W)",type:"ring",bookRef:{book:"Legions of Shadows",act:3,section:577},stats:{brawn:1},abilities:["Thorns"],location:"Silleer"},{id:"zuls_zapper",name:"Zul's zapper",type:"ring",bookRef:{book:"Legions of Shadows",act:3,section:541},stats:{brawn:1,magic:1},abilities:["Zapped!"],location:"Zul"},{id:"band_of_elements_w_m_",name:"Band of elements (W+M)",type:"ring",bookRef:{book:"Legions of Shadows",act:3,section:724},stats:{magic:2},abilities:["Lightning"],location:"Budak"},{id:"budaks_signet_w_m_",name:"Budak's signet (W+M)",type:"ring",bookRef:{book:"Legions of Shadows",act:3,section:724},stats:{brawn:1,magic:1},abilities:["Steal"],location:"Budak"},{id:"spider_sapphire_r_m_",name:"Spider sapphire (R+M)",type:"ring",bookRef:{book:"Legions of Shadows",act:3,section:726},stats:{magic:1,armour:1},abilities:["Webbed"],location:"Tor knight"},{id:"serpentine_spiral_r_m_",name:"Serpentine spiral (R+M)",type:"ring",bookRef:{book:"Legions of Shadows",act:3,section:726},stats:{brawn:1,armour:1},abilities:["Immobilise"],location:"Tor knight"},{id:"conduit_of_shadow",name:"Conduit of shadow",type:"ring",bookRef:{book:"Legions of Shadows",act:3,section:865},stats:{magic:3},abilities:["Overload"],location:"Daarko",careerPreference:"Mage"},{id:"stria_of_genna",name:"Stria of Genna",type:"ring",bookRef:{book:"Legions of Shadows",act:3,section:826},stats:{magic:1,armour:2},abilities:["Shock!"],location:"Doom orb",careerPreference:"Mage"},{id:"saddle_blanket",name:"Saddle blanket",type:"cloak",bookRef:{book:"The Heart of Fire",act:1},stats:{armour:1},abilities:[],location:"Prologue"},{id:"inscribed_mantle",name:"Inscribed mantle",type:"cloak",bookRef:{book:"The Heart of Fire",act:1,section:22},stats:{magic:1,armour:1},abilities:["Iron will"],location:"Vendor/Carvel"},{id:"shadow_dyed_cloak",name:"Shadow-dyed cloak",type:"cloak",bookRef:{book:"The Heart of Fire",act:1,section:50},stats:{magic:1},abilities:["Wisdom"],location:"Barrow"},{id:"predators_pelt",name:"Predator's pelt",type:"cloak",bookRef:{book:"The Heart of Fire",act:1,section:106},stats:{brawn:1,armour:1},abilities:[],location:"Dire wolf"},{id:"cardinals_cappa",name:"Cardinal's cappa",type:"cloak",bookRef:{book:"The Heart of Fire",act:1,section:359},stats:{brawn:1,armour:1},abilities:[],location:"Bishop"},{id:"ghost_cloth",name:"Ghost cloth",type:"cloak",bookRef:{book:"The Heart of Fire",act:1,section:367},stats:{armour:1},abilities:["Charm"],location:"Zombie horde (special)"},{id:"spectral_shawl",name:"Spectral shawl",type:"cloak",bookRef:{book:"The Heart of Fire",act:1,section:218},stats:{brawn:1},abilities:["Vanish"],location:"Reverend"},{id:"grizzly_mantle",name:"Grizzly mantle",type:"cloak",bookRef:{book:"The Heart of Fire",act:1,section:105},stats:{brawn:1},abilities:["Savagery"],location:"Cuddles"},{id:"rock_shoulders",name:"Rock shoulders",type:"cloak",bookRef:{book:"The Heart of Fire",act:1,section:228},stats:{armour:1},abilities:["Might of stone"],location:"Toymaker's golems"},{id:"wildfire_weave",name:"Wildfire weave",type:"cloak",bookRef:{book:"The Heart of Fire",act:1,section:231},stats:{magic:1,armour:1},abilities:["Backdraft"],location:"Black shuck"},{id:"chibacha",name:"Chibacha",type:"cloak",bookRef:{book:"The Heart of Fire",act:2,section:612},stats:{speed:1,brawn:2},abilities:["Gorilla rage"],location:"Vendor/Emerald Isle"},{id:"lice_ridden_pelt",name:"Lice-ridden pelt",type:"cloak",bookRef:{book:"The Heart of Fire",act:2,section:232},stats:{speed:1,brawn:1},abilities:["Parasite"],location:"Lycanth",careerPreference:"Warrior"},{id:"shades_mantle",name:"Shade's mantle",type:"cloak",bookRef:{book:"The Heart of Fire",act:2,section:556},stats:{speed:1,brawn:1},abilities:["Trickster"],location:"Umbra",careerPreference:"Warrior"},{id:"hair_of_the_wolf",name:"Hair of the wolf",type:"cloak",bookRef:{book:"The Heart of Fire",act:2,section:507},stats:{speed:1,brawn:1},abilities:["Cunning"],location:"Lycanth",careerPreference:"Rogue"},{id:"stole_of_shadow",name:"Stole of shadow",type:"cloak",bookRef:{book:"The Heart of Fire",act:2,section:255},stats:{speed:1,brawn:1},abilities:["Steal"],location:"Umbra",careerPreference:"Rogue"},{id:"twister",name:"Twister",type:"cloak",bookRef:{book:"The Heart of Fire",act:2,section:346},stats:{speed:1,magic:1},abilities:["Confound"],location:"Zephyr",careerPreference:"Mage"},{id:"conch_shoulders",name:"Conch shoulders",type:"cloak",bookRef:{book:"The Heart of Fire",act:2,section:634},stats:{speed:1,armour:1},abilities:["Timeshift"],location:"Yootha (side quest)"},{id:"coronados_pride",name:"Coronado's pride",type:"cloak",bookRef:{book:"The Heart of Fire",act:2,section:501},stats:{speed:1,magic:1},abilities:["Reckless"],location:"Dead explorer"},{id:"shroud_of_nightmares",name:"Shroud of nightmares",type:"cloak",bookRef:{book:"The Heart of Fire",act:2,section:748},stats:{speed:1,brawn:2},abilities:["Confound"],location:"Succubus"},{id:"net_of_snares",name:"Net of snares",type:"cloak",bookRef:{book:"The Heart of Fire",act:2,section:720},stats:{speed:1,magic:1},abilities:["Immobilise"],location:"Perez"},{id:"hunters_burden",name:"Hunter's burden",type:"cloak",bookRef:{book:"The Heart of Fire",act:2,section:369},stats:{speed:1,armour:2},abilities:["Feint"],location:"Buckmaster Bill (side quest)",careerPreference:"Mage"},{id:"cope_of_rituals",name:"Cope of rituals",type:"cloak",bookRef:{book:"The Heart of Fire",act:2,section:511},stats:{speed:1,brawn:2},abilities:["Heal"],location:"Sun vault",careerPreference:"Rogue"},{id:"shredded_drape",name:"Shredded drape",type:"cloak",bookRef:{book:"The Heart of Fire",act:2,section:666},stats:{speed:1,armour:2},abilities:["Channel"],location:"Lich",careerPreference:"Mage"},{id:"cape_of_the_savage",name:"Cape of the savage",type:"cloak",bookRef:{book:"The Heart of Fire",act:2,section:714},stats:{speed:1,magic:2},abilities:["Primal"],location:"Gheira",careerPreference:"Mage"},{id:"back_to_the_wild_w_r_",name:"Back to the wild (W/R)",type:"cloak",bookRef:{book:"The Heart of Fire",act:2,section:729},stats:{speed:1,brawn:2},abilities:["Fearless"],location:"Gheira"},{id:"mantle_of_the_deceiver",name:"Mantle of the deceiver",type:"cloak",bookRef:{book:"The Heart of Fire",act:2,section:383},stats:{speed:1,brawn:3,armour:2},abilities:["Deceive"],location:"Kaala"},{id:"shawl_of_skulls",name:"Shawl of skulls",type:"cloak",bookRef:{book:"The Heart of Fire",act:2,section:657},stats:{speed:1,armour:2},abilities:["Purge"],location:"Siren sisters (side quest)",careerPreference:"Mage"},{id:"drake_skin_epaulets",name:"Drake-skin epaulets",type:"cloak",bookRef:{book:"The Heart of Fire",act:2,section:761},stats:{speed:2,magic:4},abilities:["Backdraft"],location:"Issachar",careerPreference:"Mage"},{id:"cloak_of_the_undying",name:"Cloak of the undying",type:"cloak",bookRef:{book:"The Heart of Fire",act:3,section:682},stats:{speed:2},abilities:["(+3 health) Gr. heal"],location:"Vendor/Haunted shop"},{id:"wings_of_fury",name:"Wings of fury",type:"cloak",bookRef:{book:"The Heart of Fire",act:3,section:790},stats:{speed:2,magic:3},abilities:["Surge"],location:"Furies",careerPreference:"Mage"},{id:"sentry_shoulders",name:"Sentry shoulders",type:"cloak",bookRef:{book:"The Heart of Fire",act:3,section:546},stats:{speed:2,armour:2},abilities:["Heavy blow"],location:"Bridge sentries",careerPreference:"Warrior"},{id:"patchwork_pulp",name:"Patchwork pulp",type:"cloak",bookRef:{book:"The Heart of Fire",act:3,section:554},stats:{speed:2,brawn:2},abilities:["Slick"],location:"Book wyrm"},{id:"nemesis_shawl",name:"Nemesis shawl",type:"cloak",bookRef:{book:"The Heart of Fire",act:3,section:787},stats:{speed:2,magic:3},abilities:["Wither"],location:"Nephele",careerPreference:"Mage"},{id:"cape_of_the_unseen",name:"Cape of the unseen",type:"cloak",bookRef:{book:"The Heart of Fire",act:3,section:723},stats:{speed:2,brawn:3},abilities:["Coup de grace"],location:"Nephele",careerPreference:"Rogue"},{id:"runeplate_pauldrons",name:"Runeplate pauldrons",type:"cloak",bookRef:{book:"The Heart of Fire",act:3,section:834},stats:{speed:2,armour:2},abilities:["Last defence"],location:"Erkil",careerPreference:"Warrior"},{id:"mesh_of_sinew",name:"Mesh of sinew",type:"cloak",bookRef:{book:"The Heart of Fire",act:3,section:608},stats:{speed:2,brawn:4},abilities:["Dark pact"],location:"Evin Daala",careerPreference:"Rogue"},{id:"blackrock_shoulders",name:"Blackrock shoulders",type:"cloak",bookRef:{book:"The Heart of Fire",act:3,section:637},stats:{speed:2,brawn:4},abilities:["Retaliation"],location:"Krakatoa",careerPreference:"Warrior"},{id:"plumed_helm",name:"Plumed helm",type:"head",bookRef:{book:"The Heart of Fire",act:1},stats:{armour:1},abilities:[],location:"Prologue"},{id:"dark_scale_war_helm",name:"Dark-scale war helm",type:"head",bookRef:{book:"The Heart of Fire",act:1,section:230},stats:{speed:1,armour:1},abilities:["Deflect"],location:"Vendor/Carvel"},{id:"white_mane",name:"White mane",type:"head",bookRef:{book:"The Heart of Fire",act:1,section:292},stats:{brawn:1,magic:1},abilities:["Charm"],location:"Manticore"},{id:"chieftains_guard",name:"Chieftain's guard",type:"head",bookRef:{book:"The Heart of Fire",act:1,section:34},stats:{brawn:1},abilities:["Might of stone"],location:"Barrow"},{id:"assassins_veil",name:"Assassin's veil",type:"head",bookRef:{book:"The Heart of Fire",act:1,section:198},stats:{magic:1},abilities:["Vanish"],location:"Assassin ant"},{id:"snipers_goggles",name:"Sniper's goggles",type:"head",bookRef:{book:"The Heart of Fire",act:1,section:258},stats:{armour:1},abilities:["Focus"],location:"Pirates"},{id:"marauders_bandanna",name:"Marauder's bandanna",type:"head",bookRef:{book:"The Heart of Fire",act:1,section:79},stats:{brawn:1},abilities:[],location:"Crews' quarters"},{id:"crown_of_spite",name:"Crown of spite",type:"head",bookRef:{book:"The Heart of Fire",act:1,section:381},stats:{armour:1},abilities:["Curse"],location:"Queen Ballona"},{id:"lock_jaw",name:"Lock jaw",type:"head",bookRef:{book:"The Heart of Fire",act:1,section:219},stats:{brawn:1,armour:1},abilities:["Slam"],location:"Saw"},{id:"hat_of_stars",name:"Hat of stars",type:"head",bookRef:{book:"The Heart of Fire",act:1,section:279},stats:{brawn:1,magic:1},abilities:["Charm"],location:"Stitches puzzle"},{id:"hood_of_the_night_fiend",name:"Hood of the night fiend",type:"head",bookRef:{book:"The Heart of Fire",act:1,section:493},stats:{brawn:1,armour:1},abilities:["Fiend's finest"],location:"Custodian"},{id:"garland_of_sacrifice",name:"Garland of sacrifice",type:"head",bookRef:{book:"The Heart of Fire",act:1,section:155},stats:{speed:1,brawn:2},abilities:["Atonement"],location:"Wickerman"},{id:"cobwebbed_capotain",name:"Cobwebbed capotain",type:"head",bookRef:{book:"The Heart of Fire",act:2,section:255},stats:{speed:1,brawn:1},abilities:["Missionary's calling"],location:"Umbra",careerPreference:"Rogue"},{id:"umbras_cowl",name:"Umbra's cowl",type:"head",bookRef:{book:"The Heart of Fire",act:2,section:534},stats:{speed:1,magic:1},abilities:["Trickster"],location:"Umbra",careerPreference:"Mage"},{id:"braids_of_the_outcast",name:"Braids of the outcast",type:"head",bookRef:{book:"The Heart of Fire",act:2,section:350},stats:{speed:1,magic:1},abilities:["Fearless"],location:"Lycanth",careerPreference:"Mage"},{id:"coif_of_waning",name:"Coif of waning",type:"head",bookRef:{book:"The Heart of Fire",act:2,section:455},stats:{speed:1,armour:2},abilities:["Dominate"],location:"Grub knight"},{id:"totem_mask",name:"Totem mask",type:"head",bookRef:{book:"The Heart of Fire",act:2,section:621},stats:{speed:1,brawn:2},abilities:["Might of stone"],location:"Totem"},{id:"monkey_brain",name:"Monkey brain",type:"head",bookRef:{book:"The Heart of Fire",act:2,section:634},stats:{speed:1,magic:2},abilities:["Disrupt"],location:"Yootha (side quest)"},{id:"hammerhead",name:"Hammerhead",type:"head",bookRef:{book:"The Heart of Fire",act:2,section:470},stats:{speed:1,armour:2},abilities:["Charge"],location:"Guano chest",careerPreference:"Warrior"},{id:"dark_vine_pith",name:"Dark vine pith",type:"head",bookRef:{book:"The Heart of Fire",act:2,section:479},stats:{speed:1,armour:2},abilities:["Thorns"],location:"Buckmaster Bill",careerPreference:"Mage"},{id:"maidens_mask",name:"Maiden's mask",type:"head",bookRef:{book:"The Heart of Fire",act:2,section:699},stats:{speed:1,magic:2},abilities:["Sear"],location:"Sun maidens"},{id:"wings_of_gold",name:"Wings of gold",type:"head",bookRef:{book:"The Heart of Fire",act:2,section:524},stats:{speed:1,armour:1},abilities:["Time shift"],location:"Golden guards"},{id:"king_of_the_pond",name:"King of the pond",type:"head",bookRef:{book:"The Heart of Fire",act:2,section:575},stats:{speed:1,magic:2},abilities:["Overload"],location:"Fisher King",careerPreference:"Mage"},{id:"anansis_hood",name:"Anansi's hood",type:"head",bookRef:{book:"The Heart of Fire",act:2,section:685},stats:{speed:1,magic:3},abilities:["Webbed"],location:"Anansi",careerPreference:"Mage"},{id:"eyes_of_the_serpent_w_r_",name:"Eyes of the serpent (W/R)",type:"head",bookRef:{book:"The Heart of Fire",act:2,section:383},stats:{speed:1,armour:2},abilities:["Hypnotise"],location:"Kaala"},{id:"crown_of_gandhara",name:"Crown of Gandhara",type:"head",bookRef:{book:"The Heart of Fire",act:2,section:737},stats:{speed:1,brawn:2},abilities:["Command"],location:"Hanuman"},{id:"black_talon_hood",name:"Black talon hood",type:"head",bookRef:{book:"The Heart of Fire",act:2,section:770},stats:{speed:2,brawn:3},abilities:["Vanish"],location:"Issachar",careerPreference:"Rogue"},{id:"troll_tusks",name:"Troll tusks",type:"head",bookRef:{book:"The Heart of Fire",act:3,section:724},stats:{speed:2,armour:2},abilities:["Charge"],location:"Nergal"},{id:"helm_of_reflection",name:"Helm of reflection",type:"head",bookRef:{book:"The Heart of Fire",act:3,section:546},stats:{speed:2,armour:2},abilities:["Deflect"],location:"Bridge sentries",careerPreference:"Mage"},{id:"mourn_helm",name:"Mourn helm",type:"head",bookRef:{book:"The Heart of Fire",act:3,section:789},stats:{speed:2,brawn:2},abilities:["Impale"],location:"Nyx the dark wind",careerPreference:"Warrior"},{id:"wastrels_guise",name:"Wastrel's guise",type:"head",bookRef:{book:"The Heart of Fire",act:3,section:730},stats:{speed:2,brawn:2},abilities:["Blind"],location:"Kuderas",careerPreference:"Rogue"},{id:"mordant_shroud",name:"Mordant shroud",type:"head",bookRef:{book:"The Heart of Fire",act:3,section:781},stats:{speed:2,magic:3},abilities:["Acid"],location:"Chilopoda",careerPreference:"Mage"},{id:"crimson_cover",name:"Crimson cover",type:"head",bookRef:{book:"The Heart of Fire",act:3,section:598},stats:{speed:2,brawn:2},abilities:["Bleed"],location:"Joss",careerPreference:"Rogue"},{id:"blood_sworn_crown",name:"Blood-sworn crown",type:"head",bookRef:{book:"The Heart of Fire",act:3,section:615},stats:{speed:2,armour:3},abilities:["Iron will"],location:"Erkil (hexed)",careerPreference:"Warrior"},{id:"volcanists_hood",name:"Volcanist's hood",type:"head",bookRef:{book:"The Heart of Fire",act:3,section:803},stats:{speed:2,magic:3},abilities:["Overload"],location:"Erkil (hexed)",careerPreference:"Mage"},{id:"prowlers_cowl",name:"Prowler's cowl",type:"head",bookRef:{book:"The Heart of Fire",act:3,section:878},stats:{speed:2,brawn:4},abilities:["Vanish"],location:"Erkil (hexed)",careerPreference:"Rogue"},{id:"gore_mask",name:"Gore mask",type:"head",bookRef:{book:"The Heart of Fire",act:3,section:608},stats:{speed:2,brawn:3},abilities:["Mangle"],location:"Evin Daala",careerPreference:"Rogue"},{id:"puritans_peak",name:"Puritan's peak",type:"head",bookRef:{book:"The Heart of Fire",act:3,section:871},stats:{speed:2,armour:2},abilities:["Charm","Heal"],location:"Virgil"},{id:"krakkas_crown",name:"Krakka's crown",type:"head",bookRef:{book:"The Heart of Fire",act:3,section:873},stats:{speed:2,magic:5},abilities:["Command"],location:"Krakatoa",careerPreference:"Mage"},{id:"troll_skin_gloves",name:"Troll-skin gloves",type:"gloves",bookRef:{book:"The Heart of Fire",act:1,section:50},stats:{armour:1},abilities:[],location:"Barrow"},{id:"gloves_of_the_night_fiend",name:"Gloves of the night fiend",type:"gloves",bookRef:{book:"The Heart of Fire",act:1,section:48},stats:{brawn:1},abilities:["Fiend's finest"],location:"Highwayman"},{id:"dark_vein_bracers",name:"Dark vein bracers",type:"gloves",bookRef:{book:"The Heart of Fire",act:1,section:91},stats:{speed:1,armour:1},abilities:[],location:"Margoyle"},{id:"dread_forge_gauntlets",name:"Dread forge gauntlets",type:"gloves",bookRef:{book:"The Heart of Fire",act:1,section:23},stats:{brawn:1,magic:1},abilities:["Retaliation"],location:"Forger"},{id:"patchwork_gloves",name:"Patchwork gloves",type:"gloves",bookRef:{book:"The Heart of Fire",act:1,section:228},stats:{magic:1,armour:1},abilities:["Charm"],location:"Toymaker's golems"},{id:"janitors_safety_gloves",name:"Janitor's safety gloves",type:"gloves",bookRef:{book:"The Heart of Fire",act:1,section:236},stats:{brawn:1,armour:1},abilities:[],location:"Poltergeist"},{id:"armbands_of_living_flame",name:"Armbands of living flame",type:"gloves",bookRef:{book:"The Heart of Fire",act:1,section:301},stats:{speed:1,magic:1},abilities:["Sear"],location:"Dagona"},{id:"phantom_gauntlets",name:"Phantom gauntlets",type:"gloves",bookRef:{book:"The Heart of Fire",act:1,section:124},stats:{speed:1,brawn:1},abilities:["Curse"],location:"Gairn"},{id:"dons_fists",name:"Don's fists",type:"gloves",bookRef:{book:"The Heart of Fire",act:2,section:492},stats:{speed:1,brawn:3},abilities:["Sideswipe"],location:"Scholar (side quest)"},{id:"rusted_armbands",name:"Rusted armbands",type:"gloves",bookRef:{book:"The Heart of Fire",act:2,section:232},stats:{brawn:1,armour:1},abilities:["Counter"],location:"Lycanth",careerPreference:"Warrior"},{id:"bracers_of_frenzy",name:"Bracers of frenzy",type:"gloves",bookRef:{book:"The Heart of Fire",act:2,section:160},stats:{speed:1,brawn:1},abilities:["Compulsion"],location:"Zephyr",careerPreference:"Warrior"},{id:"fingerless_gloves",name:"Fingerless gloves",type:"gloves",bookRef:{book:"The Heart of Fire",act:2,section:246},stats:{speed:1,brawn:1},abilities:["Crawlers"],location:"Gaia",careerPreference:"Rogue"},{id:"shocking_scales",name:"Shocking scales",type:"gloves",bookRef:{book:"The Heart of Fire",act:2,section:158},stats:{speed:1,magic:1},abilities:["Shock!"],location:"Boogaloo",careerPreference:"Mage"},{id:"armbands_of_attraction",name:"Armbands of attraction",type:"gloves",bookRef:{book:"The Heart of Fire",act:2,section:544},stats:{speed:1,magic:1},abilities:["Confound"],location:"Gaia",careerPreference:"Mage"},{id:"weepers_blooms",name:"Weeper's blooms",type:"gloves",bookRef:{book:"The Heart of Fire",act:2,section:709},stats:{speed:1,magic:2},abilities:["Call of nature"],location:"The weeper",careerPreference:"Mage"},{id:"bone_bracelets",name:"Bone bracelets",type:"gloves",bookRef:{book:"The Heart of Fire",act:2,section:765},stats:{speed:1,brawn:1},abilities:["Trickster"],location:"Witch"},{id:"rainbow_skin_brassard",name:"Rainbow-skin brassard",type:"gloves",bookRef:{book:"The Heart of Fire",act:2,section:660},stats:{speed:1,magic:1},abilities:["Regrowth"],location:"Drecko",careerPreference:"Mage"},{id:"the_untouchables",name:"The untouchables",type:"gloves",bookRef:{book:"The Heart of Fire",act:2,section:501},stats:{speed:1,brawn:2},abilities:["Shunt"],location:"Coronado"},{id:"leather_long_arms",name:"Leather long arms",type:"gloves",bookRef:{book:"The Heart of Fire",act:2,section:479},stats:{speed:1,brawn:2},abilities:["Sure grip"],location:"Buckmaster Bill"},{id:"burnished_gauntlets",name:"Burnished gauntlets",type:"gloves",bookRef:{book:"The Heart of Fire",act:2,section:524},stats:{brawn:2,armour:2},abilities:["Knockdown"],location:"Golden guards"},{id:"prickle_pair",name:"Prickle pair",type:"gloves",bookRef:{book:"The Heart of Fire",act:2,section:683},stats:{speed:1,brawn:2},abilities:["Barbs"],location:"Sitadell",careerPreference:"Rogue"},{id:"waxen_wilds",name:"Waxen wilds",type:"gloves",bookRef:{book:"The Heart of Fire",act:2,section:714},stats:{speed:1,armour:2},abilities:["Surge"],location:"Gheira",careerPreference:"Mage"},{id:"spider_grips_w_r_",name:"Spider grips (W/R)",type:"gloves",bookRef:{book:"The Heart of Fire",act:2,section:840},stats:{speed:1,brawn:2},abilities:["Sure grip"],location:"Anansi"},{id:"drakes_scales",name:"Drake's scales",type:"gloves",bookRef:{book:"The Heart of Fire",act:2,section:745},stats:{speed:1,brawn:4},abilities:["Rake"],location:"Issachar",careerPreference:"Warrior"},{id:"nergals_splinters",name:"Nergal's splinters",type:"gloves",bookRef:{book:"The Heart of Fire",act:3,section:724},stats:{speed:1,armour:2},abilities:["Rake"],location:"Nergal",careerPreference:"Mage"},{id:"warfists_of_fury",name:"Warfists of fury",type:"gloves",bookRef:{book:"The Heart of Fire",act:3,section:790},stats:{speed:1,brawn:3},abilities:["Knockdown"],location:"Furies",careerPreference:"Warrior"},{id:"deft_hands",name:"Deft hands",type:"gloves",bookRef:{book:"The Heart of Fire",act:3,section:642},stats:{speed:1,brawn:2},abilities:["Stun","steal"],location:"Imp"},{id:"fortunes_seekers",name:"Fortune's seekers",type:"gloves",bookRef:{book:"The Heart of Fire",act:3,section:730},stats:{speed:1,brawn:4},abilities:["Unstoppable"],location:"Kuderas",careerPreference:"Warrior"},{id:"gloves_of_the_firmament",name:"Gloves of the firmament",type:"gloves",bookRef:{book:"The Heart of Fire",act:3,section:728},stats:{speed:1,magic:4},abilities:["Resolve"],location:"Evin Daala",careerPreference:"Mage"},{id:"gore_soaked_fists",name:"Gore-soaked fists",type:"gloves",bookRef:{book:"The Heart of Fire",act:3,section:791},stats:{speed:1,brawn:4},abilities:["Slam"],location:"Evin Daala",careerPreference:"Warrior"},{id:"grips_of_living_stone",name:"Grips of living stone",type:"gloves",bookRef:{book:"The Heart of Fire",act:3,section:794},stats:{speed:1,armour:4},abilities:["Might of stone"],location:"Erkil",careerPreference:"Rogue"},{id:"blood_sworn_gauntlets",name:"Blood-sworn gauntlets",type:"gloves",bookRef:{book:"The Heart of Fire",act:3,section:679},stats:{speed:1,brawn:4},abilities:["Resolve"],location:"Nephele (hexed)",careerPreference:"Warrior"},{id:"prowlers_handguards",name:"Prowler's handguards",type:"gloves",bookRef:{book:"The Heart of Fire",act:3,section:838},stats:{speed:1,brawn:4},abilities:["Sneak"],location:"Nephele (hexed)",careerPreference:"Rogue"},{id:"volcanists_handwraps",name:"Volcanist's handwraps",type:"gloves",bookRef:{book:"The Heart of Fire",act:3,section:708},stats:{speed:1,magic:4},abilities:["Melt"],location:"Nephele (hexed)",careerPreference:"Mage"},{id:"riders_jerkin",name:"Rider's jerkin",type:"chest",bookRef:{book:"The Heart of Fire",act:1},stats:{speed:1},abilities:[],location:"Prologue"},{id:"josephs_coat",name:"Joseph's coat",type:"chest",bookRef:{book:"The Heart of Fire",act:1},stats:{speed:1,armour:1},abilities:["Second skin","charm"],location:"(side quest)"},{id:"wolf_bone_vest",name:"Wolf-bone vest",type:"chest",bookRef:{book:"The Heart of Fire",act:1,section:106},stats:{speed:1,armour:1},abilities:[],location:"Direwolf"},{id:"highwaymans_coat",name:"Highwayman's coat",type:"chest",bookRef:{book:"The Heart of Fire",act:1,section:48},stats:{speed:1,magic:1},abilities:["Fear"],location:"Highwayman"},{id:"green_blaze",name:"Green blaze",type:"chest",bookRef:{book:"The Heart of Fire",act:1,section:198},stats:{speed:1,armour:1},abilities:["Haste"],location:"Assassin ant"},{id:"rusted_chainmail",name:"Rusted chainmail",type:"chest",bookRef:{book:"The Heart of Fire",act:1,section:205},stats:{speed:1,armour:1},abilities:[],location:"Cannon crew"},{id:"knot_of_knives",name:"Knot of knives",type:"chest",bookRef:{book:"The Heart of Fire",act:1,section:286},stats:{speed:1,brawn:1},abilities:["Flurry"],location:"Lazlo (special)"},{id:"medics_uniform",name:"Medic's uniform",type:"chest",bookRef:{book:"The Heart of Fire",act:1,section:279},stats:{speed:1,magic:1},abilities:["Heal"],location:"Stitches puzzle"},{id:"barbarians_chest_wig",name:"Barbarian's chest wig",type:"chest",bookRef:{book:"The Heart of Fire",act:1,section:279},stats:{speed:1,brawn:1},abilities:["Fear"],location:"Stitches puzzle"},{id:"sawdust_n_stitches",name:"Sawdust 'n stitches",type:"chest",bookRef:{book:"The Heart of Fire",act:1,section:105},stats:{speed:1,armour:1},abilities:["Heartless"],location:"Cuddles"},{id:"charged_breastplate",name:"Charged breastplate",type:"chest",bookRef:{book:"The Heart of Fire",act:1,section:44},stats:{brawn:1,armour:1},abilities:["Lightning"],location:"Stone giants"},{id:"shockwave",name:"Shockwave",type:"chest",bookRef:{book:"The Heart of Fire",act:1,section:188},stats:{brawn:2,armour:1},abilities:["Lightning"],location:"Stone giants (special)"},{id:"barkskin_barding",name:"Barkskin barding",type:"chest",bookRef:{book:"The Heart of Fire",act:1,section:308},stats:{speed:1,armour:1},abilities:["Thorn armour"],location:"Orgorath"},{id:"hound_masters_tunic",name:"Hound-master's tunic",type:"chest",bookRef:{book:"The Heart of Fire",act:1,section:231},stats:{speed:1,brawn:1},abilities:["Sideswipe"],location:"Black shuck"},{id:"stoneguard_chest",name:"Stoneguard chest",type:"chest",bookRef:{book:"The Heart of Fire",act:2,section:528},stats:{speed:1,brawn:2},abilities:["Might of stone"],location:"Gaia",careerPreference:"Warrior"},{id:"gravedirt_girdle",name:"Gravedirt girdle",type:"chest",bookRef:{book:"The Heart of Fire",act:2,section:544},stats:{speed:1,magic:1},abilities:["Parasite"],location:"Gaia",careerPreference:"Mage"},{id:"preachers_coat",name:"Preacher's coat",type:"chest",bookRef:{book:"The Heart of Fire",act:2,section:246},stats:{speed:1,brawn:1},abilities:["Missionary's calling"],location:"Gaia",careerPreference:"Rogue"},{id:"nocturnal_leathers",name:"Nocturnal leathers",type:"chest",bookRef:{book:"The Heart of Fire",act:2,section:556},stats:{speed:1,brawn:2},abilities:["Savagery"],location:"Umbra",careerPreference:"Warrior"},{id:"electrified_vest",name:"Electrified vest",type:"chest",bookRef:{book:"The Heart of Fire",act:2,section:325},stats:{speed:1,brawn:1},abilities:["Shock!"],location:"Boogaloo",careerPreference:"Rogue"},{id:"forest_cuirass",name:"Forest cuirass",type:"chest",bookRef:{book:"The Heart of Fire",act:2,section:709},stats:{brawn:2,armour:2},abilities:["Thorn armour"],location:"The weeper",careerPreference:"Warrior"},{id:"gator_aid",name:"Gator aid",type:"chest",bookRef:{book:"The Heart of Fire",act:2,section:742},stats:{speed:1,armour:2},abilities:["Second skin"],location:"Alligator"},{id:"bright_scale_hauberk",name:"Bright scale hauberk",type:"chest",bookRef:{book:"The Heart of Fire",act:2,section:660},stats:{brawn:2,armour:2},abilities:["Radiance"],location:"Drecko",careerPreference:"Warrior"},{id:"desolation_robes",name:"Desolation robes",type:"chest",bookRef:{book:"The Heart of Fire",act:2,section:748},stats:{speed:2,magic:2},abilities:["Siphon"],location:"Succubus"},{id:"buckmasters_jacket",name:"Buckmaster's jacket",type:"chest",bookRef:{book:"The Heart of Fire",act:2,section:479},stats:{brawn:3,armour:1},abilities:["Cunning"],location:"Buckmaster Bill",careerPreference:"Warrior"},{id:"snipers_jacket",name:"Sniper's jacket",type:"chest",bookRef:{book:"The Heart of Fire",act:2,section:243},stats:{speed:1,magic:1},abilities:["Focus"],location:"Sniper"},{id:"trackers_chestguard",name:"Tracker's chestguard",type:"chest",bookRef:{book:"The Heart of Fire",act:2,section:678},stats:{speed:1,armour:2},abilities:["Critical strike"],location:"Tigris"},{id:"safari_cams",name:"Safari cams",type:"chest",bookRef:{book:"The Heart of Fire",act:2,section:421},stats:{speed:1,armour:2},abilities:["Vanish"],location:"Buckmaster Bill (side quest)",careerPreference:"Warrior"},{id:"burnished_breastplate",name:"Burnished breastplate",type:"chest",bookRef:{book:"The Heart of Fire",act:2,section:699},stats:{brawn:3,armour:2},abilities:["Blind"],location:"Golden guards"},{id:"gilded_chasuble",name:"Gilded chasuble",type:"chest",bookRef:{book:"The Heart of Fire",act:2,section:531},stats:{speed:2,magic:2},abilities:["Channel"],location:"Sun vault",careerPreference:"Mage"},{id:"widows_weave",name:"Widow's weave",type:"chest",bookRef:{book:"The Heart of Fire",act:2,section:685},stats:{speed:2,magic:3},abilities:["Weaver"],location:"Anansi",careerPreference:"Mage"},{id:"snakeskin_coat",name:"Snakeskin coat",type:"chest",bookRef:{book:"The Heart of Fire",act:2,section:473},stats:{speed:2,brawn:2},abilities:["Deceive"],location:"Kaala",careerPreference:"Rogue"},{id:"drakefire_raiment",name:"Drakefire raiment",type:"chest",bookRef:{book:"The Heart of Fire",act:2,section:761},stats:{speed:2,magic:3},abilities:["Fire aura"],location:"Issachar",careerPreference:"Mage"},{id:"drakefire_chestguard",name:"Drakefire chestguard",type:"chest",bookRef:{book:"The Heart of Fire",act:2,section:745},stats:{brawn:4,armour:3},abilities:["Barbs"],location:"Issachar",careerPreference:"Warrior"},{id:"brace_of_fury",name:"Brace of fury",type:"chest",bookRef:{book:"The Heart of Fire",act:3,section:790},stats:{speed:2,brawn:3},abilities:["Critical strike"],location:"Furies",careerPreference:"Rogue"},{id:"magma_hide",name:"Magma hide",type:"chest",bookRef:{book:"The Heart of Fire",act:3,section:783},stats:{speed:1,brawn:3},abilities:["Backdraft"],location:"Magma hounds",careerPreference:"Warrior"},{id:"sanguine_surcoat",name:"Sanguine surcoat",type:"chest",bookRef:{book:"The Heart of Fire",act:3,section:598},stats:{speed:2,magic:4},abilities:["Dark pact"],location:"Joss",careerPreference:"Mage"},{id:"mucus_membrane",name:"Mucus membrane",type:"chest",bookRef:{book:"The Heart of Fire",act:3,section:781},stats:{speed:2,armour:2},abilities:["Immobilise"],location:"Chilopoda",careerPreference:"Warrior"},{id:"gluttons_robes",name:"Glutton's robes",type:"chest",bookRef:{book:"The Heart of Fire",act:3,section:730},stats:{speed:2,magic:4},abilities:["Leech"],location:"Kuderas",careerPreference:"Mage"},{id:"titan_forged_hauberk",name:"Titan-forged hauberk",type:"chest",bookRef:{book:"The Heart of Fire",act:3,section:716},stats:{speed:2,armour:3},abilities:["Thorn armour"],location:"Erkil",careerPreference:"Mage"},{id:"crystal_plate",name:"Crystal plate",type:"chest",bookRef:{book:"The Heart of Fire",act:3,section:818},stats:{speed:2,brawn:4},abilities:["Overpower"],location:"Nephele",careerPreference:"Warrior"},{id:"blood_sworn_chestguard",name:"Blood-sworn chestguard",type:"chest",bookRef:{book:"The Heart of Fire",act:3,section:800},stats:{speed:1,armour:2},abilities:["Unstoppable"],location:"Ixion (hexed)",careerPreference:"Warrior"},{id:"prowlers_tunic",name:"Prowler's tunic",type:"chest",bookRef:{book:"The Heart of Fire",act:3,section:732},stats:{speed:2,brawn:4},abilities:["Critical strike"],location:"Ixion (hexed)"},{id:"volcanists_vestment",name:"Volcanist's vestment",type:"chest",bookRef:{book:"The Heart of Fire",act:3,section:808},stats:{speed:2,armour:4},abilities:["Reaper"],location:"Ixion (hexed)"},{id:"rock_spine_coat",name:"Rock spine coat",type:"chest",bookRef:{book:"The Heart of Fire",act:3,section:830},stats:{speed:2,brawn:4},abilities:["Gouge"],location:"Krakatoa",careerPreference:"Rogue"},{id:"krakkas_casing",name:"Krakka's casing",type:"chest",bookRef:{book:"The Heart of Fire",act:3,section:637},stats:{speed:2,armour:4},abilities:["Thorn armour"],location:"Krakatoa",careerPreference:"Warrior"},{id:"pilgrims_progress",name:"Pilgrim's progress",type:"feet",bookRef:{book:"The Heart of Fire",act:1,section:235},stats:{speed:1,armour:1},abilities:["Surefooted"],location:"Vendor/Raven's Rest"},{id:"ghost_riders_spurs",name:"Ghost rider's spurs",type:"feet",bookRef:{book:"The Heart of Fire",act:1,section:48},stats:{speed:1},abilities:["Reckless"],location:"Highwayman"},{id:"bile_coated_boots",name:"Bile-coated boots",type:"feet",bookRef:{book:"The Heart of Fire",act:1,section:300},stats:{brawn:1,magic:1},abilities:[],location:"Number 13"},{id:"tarsus_boots",name:"Tarsus boots",type:"feet",bookRef:{book:"The Heart of Fire",act:1,section:336},stats:{brawn:1,magic:1},abilities:["Surefooted"],location:"Konga"},{id:"sailors_sandals",name:"Sailor's sandals",type:"feet",bookRef:{book:"The Heart of Fire",act:1,section:205},stats:{speed:1},abilities:["Surefooted"],location:"Cannon crew"},{id:"iron_stompers",name:"Iron stompers",type:"feet",bookRef:{book:"The Heart of Fire",act:1,section:219},stats:{speed:1,armour:1},abilities:["Knockdown"],location:"Saw"},{id:"grounded_boots",name:"Grounded boots",type:"feet",bookRef:{book:"The Heart of Fire",act:1,section:236},stats:{speed:1,magic:1},abilities:["Insulated"],location:"Poltergeist"},{id:"firewalkers_boots",name:"Firewalker's boots",type:"feet",bookRef:{book:"The Heart of Fire",act:1,section:431},stats:{speed:1,brawn:1},abilities:["Turn up the heat"],location:"Furnace"},{id:"shaggy_mukluks",name:"Shaggy mukluks",type:"feet",bookRef:{book:"The Heart of Fire",act:1,section:231},stats:{speed:1,armour:1},abilities:["Haste"],location:"Black shuck"},{id:"mud_sliders",name:"Mud sliders",type:"feet",bookRef:{book:"The Heart of Fire",act:2,section:528},stats:{speed:1,brawn:1},abilities:["Unstoppable"],location:"Gaia",careerPreference:"Warrior"},{id:"storm_riders",name:"Storm riders",type:"feet",bookRef:{book:"The Heart of Fire",act:2,section:297},stats:{speed:1,armour:1},abilities:["Pagan's spirit"],location:"Zephyr",careerPreference:"Rogue"},{id:"conga_kickers",name:"Conga kickers",type:"feet",bookRef:{book:"The Heart of Fire",act:2,section:325},stats:{brawn:1,armour:1},abilities:["Lightning"],location:"Boogaloo",careerPreference:"Rogue"},{id:"lightning_loafers",name:"Lightning loafers",type:"feet",bookRef:{book:"The Heart of Fire",act:2,section:458},stats:{speed:1,magic:1},abilities:["Lightning"],location:"Boogaloo",careerPreference:"Mage"},{id:"stone_walkers",name:"Stone walkers",type:"feet",bookRef:{book:"The Heart of Fire",act:2,section:621},stats:{speed:1,magic:1},abilities:["Might of stone"],location:"Totem"},{id:"jungle_runners",name:"Jungle runners",type:"feet",bookRef:{book:"The Heart of Fire",act:2,section:780},stats:{speed:1},abilities:["(+2 health) Haste"],location:"Zambezi"},{id:"bug_grinders",name:"Bug grinders",type:"feet",bookRef:{book:"The Heart of Fire",act:2,section:421},stats:{speed:1,brawn:2},abilities:["Compulsion"],location:"Buckmaster Bill (side quest)",careerPreference:"Warrior"},{id:"rough_pelt_moccasins",name:"Rough pelt moccasins",type:"feet",bookRef:{book:"The Heart of Fire",act:2,section:641},stats:{speed:1,armour:2},abilities:["Dominate"],location:"Terral devil",careerPreference:"Mage"},{id:"golden_greaves",name:"Golden greaves",type:"feet",bookRef:{book:"The Heart of Fire",act:2,section:550},stats:{speed:1,brawn:2},abilities:["Charm"],location:"Sun vault",careerPreference:"Warrior"},{id:"enchanted_boots",name:"Enchanted boots",type:"feet",bookRef:{book:"The Heart of Fire",act:2,section:575},stats:{speed:1,armour:1},abilities:["Heal"],location:"Fisher king"},{id:"slither_steps",name:"Slither steps",type:"feet",bookRef:{book:"The Heart of Fire",act:2,section:473},stats:{speed:1,brawn:2},abilities:["Charm"],location:"Kaala"},{id:"death_blades",name:"Death blades",type:"feet",bookRef:{book:"The Heart of Fire",act:2,section:770},stats:{speed:2,brawn:3},abilities:["Fatal blow"],location:"Issachar",careerPreference:"Rogue"},{id:"lava_pads",name:"Lava pads",type:"feet",bookRef:{book:"The Heart of Fire",act:3,section:783},stats:{speed:2,magic:2},abilities:["Fire shield"],location:"Magma hounds",careerPreference:"Mage"},{id:"slime_skimmers",name:"Slime skimmers",type:"feet",bookRef:{book:"The Heart of Fire",act:3,section:781},stats:{speed:2,brawn:2},abilities:["Webbed"],location:"Chilopoda"},{id:"scarlet_sabatons",name:"Scarlet sabatons",type:"feet",bookRef:{book:"The Heart of Fire",act:3,section:598},stats:{speed:2,brawn:3},abilities:["Haste"],location:"Joss",careerPreference:"Warrior"},{id:"singed_footpads",name:"Singed footpads",type:"feet",bookRef:{book:"The Heart of Fire",act:3,section:812},stats:{speed:2,brawn:3},abilities:["Sidestep"],location:"Ixion",careerPreference:"Rogue"},{id:"ixions_shackles",name:"Ixion's shackles",type:"feet",bookRef:{book:"The Heart of Fire",act:3,section:592},stats:{speed:2,magic:3},abilities:["Immobilise"],location:"Ixion",careerPreference:"Mage"},{id:"frost_spike_boots",name:"Frost spike boots",type:"feet",bookRef:{book:"The Heart of Fire",act:3,section:818},stats:{speed:2,armour:2},abilities:["Barbs"],location:"Nephele",careerPreference:"Warrior"},{id:"cornerstone_boots",name:"Cornerstone boots",type:"feet",bookRef:{book:"The Heart of Fire",act:3,section:716},stats:{speed:2,armour:2},abilities:["Insulated"],location:"Erkil",careerPreference:"Mage"},{id:"knights_folly",name:"Knight's folly",type:"mainHand",bookRef:{book:"The Heart of Fire",act:1},stats:{brawn:1,magic:1},abilities:[],location:"Prologue"},{id:"duty",name:"Duty",type:"mainHand",bookRef:{book:"The Heart of Fire",act:1,section:221},stats:{speed:1,brawn:1},abilities:["Charm","Faith & duty"],location:"Farmers (side quest)"},{id:"headsplitter",name:"Headsplitter",type:"mainHand",bookRef:{book:"The Heart of Fire",act:1,section:22},stats:{speed:1,brawn:2},abilities:["Savagery"],location:"Vendor/Carvel"},{id:"midnights_edge",name:"Midnight's edge",type:"mainHand",bookRef:{book:"The Heart of Fire",act:1,section:230},stats:{speed:1,brawn:2},abilities:["Dominate"],location:"Vendor/Carvel"},{id:"walking_stick",name:"Walking stick",type:"mainHand",bookRef:{book:"The Heart of Fire",act:1,section:235},stats:{speed:1,magic:1},abilities:["Charm"],location:"Vendor/Raven's Rest"},{id:"cut_throats_carver",name:"Cut throat's carver",type:"mainHand",bookRef:{book:"The Heart of Fire",act:1,section:26},stats:{brawn:1,magic:1},abilities:["Bleed"],location:"Anna"},{id:"great_divider",name:"Great divider",type:"mainHand",bookRef:{book:"The Heart of Fire",act:1,section:50},stats:{speed:1,brawn:1},abilities:["Bleed"],location:"Barrow"},{id:"splintered_claw",name:"Splintered claw",type:"mainHand",bookRef:{book:"The Heart of Fire",act:1,section:133},stats:{brawn:1,armour:1},abilities:[],location:"Sinister sprigs"},{id:"ivory_spire",name:"Ivory spire",type:"mainHand",bookRef:{book:"The Heart of Fire",act:1,section:359},stats:{magic:1},abilities:["Focus"],location:"Bishop"},{id:"rusted_knife",name:"Rusted knife",type:"mainHand",bookRef:{book:"The Heart of Fire",act:1,section:20},stats:{speed:1},abilities:["Bleed"],location:"Zombie goblin"},{id:"stalkers_stiletto",name:"Stalker's stiletto",type:"mainHand",bookRef:{book:"The Heart of Fire",act:1,section:372},stats:{speed:1,magic:1},abilities:["Silverfrost"],location:"Falks"},{id:"flint_knife",name:"Flint knife",type:"mainHand",bookRef:{book:"The Heart of Fire",act:1,section:336},stats:{speed:1},abilities:["Gouge"],location:"Konga"},{id:"mighty_claw",name:"Mighty claw",type:"mainHand",bookRef:{book:"The Heart of Fire",act:1,section:198},stats:{speed:1,brawn:1},abilities:["Sideswipe"],location:"Assassin ant"},{id:"winters_fall",name:"Winter's fall",type:"mainHand",bookRef:{book:"The Heart of Fire",act:1,section:30},stats:{speed:1,brawn:1},abilities:["Silverfrost"],location:"Jeeves"},{id:"red_mist",name:"Red mist",type:"mainHand",bookRef:{book:"The Heart of Fire",act:1,section:174},stats:{brawn:2,magic:2},abilities:["Bleed"],location:"Lazlo (special)"},{id:"buzz_saw",name:"Buzz saw",type:"mainHand",bookRef:{book:"The Heart of Fire",act:1,section:219},stats:{speed:1},abilities:["Cleave"],location:"Saw"},{id:"forgers_hammer",name:"Forger's hammer",type:"mainHand",bookRef:{book:"The Heart of Fire",act:1,section:23},stats:{brawn:2},abilities:["Pound"],location:"Forger"},{id:"furnace_fire",name:"Furnace fire",type:"mainHand",bookRef:{book:"The Heart of Fire",act:1,section:431},stats:{speed:1,magic:1},abilities:["Sear"],location:"Furnace"},{id:"gratuitous_maximus",name:"Gratuitous maximus",type:"mainHand",bookRef:{book:"The Heart of Fire",act:1,section:498},stats:{speed:1,brawn:1},abilities:["Bleed"],location:"Maximus"},{id:"stone_spike",name:"Stone spike",type:"mainHand",bookRef:{book:"The Heart of Fire",act:1,section:44},stats:{brawn:2},abilities:["Critical strike"],location:"Stone giants",careerPreference:"Rogue"},{id:"black_peak",name:"Black peak",type:"mainHand",bookRef:{book:"The Heart of Fire",act:1,section:188},stats:{brawn:2},abilities:["Deep wound"],location:"Stone giants (special)",careerPreference:"Rogue"},{id:"twilight_scepter",name:"Twilight scepter",type:"mainHand",bookRef:{book:"The Heart of Fire",act:1,section:493},stats:{speed:1,magic:2},abilities:["Wither"],location:"Custodian",careerPreference:"Mage"},{id:"inscribed_fist",name:"Inscribed fist",type:"mainHand",bookRef:{book:"The Heart of Fire",act:1,section:502},stats:{speed:1,brawn:2},abilities:["Knockdown"],location:"White abbot",careerPreference:"Warrior"},{id:"frost_reavers_tongue",name:"Frost reaver's tongue",type:"mainHand",bookRef:{book:"The Heart of Fire",act:1,section:124},stats:{speed:1,brawn:2},abilities:["Frost bite"],location:"Gairn"},{id:"bramble_blade",name:"Bramble blade",type:"mainHand",bookRef:{book:"The Heart of Fire",act:1,section:308},stats:{speed:1,brawn:2},abilities:["Bleed"],location:"Orgorath"},{id:"solstice",name:"Solstice",type:"mainHand",bookRef:{book:"The Heart of Fire",act:1,section:155},stats:{speed:1,magic:3},abilities:["Channel"],location:"Wicker man"},{id:"wangimbo",name:"Wangimbo",type:"mainHand",bookRef:{book:"The Heart of Fire",act:2,section:612},stats:{speed:2,brawn:2},abilities:["Impale"],location:"Vendor/Emerald Isle",careerPreference:"Warrior"},{id:"abracabamba",name:"Abracabamba",type:"mainHand",bookRef:{book:"The Heart of Fire",act:2,section:612},stats:{speed:2,magic:2},abilities:["Blink"],location:"Vendor/Emerald Isle",careerPreference:"Mage"},{id:"thunder",name:"Thunder",type:"mainHand",bookRef:{book:"The Heart of Fire",act:2,section:528},stats:{speed:1,brawn:2},abilities:["Savage arms"],location:"Gaia",careerPreference:"Warrior"},{id:"broken_blade",name:"Broken blade",type:"mainHand",bookRef:{book:"The Heart of Fire",act:2,section:544},stats:{speed:1,magic:2},abilities:["Bleed"],location:"Gaia",careerPreference:"Mage"},{id:"tremor_stick",name:"Tremor stick",type:"mainHand",bookRef:{book:"The Heart of Fire",act:2,section:569},stats:{speed:1,brawn:2},abilities:["Shock!"],location:"Boogaloo",careerPreference:"Warrior"},{id:"wind_baton",name:"Wind baton",type:"mainHand",bookRef:{book:"The Heart of Fire",act:2,section:346},stats:{speed:1,magic:2},abilities:["Windblast"],location:"Zephyr",careerPreference:"Mage"},{id:"glaive_of_souls",name:"Glaive of souls",type:"mainHand",bookRef:{book:"The Heart of Fire",act:2,section:602},stats:{speed:2,brawn:2,magic:2},abilities:["Vampirism"],location:"Mortzilla"},{id:"grubs_glory",name:"Grub's glory",type:"mainHand",bookRef:{book:"The Heart of Fire",act:2,section:455},stats:{speed:1,brawn:2},abilities:["Crawlers"],location:"Grub knight"},{id:"lone_wolf",name:"Lone wolf",type:"mainHand",bookRef:{book:"The Heart of Fire",act:2,section:757},stats:{speed:1,brawn:2},abilities:["Bleed"],location:"Travellers' shelter"},{id:"shrunken_hand",name:"Shrunken hand",type:"mainHand",bookRef:{book:"The Heart of Fire",act:2,section:634},stats:{speed:2,brawn:1},abilities:["Sideswipe"],location:"Yootha (side quest)"},{id:"voodoo_doll",name:"Voodoo doll",type:"mainHand",bookRef:{book:"The Heart of Fire",act:2,section:765},stats:{speed:2,magic:2},abilities:["Curse"],location:"Witch"},{id:"fang_of_the_fearless",name:"Fang of the fearless",type:"mainHand",bookRef:{book:"The Heart of Fire",act:2,section:660},stats:{speed:2,brawn:1},abilities:["Deep wound"],location:"Drecko"},{id:"nelsons_column",name:"Nelson's column",type:"mainHand",bookRef:{book:"The Heart of Fire",act:2,section:421},stats:{speed:1,brawn:3},abilities:["Knockdown"],location:"Buckmaster Bill (side quest)",careerPreference:"Warrior"},{id:"nelsons_column",name:"Nelson's column",type:"mainHand",bookRef:{book:"The Heart of Fire",act:2,section:427},stats:{speed:1,brawn:3},abilities:["Knockdown"],location:"Nelson",careerPreference:"Warrior"},{id:"bone_wild",name:"Bone wild",type:"mainHand",bookRef:{book:"The Heart of Fire",act:2,section:780},stats:{speed:1,brawn:2},abilities:["Deep wound"],location:"Zambezi"},{id:"bloodied_claws",name:"Bloodied claws",type:"mainHand",bookRef:{book:"The Heart of Fire",act:2,section:678},stats:{speed:2,brawn:2},abilities:["Rake"],location:"Tigris"},{id:"jade_teeth",name:"Jade teeth",type:"mainHand",bookRef:{book:"The Heart of Fire",act:2,section:720},stats:{speed:2,brawn:2},abilities:["Rake"],location:"Perez",careerPreference:"Warrior"},{id:"crystal_dagger",name:"Crystal dagger",type:"mainHand",bookRef:{book:"The Heart of Fire",act:2,section:499},stats:{speed:2,brawn:3},abilities:["Gut ripper"],location:"Buckmaster Bill (side quest)",careerPreference:"Rogue"},{id:"ebon_cutlass",name:"Ebon cutlass",type:"mainHand",bookRef:{book:"The Heart of Fire",act:2,section:499},stats:{speed:2,brawn:3},abilities:["Deep wound"],location:"Buckmaster Bill (side quest)",careerPreference:"Rogue"},{id:"sun_blaze",name:"Sun blaze",type:"mainHand",bookRef:{book:"The Heart of Fire",act:2,section:699},stats:{speed:2,brawn:3},abilities:["Sear"],location:"Sun maidens"},{id:"ancestral_spear",name:"Ancestral spear",type:"mainHand",bookRef:{book:"The Heart of Fire",act:2,section:461},stats:{speed:2,brawn:3},abilities:["Spirt hunter"],location:"Font of souls",careerPreference:"Warrior"},{id:"ancestral_blade",name:"Ancestral blade",type:"mainHand",bookRef:{book:"The Heart of Fire",act:2,section:526},stats:{speed:2,brawn:3},abilities:["Piercing","bleed"],location:"Font of souls",careerPreference:"Rogue"},{id:"ancestral_stave",name:"Ancestral stave",type:"mainHand",bookRef:{book:"The Heart of Fire",act:2,section:514},stats:{speed:2,magic:3},abilities:["Overload","focus"],location:"Font of souls",careerPreference:"Mage"},{id:"ceremonial_dagger",name:"Ceremonial dagger",type:"mainHand",bookRef:{book:"The Heart of Fire",act:2,section:508},stats:{speed:2,brawn:2,magic:2},abilities:["Bleed"],location:"Ziggurat"},{id:"burnished_knuckles",name:"Burnished knuckles",type:"mainHand",bookRef:{book:"The Heart of Fire",act:2,section:524},stats:{speed:2,brawn:2},abilities:["Fatal blow"],location:"Golden guards",careerPreference:"Warrior"},{id:"mortal_coil",name:"Mortal coil",type:"mainHand",bookRef:{book:"The Heart of Fire",act:2,section:666},stats:{speed:2,brawn:2},abilities:["Reaper"],location:"Lich",careerPreference:"Rogue"},{id:"hunting_fork",name:"Hunting fork",type:"mainHand",bookRef:{book:"The Heart of Fire",act:2,section:575},stats:{speed:1,brawn:3},abilities:["Skewer"],location:"Fisher king",careerPreference:"Warrior"},{id:"untamed_will",name:"Untamed will",type:"mainHand",bookRef:{book:"The Heart of Fire",act:2,section:729},stats:{speed:2,brawn:3},abilities:["Piercing"],location:"Gheira",careerPreference:"Rogue"},{id:"death_rattle",name:"Death rattle",type:"mainHand",bookRef:{book:"The Heart of Fire",act:2,section:383},stats:{speed:2,magic:3},abilities:["Near death"],location:"Kaala",careerPreference:"Mage"},{id:"comb_of_sailors_fingers",name:"Comb of sailors' fingers",type:"mainHand",bookRef:{book:"The Heart of Fire",act:2,section:657},stats:{speed:2,brawn:2},abilities:["Disease"],location:"Siren sisters (side quest)"},{id:"wishing_staff",name:"Wishing staff",type:"mainHand",bookRef:{book:"The Heart of Fire",act:2,section:737},stats:{speed:2,magic:3},abilities:["Wish master"],location:"Hanuman",careerPreference:"Mage"},{id:"dooms_harbinger",name:"Doom's harbinger",type:"mainHand",bookRef:{book:"The Heart of Fire",act:3,section:682},stats:{speed:2,brawn:5},abilities:["Doom"],location:"Vendor/Haunted shop"},{id:"oculus_eye_of_pain",name:"Oculus, eye of pain",type:"mainHand",bookRef:{book:"The Heart of Fire",act:3,section:649},stats:{speed:2,magic:5},abilities:["Lightning","focus"],location:"Rune forge"},{id:"ravenos_bringer_of_ruin",name:"Ravenos, bringer of ruin",type:"mainHand",bookRef:{book:"The Heart of Fire",act:3,section:796},stats:{speed:2,brawn:5},abilities:["Deep wound","sear"],location:"Rune forge"},{id:"fist_of_fury",name:"Fist of fury",type:"mainHand",bookRef:{book:"The Heart of Fire",act:3,section:455},stats:{speed:2,brawn:3},abilities:["Knockdown"],location:"Furies"},{id:"acherons_war_glaive_w_r_",name:"Acheron's war glaive (W/R)",type:"mainHand",bookRef:{book:"The Heart of Fire",act:3,section:777},stats:{speed:2,brawn:4},abilities:["Cleave"],location:"Treasure vault"},{id:"acherons_tower",name:"Acheron's tower",type:"mainHand",bookRef:{book:"The Heart of Fire",act:3,section:176},stats:{speed:2,magic:4},abilities:["Might of stone"],location:"Treasure vault",careerPreference:"Mage"},{id:"crystal_hammer",name:"Crystal hammer",type:"mainHand",bookRef:{book:"The Heart of Fire",act:3,section:893},stats:{speed:2,brawn:5},abilities:["Stagger"],location:"Tourmalus",careerPreference:"Warrior"},{id:"serrated_scapula",name:"Serrated scapula",type:"mainHand",bookRef:{book:"The Heart of Fire",act:3,section:791},stats:{speed:2,brawn:5},abilities:["Fallen hero"],location:"Evin Daala",careerPreference:"Warrior"},{id:"spoke_of_the_wheel",name:"Spoke of the wheel",type:"mainHand",bookRef:{book:"The Heart of Fire",act:3,section:812},stats:{speed:2,brawn:4},abilities:["Deep wound"],location:"Ixion",careerPreference:"Rogue"},{id:"abandoned_hope",name:"Abandoned hope",type:"mainHand",bookRef:{book:"The Heart of Fire",act:3,section:723},stats:{speed:3,brawn:4},abilities:["Gut ripper"],location:"Nephele",careerPreference:"Rogue"},{id:"azure_embers",name:"Azure embers",type:"mainHand",bookRef:{book:"The Heart of Fire",act:3,section:787},stats:{speed:2,magic:4},abilities:["Disrupt"],location:"Nephele",careerPreference:"Mage"},{id:"hellslide_halberd",name:"Hellslide halberd",type:"mainHand",bookRef:{book:"The Heart of Fire",act:3,section:637},stats:{speed:2,brawn:6},abilities:["Impale"],location:"Krakatoa",careerPreference:"Warrior"},{id:"avalanche",name:"Avalanche",type:"mainHand",bookRef:{book:"The Heart of Fire",act:3,section:873},stats:{speed:2,magic:6},abilities:["Shatter"],location:"Krakatoa",careerPreference:"Mage"},{id:"silver_leaf",name:"Silver leaf",type:"leftHand",bookRef:{book:"The Heart of Fire",act:1,section:22},stats:{speed:1,magic:1},abilities:["Focus"],location:"Vendor/Carvel"},{id:"black_heart",name:"Black heart",type:"leftHand",bookRef:{book:"The Heart of Fire",act:1,section:230},stats:{speed:1,armour:2},abilities:["Deflect"],location:"Vendor/Carvel"},{id:"faith",name:"Faith",type:"leftHand",bookRef:{book:"The Heart of Fire",act:1,section:276},stats:{speed:1,brawn:2},abilities:["Immobilise","Faith & duty"],location:"Fallen knight (side quest)"},{id:"colt_phoenix",name:"Colt phoenix",type:"leftHand",bookRef:{book:"The Heart of Fire",act:1,section:305},stats:{speed:1,brawn:1},abilities:["Volley"],location:"Raven's Rest (side quest)"},{id:"greenstone_axe",name:"Greenstone axe",type:"leftHand",bookRef:{book:"The Heart of Fire",act:1,section:74},stats:{brawn:1},abilities:[],location:"Drust the defiled"},{id:"dire_claw",name:"Dire claw",type:"leftHand",bookRef:{book:"The Heart of Fire",act:1,section:106},stats:{brawn:1,magic:1},abilities:[],location:"Direwolf"},{id:"manticores_tooth",name:"Manticore's tooth",type:"leftHand",bookRef:{book:"The Heart of Fire",act:1,section:292},stats:{brawn:1},abilities:["Savagery"],location:"Manticore"},{id:"doorman",name:"Doorman",type:"leftHand",bookRef:{book:"The Heart of Fire",act:1,section:234},stats:{armour:1},abilities:["Slam"],location:"Gutless"},{id:"cruel_cleaver",name:"Cruel cleaver",type:"leftHand",bookRef:{book:"The Heart of Fire",act:1,section:234},stats:{brawn:2},abilities:[],location:"Gutless"},{id:"repentance",name:"Repentance",type:"leftHand",bookRef:{book:"The Heart of Fire",act:1,section:218},stats:{speed:1},abilities:["Channel"],location:"Reverend"},{id:"falks_firestarter",name:"Falk's firestarter",type:"leftHand",bookRef:{book:"The Heart of Fire",act:1,section:372},stats:{speed:1,brawn:1},abilities:["Head shot"],location:"Falks"},{id:"sword_of_the_dales",name:"Sword of the dales",type:"leftHand",bookRef:{book:"The Heart of Fire",act:1,section:109},stats:{brawn:1,magic:1},abilities:["Heal"],location:"Loggers' camp"},{id:"bugsplatter",name:"Bugsplatter",type:"leftHand",bookRef:{book:"The Heart of Fire",act:1,section:164},stats:{speed:1,brawn:1},abilities:[],location:"Goblins"},{id:"flint_knife",name:"Flint knife",type:"leftHand",bookRef:{book:"The Heart of Fire",act:1,section:336},stats:{speed:1},abilities:["Gouge"],location:"Konga"},{id:"cutlass_of_the_seven_seas",name:"Cutlass of the seven seas",type:"leftHand",bookRef:{book:"The Heart of Fire",act:1,section:264},stats:{speed:1},abilities:["Parry"],location:"Captain's cabin"},{id:"celestes_anchor",name:"Celeste's anchor",type:"leftHand",bookRef:{book:"The Heart of Fire",act:1,section:189},stats:{brawn:1},abilities:["Pound"],location:"Ship's hold"},{id:"windbreaker",name:"Windbreaker",type:"leftHand",bookRef:{book:"The Heart of Fire",act:1,section:91},stats:{speed:1,armour:1},abilities:[],location:"Margoyle"},{id:"jeeves_juicer",name:"Jeeve's juicer",type:"leftHand",bookRef:{book:"The Heart of Fire",act:1,section:286},stats:{speed:1,brawn:1},abilities:["Gouge"],location:"Lazlo (special)"},{id:"quill_of_aquila",name:"Quill of Aquila",type:"leftHand",bookRef:{book:"The Heart of Fire",act:1,section:303},stats:{speed:1,brawn:1},abilities:["Bleed"],location:"Inkheart"},{id:"ink_blotted_tome",name:"Ink-blotted tome",type:"leftHand",bookRef:{book:"The Heart of Fire",act:1,section:303},stats:{speed:1,magic:1},abilities:["Dominate"],location:"Inkheart"},{id:"defendus_maximus",name:"Defendus maximus",type:"leftHand",bookRef:{book:"The Heart of Fire",act:1,section:498},stats:{speed:1,armour:1},abilities:["Deflect"],location:"Maximus"},{id:"rock_fist",name:"Rock fist",type:"leftHand",bookRef:{book:"The Heart of Fire",act:1,section:44},stats:{speed:1,magic:1},abilities:["Surge"],location:"Stone giants"},{id:"stone_fury",name:"Stone fury",type:"leftHand",bookRef:{book:"The Heart of Fire",act:1,section:188},stats:{speed:1,magic:2},abilities:["Surge"],location:"Stone giants (special)"},{id:"inscribed_fist",name:"Inscribed fist",type:"leftHand",bookRef:{book:"The Heart of Fire",act:1,section:706},stats:{speed:1,brawn:2},abilities:["Pound"],location:"White abbot",careerPreference:"Warrior"},{id:"dawnlight",name:"Dawnlight",type:"leftHand",bookRef:{book:"The Heart of Fire",act:1,section:502},stats:{speed:1,brawn:1},abilities:["Blind"],location:"Custodian"},{id:"fer_de_lance",name:"Fer-de-lance",type:"leftHand",bookRef:{book:"The Heart of Fire",act:2,section:467},stats:{speed:1,brawn:2},abilities:["Venom"],location:"Vendor/Emerald Isle",careerPreference:"Rogue"},{id:"monarch_viper",name:"Monarch viper",type:"leftHand",bookRef:{book:"The Heart of Fire",act:2,section:467},stats:{speed:2,brawn:2},abilities:["Venom"],location:"Vendor/Emerald Isle",careerPreference:"Rogue"},{id:"lesser_bushmaster",name:"Lesser bushmaster",type:"leftHand",bookRef:{book:"The Heart of Fire",act:2,section:467},stats:{speed:2,brawn:3},abilities:["Constrictor"],location:"Vendor/Emerald Isle",careerPreference:"Rogue"},{id:"bogglespiffs_digest",name:"Bogglespiff's digest",type:"leftHand",bookRef:{book:"The Heart of Fire",act:2,section:492},stats:{speed:2,magic:2},abilities:["Insight"],location:"Scholar (side quest)"},{id:"squall",name:"Squall",type:"leftHand",bookRef:{book:"The Heart of Fire",act:2,section:160},stats:{speed:1,brawn:2},abilities:["Savage arms"],location:"Zephyr",careerPreference:"Warrior"},{id:"silver_flight",name:"Silver flight",type:"leftHand",bookRef:{book:"The Heart of Fire",act:2,section:297},stats:{speed:1,brawn:2},abilities:["Charm"],location:"Zephyr",careerPreference:"Rogue"},{id:"lost_scriptures",name:"Lost scriptures",type:"leftHand",bookRef:{book:"The Heart of Fire",act:2,section:346},stats:{speed:1,magic:2},abilities:["Cistene's chattels"],location:"Zephyr",careerPreference:"Mage"},{id:"feral_falcate",name:"Feral falcate",type:"leftHand",bookRef:{book:"The Heart of Fire",act:2,section:507},stats:{speed:1,brawn:2},abilities:["Pagan's spirit"],location:"Lycanth",careerPreference:"Rogue"},{id:"bone_shaker",name:"Bone shaker",type:"leftHand",bookRef:{book:"The Heart of Fire",act:2,section:765},stats:{speed:2,magic:1},abilities:["Fear"],location:"Witch",careerPreference:"Mage"},{id:"creek_guard",name:"Creek guard",type:"leftHand",bookRef:{book:"The Heart of Fire",act:2,section:742},stats:{speed:2,armour:1},abilities:["Retaliation"],location:"Alligator",careerPreference:"Warrior"},{id:"shrunken_hand",name:"Shrunken hand",type:"leftHand",bookRef:{book:"The Heart of Fire",act:2,section:634},stats:{speed:2,brawn:1},abilities:["Sideswipe"],location:"Yootha (side quest)"},{id:"cart_wheel",name:"Cart wheel",type:"leftHand",bookRef:{book:"The Heart of Fire",act:2,section:697},stats:{speed:2,armour:1},abilities:["Roll with it"],location:"Tigris cages (special)",careerPreference:"Warrior"},{id:"brazen_bar",name:"Brazen bar",type:"leftHand",bookRef:{book:"The Heart of Fire",act:2,section:697},stats:{speed:2,magic:2},abilities:["Knockdown"],location:"Tigris cages (special)"},{id:"rip_spleen",name:"Rip spleen",type:"leftHand",bookRef:{book:"The Heart of Fire",act:2,section:780},stats:{speed:2,brawn:1},abilities:["Bleed"],location:"Zambezi"},{id:"scarlet_hunter",name:"Scarlet hunter",type:"leftHand",bookRef:{book:"The Heart of Fire",act:2,section:447},stats:{speed:2,brawn:2},abilities:["Critical strike"],location:"Nelson",careerPreference:"Rogue"},{id:"the_nosepicker",name:"The nosepicker",type:"leftHand",bookRef:{book:"The Heart of Fire",act:2,section:447},stats:{speed:2,magic:2},abilities:["Bleed"],location:"Nelson"},{id:"bark_whip",name:"Bark whip",type:"leftHand",bookRef:{book:"The Heart of Fire",act:2,section:720},stats:{speed:2,brawn:2},abilities:["Bleed"],location:"Perez"},{id:"stormbound",name:"Stormbound",type:"leftHand",bookRef:{book:"The Heart of Fire",act:2,section:243},stats:{speed:1,brawn:2},abilities:["Volley"],location:"Sniper"},{id:"emerald_taipan",name:"Emerald taipan",type:"leftHand",bookRef:{book:"The Heart of Fire",act:2,section:499},stats:{speed:2,brawn:3},abilities:["Venom"],location:"Buckmaster Bill (side quest)",careerPreference:"Rogue"},{id:"medicine_staff",name:"Medicine staff",type:"leftHand",bookRef:{book:"The Heart of Fire",act:2,section:369},stats:{speed:2,magic:3},abilities:["Greater heal"],location:"Buckmaster Bill (side quest)",careerPreference:"Mage"},{id:"high_priests_scepter",name:"High priest's scepter",type:"leftHand",bookRef:{book:"The Heart of Fire",act:2,section:531},stats:{speed:2,magic:2},abilities:["Resolve"],location:"Sun vault"},{id:"embalming_razor",name:"Embalming razor",type:"leftHand",bookRef:{book:"The Heart of Fire",act:2,section:511},stats:{speed:2,brawn:2},abilities:["Blindstrike"],location:"Sun vault"},{id:"sol_shield",name:"Sol shield",type:"leftHand",bookRef:{book:"The Heart of Fire",act:2,section:550},stats:{speed:2,armour:2},abilities:["Radiance"],location:"Sun vault"},{id:"rodents_scratchers",name:"Rodent's scratchers",type:"leftHand",bookRef:{book:"The Heart of Fire",act:2,section:641},stats:{speed:2,brawn:2},abilities:["Piercing"],location:"Terral devil"},{id:"devils_incisor",name:"Devil's incisor",type:"leftHand",bookRef:{book:"The Heart of Fire",act:2,section:641},stats:{speed:2,brawn:2},abilities:["Fatal blow"],location:"Terral devil"},{id:"black_taipan",name:"Black taipan",type:"leftHand",bookRef:{book:"The Heart of Fire",act:2,section:885},stats:{speed:2,brawn:3},abilities:["Convulsions"],location:"Lecture room"},{id:"widows_needle",name:"Widow's needle",type:"leftHand",bookRef:{book:"The Heart of Fire",act:2,section:840},stats:{speed:2,brawn:3},abilities:["Piercing"],location:"Anansi",careerPreference:"Rogue"},{id:"carapace_crest",name:"Carapace crest",type:"leftHand",bookRef:{book:"The Heart of Fire",act:2,section:840},stats:{speed:2,armour:2},abilities:["Webbed"],location:"Anansi",careerPreference:"Warrior"},{id:"spinneret_of_shadows",name:"Spinneret of shadows",type:"leftHand",bookRef:{book:"The Heart of Fire",act:2,section:685},stats:{speed:2,magic:3},abilities:["Webbed"],location:"Anansi",careerPreference:"Mage"},{id:"drakes_defender",name:"Drake's defender",type:"leftHand",bookRef:{book:"The Heart of Fire",act:2,section:745},stats:{speed:2,armour:4},abilities:["Piercing"],location:"Issachar",careerPreference:"Warrior"},{id:"self_published_grimoire",name:"Self-published grimoire",type:"leftHand",bookRef:{book:"The Heart of Fire",act:3,section:600},stats:{speed:2,magic:3},abilities:["Dark pact"],location:"Printing press",careerPreference:"Mage"},{id:"self_published_grimoire",name:"Self-published grimoire",type:"leftHand",bookRef:{book:"The Heart of Fire",act:3,section:539},stats:{speed:2,magic:3},abilities:["Surge"],location:"Printing press",careerPreference:"Mage"},{id:"self_published_grimoire",name:"Self-published grimoire",type:"leftHand",bookRef:{book:"The Heart of Fire",act:3,section:816},stats:{speed:2,magic:3},abilities:["Regrowth"],location:"Printing press",careerPreference:"Mage"},{id:"self_published_grimoire",name:"Self-published grimoire",type:"leftHand",bookRef:{book:"The Heart of Fire",act:3,section:876},stats:{speed:2,magic:3},abilities:["Trickster"],location:"Printing press",careerPreference:"Mage"},{id:"self_published_tome",name:"Self-published tome",type:"leftHand",bookRef:{book:"The Heart of Fire",act:3,section:380},stats:{speed:2,armour:3},abilities:["Dark pact"],location:"Printing press",careerPreference:"Mage"},{id:"self_published_tome",name:"Self-published tome",type:"leftHand",bookRef:{book:"The Heart of Fire",act:3,section:806},stats:{speed:2,armour:3},abilities:["Trickster"],location:"Printing press",careerPreference:"Mage"},{id:"self_published_tome",name:"Self-published tome",type:"leftHand",bookRef:{book:"The Heart of Fire",act:3,section:826},stats:{speed:2,armour:3},abilities:["Regrowth"],location:"Printing press",careerPreference:"Mage"},{id:"self_published_tome",name:"Self-published tome",type:"leftHand",bookRef:{book:"The Heart of Fire",act:3,section:845},stats:{speed:2,armour:3},abilities:["Surge"],location:"Printing press",careerPreference:"Mage"},{id:"mortis_shard_of_doom_w_r_",name:"Mortis, shard of doom (W/R)",type:"leftHand",bookRef:{book:"The Heart of Fire",act:3,section:536},stats:{speed:2,brawn:5},abilities:["Bleed","lightning"],location:"Rune forge"},{id:"scriva_nimbus_of_nightmares",name:"Scriva, nimbus of nightmares",type:"leftHand",bookRef:{book:"The Heart of Fire",act:3,section:474},stats:{speed:3,magic:4},abilities:["Curse","sear"],location:"Rune forge",careerPreference:"Mage"},{id:"light_forged_bulwark",name:"Light-forged bulwark",type:"leftHand",bookRef:{book:"The Heart of Fire",act:3,section:682},stats:{speed:2,armour:4},abilities:["Defender"],location:"Vendor/Haunted shop",careerPreference:"Warrior"},{id:"hound_hook",name:"Hound hook",type:"leftHand",bookRef:{book:"The Heart of Fire",act:3,section:783},stats:{speed:2,brawn:3},abilities:["Gouge"],location:"Magma hounds",careerPreference:"Rogue"},{id:"bone_rot",name:"Bone rot",type:"leftHand",bookRef:{book:"The Heart of Fire",act:3,section:724},stats:{speed:2,brawn:3},abilities:["Leech"],location:"Nergal",careerPreference:"Warrior"},{id:"dark_star",name:"Dark star",type:"leftHand",bookRef:{book:"The Heart of Fire",act:3,section:789},stats:{speed:2,magic:3},abilities:["Barbs"],location:"Nyx the dark wind"},{id:"dull_gladius",name:"Dull gladius",type:"leftHand",bookRef:{book:"The Heart of Fire",act:3,section:883},stats:{speed:2,brawn:3},abilities:["Slam"],location:"Sparkacus"},{id:"calcite_claw",name:"Calcite claw",type:"leftHand",bookRef:{book:"The Heart of Fire",act:3,section:893},stats:{speed:2,brawn:4},abilities:["Piercing"],location:"Tourmalus"},{id:"agilax_the_string_of_tears",name:"Agilax, the string of tears",type:"leftHand",bookRef:{book:"The Heart of Fire",act:3,section:846},stats:{speed:2,brawn:3},abilities:["Blood archer"],location:"Joss",careerPreference:"Rogue"},{id:"blood_thorn",name:"Blood thorn",type:"leftHand",bookRef:{book:"The Heart of Fire",act:3,section:608},stats:{speed:2,brawn:5},abilities:["Gouge"],location:"Evin Daala",careerPreference:"Rogue"},{id:"ixions_wheel",name:"Ixion's wheel",type:"leftHand",bookRef:{book:"The Heart of Fire",act:3,section:823},stats:{speed:2,armour:4},abilities:["Fire aura"],location:"Ixion",careerPreference:"Warrior"},{id:"b_is_for_banshee",name:"B is for Banshee",type:"leftHand",bookRef:{book:"The Heart of Fire",act:3,section:787},stats:{speed:2,magic:4},abilities:["Windblast"],location:"Nephele",careerPreference:"Mage"},{id:"shiverspine",name:"Shiverspine",type:"leftHand",bookRef:{book:"The Heart of Fire",act:3,section:723},stats:{speed:2,brawn:3},abilities:["frostbite"],location:"Nephele",careerPreference:"Rogue"},{id:"erkils_hacker",name:"Erkil's hacker",type:"leftHand",bookRef:{book:"The Heart of Fire",act:3,section:834},stats:{speed:2,brawn:4},abilities:["Compulsion"],location:"Erkil",careerPreference:"Warrior"},{id:"blackthorn_twister",name:"Blackthorn twister",type:"leftHand",bookRef:{book:"The Heart of Fire",act:3,section:794},stats:{speed:2,brawn:4},abilities:["Cruel twist"],location:"Erkil",careerPreference:"Rogue"},{id:"krakkas_vengeance",name:"Krakka's vengeance",type:"leftHand",bookRef:{book:"The Heart of Fire",act:3,section:830},stats:{speed:2,brawn:5},abilities:["Piercing"],location:"Krakatoa",careerPreference:"Rogue"},{id:"stones_of_dissolution",name:"Stones of dissolution",type:"leftHand",bookRef:{book:"The Heart of Fire",act:3,section:873},stats:{speed:3,magic:5},abilities:["Confound"],location:"Krakatoa",careerPreference:"Mage"},{id:"wolfs_paw",name:"Wolf's paw",type:"talisman",bookRef:{book:"The Heart of Fire",act:1,section:235},stats:{speed:1},abilities:[],location:"Vendor/Raven's Rest"},{id:"crow_feather",name:"Crow feather",type:"talisman",bookRef:{book:"The Heart of Fire",act:1,section:7},stats:{magic:1},abilities:[],location:"Wiccan witch"},{id:"wishing_well_coin",name:"Wishing well coin",type:"talisman",bookRef:{book:"The Heart of Fire",act:1,section:20},stats:{},abilities:["Charm"],location:"Zombie goblin"},{id:"lukes_left_hand",name:"Luke's left hand",type:"talisman",bookRef:{book:"The Heart of Fire",act:1,section:79},stats:{},abilities:["High five!"],location:"Crews' quarters"},{id:"stone_blood",name:"Stone blood",type:"talisman",bookRef:{book:"The Heart of Fire",act:1,section:91},stats:{armour:1},abilities:["Heal"],location:"Margoyle"},{id:"makers_button",name:"Maker's button",type:"talisman",bookRef:{book:"The Heart of Fire",act:1,section:105},stats:{speed:1},abilities:[],location:"Cuddles"},{id:"adams_core",name:"Adam's core",type:"talisman",bookRef:{book:"The Heart of Fire",act:1,section:498},stats:{brawn:1},abilities:["Heal"],location:"Maximus"},{id:"elder_seed",name:"Elder seed",type:"talisman",bookRef:{book:"The Heart of Fire",act:1,section:403},stats:{magic:1},abilities:["Druid"],location:"Damaris",careerPreference:"Mage"},{id:"benediction",name:"Benediction",type:"talisman",bookRef:{book:"The Heart of Fire",act:1,section:487},stats:{magic:1},abilities:["Acolyte"],location:"Benin",careerPreference:"Mage"},{id:"earthen_ashes",name:"Earthen ashes",type:"talisman",bookRef:{book:"The Heart of Fire",act:1,section:301},stats:{brawn:1},abilities:["Cauterise"],location:"Dagona"},{id:"the_minds_eye",name:"The mind's eye",type:"talisman",bookRef:{book:"The Heart of Fire",act:2,section:275},stats:{magic:1},abilities:["Scholar"],location:"Andos (side quest)"},{id:"lightning_whetstone_w_r_",name:"Lightning whetstone (W/R)",type:"talisman",bookRef:{book:"The Heart of Fire",act:2,section:325},stats:{speed:1},abilities:["Sure edge"],location:"Boogaloo"},{id:"spook_chi",name:"Spook chi",type:"talisman",bookRef:{book:"The Heart of Fire",act:2,section:255},stats:{speed:1},abilities:["Trickster"],location:"Umbra",careerPreference:"Rogue"},{id:"screaming_skull",name:"Screaming skull",type:"talisman",bookRef:{book:"The Heart of Fire",act:2,section:629},stats:{speed:1},abilities:["(+4 health) Charm"],location:"Mortzilla"},{id:"khanas_pride",name:"Khana's pride",type:"talisman",bookRef:{book:"The Heart of Fire",act:2,section:636},stats:{speed:1,armour:1},abilities:["Sideswipe"],location:"Greyhair"},{id:"tigris_paw",name:"Tigris paw",type:"talisman",bookRef:{book:"The Heart of Fire",act:2,section:678},stats:{speed:1},abilities:["Evade"],location:"Tigris"},{id:"stone_of_the_sitadell",name:"Stone of the sitadell",type:"talisman",bookRef:{book:"The Heart of Fire",act:2,section:683},stats:{speed:1},abilities:["Disrupt"],location:"Sitadell",careerPreference:"Warrior"},{id:"lich_stone",name:"Lich stone",type:"talisman",bookRef:{book:"The Heart of Fire",act:2,section:778},stats:{magic:1},abilities:["Runecaster"],location:"Lich",careerPreference:"Mage"},{id:"eye_of_a_kraken_w_r_",name:"Eye of a kraken (W/R)",type:"talisman",bookRef:{book:"The Heart of Fire",act:2,section:657},stats:{speed:1},abilities:["Greater heal"],location:"Siren sisters (side quest)"},{id:"kaalas_scale",name:"Kaala's scale",type:"talisman",bookRef:{book:"The Heart of Fire",act:2,section:745},stats:{speed:1},abilities:["Venommancer"],location:"Kaala",careerPreference:"Rogue"},{id:"drake_spirit",name:"Drake spirit",type:"talisman",bookRef:{book:"The Heart of Fire",act:2,section:473},stats:{speed:1},abilities:["Drake"],location:"Kaala",careerPreference:"Warrior"},{id:"fade_splinter_of_shadow",name:"Fade, splinter of shadow",type:"talisman",bookRef:{book:"The Heart of Fire",act:3,section:674},stats:{speed:1},abilities:["Charm","trickster"],location:"Rune forge"},{id:"angels_despair",name:"Angel's despair",type:"talisman",bookRef:{book:"The Heart of Fire",act:3,section:546},stats:{speed:1},abilities:["Dirge"],location:"Bridge sentries"},{id:"rock_idol",name:"Rock idol",type:"talisman",bookRef:{book:"The Heart of Fire",act:3,section:750},stats:{armour:1},abilities:["Geomancer"],location:"Secure vault",careerPreference:"Mage"},{id:"blood_soul",name:"Blood soul",type:"talisman",bookRef:{book:"The Heart of Fire",act:3,section:791},stats:{speed:1,brawn:1},abilities:["Weaver"],location:"Evin Daala",careerPreference:"Warrior"},{id:"frozen_heart",name:"Frozen heart",type:"talisman",bookRef:{book:"The Heart of Fire",act:3,section:818},stats:{speed:1},abilities:["Shatter"],location:"Nephele"},{id:"titan_stone",name:"Titan stone",type:"talisman",bookRef:{book:"The Heart of Fire",act:3,section:834},stats:{speed:1},abilities:["Titan"],location:"Erkil",careerPreference:"Warrior"},{id:"wanderers_wytchstone",name:"Wanderer's wytchstone",type:"necklace",bookRef:{book:"The Heart of Fire",act:1,section:59},stats:{magic:1},abilities:["Charm"],location:"Vendor/Carvel"},{id:"drusts_medallion",name:"Drust's medallion",type:"necklace",bookRef:{book:"The Heart of Fire",act:1,section:74},stats:{magic:1},abilities:[],location:"Drust the defiled"},{id:"blood_iron_knot",name:"Blood iron knot",type:"necklace",bookRef:{book:"The Heart of Fire",act:1,section:34},stats:{armour:1},abilities:["Charm"],location:"Barrow"},{id:"prayer_beads",name:"Prayer beads",type:"necklace",bookRef:{book:"The Heart of Fire",act:1,section:359},stats:{},abilities:["Heal"],location:"Bishop"},{id:"number_of_the_beast",name:"Number of the beast",type:"necklace",bookRef:{book:"The Heart of Fire",act:1,section:300},stats:{brawn:1,magic:1},abilities:[],location:"Number 13"},{id:"silver_whistler",name:"Silver whistler",type:"necklace",bookRef:{book:"The Heart of Fire",act:1,section:170},stats:{},abilities:["Faithful friend"],location:"Loggers' camp"},{id:"eye_of_the_swarm",name:"Eye of the swarm",type:"necklace",bookRef:{book:"The Heart of Fire",act:1,section:381},stats:{brawn:1,magic:1},abilities:["Swarm"],location:"Queen Ballona"},{id:"betsys_second_compass",name:"Betsy's second compass",type:"necklace",bookRef:{book:"The Heart of Fire",act:1,section:264},stats:{},abilities:["Safe path"],location:"Captain's cabin"},{id:"torque_of_iron",name:"Torque of iron",type:"necklace",bookRef:{book:"The Heart of Fire",act:1,section:228},stats:{brawn:1,magic:1},abilities:["Rust"],location:"Toymaker's golems"},{id:"dagonas_heart",name:"Dagona's heart",type:"necklace",bookRef:{book:"The Heart of Fire",act:1,section:313},stats:{brawn:1,magic:1},abilities:["Radiance"],location:"Dagona (side quest)"},{id:"graven_chill",name:"Graven chill",type:"necklace",bookRef:{book:"The Heart of Fire",act:1,section:124},stats:{brawn:1,magic:1},abilities:["Frostbite"],location:"Gairn"},{id:"providence",name:"Providence",type:"necklace",bookRef:{book:"The Heart of Fire",act:1,section:411},stats:{brawn:1,magic:1},abilities:["Faith"],location:"Orgorath (special)"},{id:"sanctified_scale",name:"Sanctified scale",type:"necklace",bookRef:{book:"The Heart of Fire",act:2,section:569},stats:{armour:1},abilities:["Seraphim's symbols"],location:"Boogaloo",careerPreference:"Warrior"},{id:"silver_bullet",name:"Silver bullet",type:"necklace",bookRef:{book:"The Heart of Fire",act:2,section:350},stats:{magic:1},abilities:["Quicksilver"],location:"Lycanth",careerPreference:"Mage"},{id:"black_pearl_rosary",name:"Black pearl rosary",type:"necklace",bookRef:{book:"The Heart of Fire",act:2,section:534},stats:{magic:1},abilities:["Cistene's chattels"],location:"Umbra",careerPreference:"Mage"},{id:"wish_bone",name:"Wish bone",type:"necklace",bookRef:{book:"The Heart of Fire",act:2,section:629},stats:{brawn:1},abilities:["(+4 health) Charm"],location:"Mortzilla"},{id:"maggot_finger",name:"Maggot finger",type:"necklace",bookRef:{book:"The Heart of Fire",act:2,section:455},stats:{magic:1},abilities:["Wither"],location:"Grub knight",careerPreference:"Mage"},{id:"brocks_medallion",name:"Brock's medallion",type:"necklace",bookRef:{book:"The Heart of Fire",act:2,section:742},stats:{brawn:1},abilities:["Fearless"],location:"Alligator"},{id:"dreamcatcher",name:"Dreamcatcher",type:"necklace",bookRef:{book:"The Heart of Fire",act:2,section:748},stats:{speed:1},abilities:["Immobilise"],location:"Succubus"},{id:"captives_collar",name:"Captive's collar",type:"necklace",bookRef:{book:"The Heart of Fire",act:2,section:697},stats:{speed:1},abilities:["Bleed"],location:"Tigris cages (special)"},{id:"lucky_crown",name:"Lucky crown",type:"necklace",bookRef:{book:"The Heart of Fire",act:2,section:243},stats:{speed:1},abilities:["Charm"],location:"Sniper"},{id:"corroded_pendant",name:"Corroded pendant",type:"necklace",bookRef:{book:"The Heart of Fire",act:2,section:524},stats:{speed:1},abilities:["Rust"],location:"Golden guards"},{id:"obsidian_shard",name:"Obsidian shard",type:"necklace",bookRef:{book:"The Heart of Fire",act:2,section:683},stats:{speed:1},abilities:["Piercing"],location:"Sitadell",careerPreference:"Mage"},{id:"hanumans_hair",name:"Hanuman's hair",type:"necklace",bookRef:{book:"The Heart of Fire",act:2,section:737},stats:{speed:1},abilities:["Monkey mob"],location:"Hanuman"},{id:"sea_spray_garland",name:"Sea spray garland",type:"necklace",bookRef:{book:"The Heart of Fire",act:2,section:575},stats:{speed:1,magic:1},abilities:["Wave"],location:"Fisher king",careerPreference:"Mage"},{id:"hunters_heart",name:"Hunter's heart",type:"necklace",bookRef:{book:"The Heart of Fire",act:2,section:729},stats:{speed:1},abilities:["Savage call"],location:"Gheira",careerPreference:"Warrior"},{id:"illumanti_circlet",name:"Illumanti circlet",type:"necklace",bookRef:{book:"The Heart of Fire",act:3,section:620},stats:{speed:1,armour:1},abilities:["Confound"],location:"Goblin looters",careerPreference:"Mage"},{id:"gullet_scales",name:"Gullet scales",type:"necklace",bookRef:{book:"The Heart of Fire",act:3,section:554},stats:{speed:1,armour:1},abilities:["Charm"],location:"Book wyrm"},{id:"tendon_rope",name:"Tendon rope",type:"necklace",bookRef:{book:"The Heart of Fire",act:3,section:728},stats:{speed:1},abilities:["Greater heal"],location:"Evin Daala",careerPreference:"Mage"},{id:"soldering_iron",name:"Soldering iron",type:"necklace",bookRef:{book:"The Heart of Fire",act:3,section:823},stats:{speed:1,brawn:1},abilities:["Dominate"],location:"Ixion",careerPreference:"Warrior"},{id:"chained_heart",name:"Chained heart",type:"necklace",bookRef:{book:"The Heart of Fire",act:3,section:592},stats:{speed:1,magic:1},abilities:["Channel"],location:"Ixion",careerPreference:"Mage"},{id:"garms_whistle",name:"Garm's whistle",type:"necklace",bookRef:{book:"The Heart of Fire",act:3,section:716},stats:{speed:1,magic:1},abilities:["Packmaster"],location:"Erkil"},{id:"collar_of_correction",name:"Collar of correction",type:"necklace",bookRef:{book:"The Heart of Fire",act:3,section:929},stats:{speed:1,brawn:1},abilities:["Sweet spot"],location:"Krakatoa",careerPreference:"Rogue"},{id:"puritans_band",name:"Puritan's band",type:"ring",bookRef:{book:"The Heart of Fire",act:1,section:59},stats:{brawn:1},abilities:["Charm"],location:"Vendor/Carvel"},{id:"eponas_blessing",name:"Epona's blessing",type:"ring",bookRef:{book:"The Heart of Fire",act:1,section:59},stats:{armour:1},abilities:["Charm"],location:"Vendor/Carvel"},{id:"all_hallows_ring",name:"All Hallows ring",type:"ring",bookRef:{book:"The Heart of Fire",act:1,section:201},stats:{brawn:1},abilities:[],location:"Jack'o Lantern"},{id:"warded_wood",name:"Warded wood",type:"ring",bookRef:{book:"The Heart of Fire",act:1,section:133},stats:{brawn:1,magic:1},abilities:[],location:"Sinister sprigs"},{id:"pilfered_ring",name:"Pilfered ring",type:"ring",bookRef:{book:"The Heart of Fire",act:1,section:20},stats:{magic:1},abilities:[],location:"Zombie goblin"},{id:"signet_of_sorrow",name:"Signet of sorrow",type:"ring",bookRef:{book:"The Heart of Fire",act:1,section:218},stats:{brawn:1,magic:1},abilities:["Suppress"],location:"Reverend"},{id:"motley_band",name:"Motley band",type:"ring",bookRef:{book:"The Heart of Fire",act:1,section:79},stats:{brawn:1,magic:1},abilities:["Sneak"],location:"Crews' quarters"},{id:"pins_n_needles",name:"Pins 'n needles",type:"ring",bookRef:{book:"The Heart of Fire",act:1,section:381},stats:{},abilities:["Thorns"],location:"Queen Ballona"},{id:"after_burn",name:"After burn",type:"ring",bookRef:{book:"The Heart of Fire",act:1,section:431},stats:{armour:1},abilities:["Turn up the heat"],location:"Furnace"},{id:"the_fellowship_ring",name:"The fellowship ring",type:"ring",bookRef:{book:"The Heart of Fire",act:1,section:145},stats:{brawn:1,magic:1},abilities:["Charm"],location:"Tree house"},{id:"black_hole",name:"Black hole",type:"ring",bookRef:{book:"The Heart of Fire",act:1,section:477},stats:{brawn:1,magic:1},abilities:["Dark pact"],location:"Toymaker's box"},{id:"grieving_soul",name:"Grieving soul",type:"ring",bookRef:{book:"The Heart of Fire",act:1,section:301},stats:{armour:1},abilities:["Fire aura"],location:"Dagona"},{id:"briar_star",name:"Briar star",type:"ring",bookRef:{book:"The Heart of Fire",act:1,section:308},stats:{armour:1},abilities:["Thorns"],location:"Orgorath"},{id:"harvester",name:"Harvester",type:"ring",bookRef:{book:"The Heart of Fire",act:1,section:155},stats:{brawn:2,magic:2},abilities:["Regrowth"],location:"Wicker man"},{id:"scholars_seal",name:"Scholar's seal",type:"ring",bookRef:{book:"The Heart of Fire",act:2,section:492},stats:{magic:1,armour:1},abilities:["Confound"],location:"Scholar (side quest)"},{id:"lycanths_teeth_w_r_",name:"Lycanth's teeth (W/R)",type:"ring",bookRef:{book:"The Heart of Fire",act:2,section:232},stats:{brawn:1},abilities:["Bleed"],location:"Lycanth"},{id:"gravediggers_ring",name:"Gravedigger's ring",type:"ring",bookRef:{book:"The Heart of Fire",act:2,section:246},stats:{brawn:1},abilities:["Underhand"],location:"Gaia",careerPreference:"Rogue"},{id:"pious_halo",name:"Pious halo",type:"ring",bookRef:{book:"The Heart of Fire",act:2,section:556},stats:{brawn:2},abilities:["Seraphim's symbols"],location:"Umbra",careerPreference:"Warrior"},{id:"shard_of_sky",name:"Shard of sky",type:"ring",bookRef:{book:"The Heart of Fire",act:2,section:297},stats:{brawn:1},abilities:["Blind"],location:"Zephyr",careerPreference:"Rogue"},{id:"circle_of_storms",name:"Circle of storms",type:"ring",bookRef:{book:"The Heart of Fire",act:2,section:160},stats:{armour:1},abilities:["Lightning"],location:"Zephyr",careerPreference:"Warrior"},{id:"weirdstone",name:"Weirdstone",type:"ring",bookRef:{book:"The Heart of Fire",act:2,section:350},stats:{magic:1},abilities:["Focus"],location:"Lycanth",careerPreference:"Mage"},{id:"rain_dance",name:"Rain dance",type:"ring",bookRef:{book:"The Heart of Fire",act:2,section:458},stats:{armour:1},abilities:["Call of nature"],location:"Boogaloo",careerPreference:"Mage"},{id:"seal_of_shadows",name:"Seal of shadows",type:"ring",bookRef:{book:"The Heart of Fire",act:2,section:534},stats:{magic:1,armour:1},abilities:["Veil"],location:"Umbra",careerPreference:"Mage"},{id:"zilla_bling",name:"Zilla bling",type:"ring",bookRef:{book:"The Heart of Fire",act:2,section:629},stats:{magic:1},abilities:["(+4 health) Charm"],location:"Mortzilla"},{id:"tangle_knot",name:"Tangle knot",type:"ring",bookRef:{book:"The Heart of Fire",act:2,section:709},stats:{brawn:1,magic:1},abilities:["Barbs"],location:"The weeper"},{id:"iron_recluse",name:"Iron recluse",type:"ring",bookRef:{book:"The Heart of Fire",act:2,section:757},stats:{magic:2},abilities:["Corrode"],location:"Travellers' shelter"},{id:"shapers_stone",name:"Shaper's stone",type:"ring",bookRef:{book:"The Heart of Fire",act:2,section:470},stats:{magic:1,armour:1},abilities:["Might of stone"],location:"Guano chest",careerPreference:"Mage"},{id:"ring_of_remedies",name:"Ring of remedies",type:"ring",bookRef:{book:"The Heart of Fire",act:2,section:369},stats:{magic:2},abilities:["Cauterise"],location:"Buckmaster Bill (side quest)",careerPreference:"Mage"},{id:"fyre_fiend",name:"Fyre fiend",type:"ring",bookRef:{book:"The Heart of Fire",act:2,section:511},stats:{armour:1},abilities:["Fire shield"],location:"Sun vault"},{id:"last_breath",name:"Last breath",type:"ring",bookRef:{book:"The Heart of Fire",act:2,section:666},stats:{},abilities:["(+4 health) Refresh"],location:"Lich",careerPreference:"Warrior"},{id:"fishers_friend",name:"Fisher's friend",type:"ring",bookRef:{book:"The Heart of Fire",act:2,section:575},stats:{brawn:1},abilities:["Hooked"],location:"Fisher king",careerPreference:"Rogue"},{id:"kiss_of_a_princess",name:"Kiss of a princess",type:"ring",bookRef:{book:"The Heart of Fire",act:2,section:575},stats:{brawn:1},abilities:["Charm"],location:"Fisher king"},{id:"bad_tooth",name:"Bad tooth",type:"ring",bookRef:{book:"The Heart of Fire",act:2,section:714},stats:{magic:2},abilities:["Disease"],location:"Gheira",careerPreference:"Mage"},{id:"spark_stone",name:"Spark stone",type:"ring",bookRef:{book:"The Heart of Fire",act:2,section:770},stats:{brawn:2},abilities:["Lightning"],location:"Issachar",careerPreference:"Rogue"},{id:"twilight_tinder",name:"Twilight tinder",type:"ring",bookRef:{book:"The Heart of Fire",act:2,section:761},stats:{magic:2},abilities:["Overload"],location:"Issachar",careerPreference:"Mage"},{id:"abyssal_firestone",name:"Abyssal firestone",type:"ring",bookRef:{book:"The Heart of Fire",act:3,section:789},stats:{armour:1},abilities:["(+2 health) Fire aura"],location:"Nyx the dark wind"},{id:"wyrmhole",name:"Wyrmhole",type:"ring",bookRef:{book:"The Heart of Fire",act:3,section:554},stats:{magic:1},abilities:["Vortex"],location:"Book wyrm",careerPreference:"Mage"},{id:"aethereal",name:"Aethereal",type:"ring",bookRef:{book:"The Heart of Fire",act:3,section:851},stats:{armour:1},abilities:["(+2 health) Windblast"],location:"Rune spirit (side quest)"},{id:"blood_diamond",name:"Blood diamond",type:"ring",bookRef:{book:"The Heart of Fire",act:3,section:728},stats:{magic:2},abilities:["Bleed"],location:"Evin Daala",careerPreference:"Mage"},{id:"heat_of_ardour",name:"Heat of ardour",type:"ring",bookRef:{book:"The Heart of Fire",act:3,section:823},stats:{brawn:2},abilities:["Sear"],location:"Ixion",careerPreference:"Warrior"},{id:"crucifixion_nail",name:"Crucifixion nail",type:"ring",bookRef:{book:"The Heart of Fire",act:3,section:812},stats:{brawn:1},abilities:["Sweet spot"],location:"Ixion",careerPreference:"Rogue"},{id:"circle_of_sacrifice",name:"Circle of sacrifice",type:"ring",bookRef:{book:"The Heart of Fire",act:3,section:592},stats:{magic:1},abilities:["Penance"],location:"Ixion",careerPreference:"Mage"},{id:"the_dispossessed",name:"The dispossessed",type:"ring",bookRef:{book:"The Heart of Fire",act:3,section:723},stats:{brawn:1,armour:1},abilities:["Steal"],location:"Nephele",careerPreference:"Rogue"},{id:"ironbeard_band",name:"Ironbeard band",type:"ring",bookRef:{book:"The Heart of Fire",act:3,section:834},stats:{brawn:2},abilities:["Counter"],location:"Erkil",careerPreference:"Warrior"}],Lh=e=>Pu.filter(t=>e==="ring1"||e==="ring2"?t.type==="ring":t.type===e),Fu=({slot:e,onSelect:t,onClose:o,showAllItems:a=!1,customItems:n})=>{const[i,r]=st.useState("");let s=[];n?s=n:a?s=Pu:e&&(s=Lh(e));const c=s.filter(d=>{const b=i.toLowerCase();return d.name.toLowerCase().includes(b)||d.bookRef.section&&d.bookRef.section.toString().includes(b)||d.location&&d.location.toLowerCase().includes(b)});return l.jsx("div",{className:"equipment-selector-overlay",onClick:o,children:l.jsxs(za,{className:"equipment-selector-modal",onClick:d=>d.stopPropagation(),title:e?`Select ${e}`:"Select Item",onClose:o,children:[l.jsx("div",{className:"selector-header",children:l.jsxs("div",{className:"header-row-search",children:[l.jsx("input",{type:"text",className:"dq-input",placeholder:"Search items...",value:i,onChange:d=>r(d.target.value),autoFocus:!0}),i&&l.jsx("button",{className:"action-btn-secondary",onClick:()=>r(""),title:"Clear search",children:""})]})}),l.jsxs("div",{className:"items-list",children:[l.jsxs("div",{className:"item-card unequip-card",onClick:()=>t(null),children:[l.jsxs("div",{className:"item-card-header",children:[l.jsx("div",{className:"item-name",children:"Empty Slot"}),l.jsx("div",{className:"item-stats",children:"Unequip"})]}),l.jsx("div",{className:"item-desc",children:"Clear current equipment from this slot."})]}),c.length===0?l.jsxs("div",{className:"text-dim",style:{textAlign:"center",padding:"20px"},children:['No items found matching "',i,'".']}):c.map(d=>l.jsxs("div",{className:"item-card",onClick:()=>t(d),children:[l.jsxs("div",{className:"item-card-header",children:[l.jsx("div",{className:"item-name",children:d.name}),l.jsxs("div",{className:"item-source",children:[l.jsxs("div",{className:"text-dim",style:{fontSize:"0.8rem"},children:["Act ",d.bookRef.act]}),d.bookRef.section&&l.jsxs("div",{className:"text-dim",style:{fontSize:"0.8rem"},children:[" ",d.bookRef.section]})]})]}),d.type=="backpack"?l.jsx("div",{className:"item-stats",children:$a(d.effect)}):l.jsxs("div",{className:"item-stats",children:[d.stats.speed?`${A("speed")} ${d.stats.speed} `:"",d.stats.brawn?`${A("brawn")} ${d.stats.brawn} `:"",d.stats.magic?`${A("magic")} ${d.stats.magic} `:"",d.stats.armour?`${A("armour")} ${d.stats.armour} `:"","abilities"in d&&d.abilities&&d.abilities.length>0&&l.jsx("div",{className:"item-abilities-tag",children:d.abilities.map(b=>` ${b} `).join(", ")})]}),"description"in d&&d.description&&l.jsx("div",{className:"item-desc",children:d.description}),"notes"in d&&d.notes&&l.jsx("div",{className:"item-desc",children:d.notes}),l.jsx("div",{className:"item-meta-container",children:d.location&&l.jsxs("span",{children:[" ",d.location]})})]},d.id))]})]})})},Ch=""+new URL("hero_silhouette-VN-AEIFZ.png",import.meta.url).href,Ph={head:{top:"5%",left:"50%",label:"Head",icon:""},necklace:{top:"22%",left:"50%",label:"Neck",icon:""},talisman:{top:"22%",left:"20%",label:"Talisman",icon:""},leftHand:{top:"15%",left:"85%",label:"Off",icon:""},ring2:{top:"32%",left:"85%",label:"Ring 2",icon:""},cloak:{top:"43%",left:"12%",label:"Cloak",icon:""},chest:{top:"40%",left:"50%",label:"Chest",icon:""},mainHand:{top:"60%",left:"12%",label:"Main",icon:""},gloves:{top:"60%",left:"85%",label:"Hands",icon:""},ring1:{top:"60%",left:"40%",label:"Ring 1",icon:""},feet:{top:"88%",left:"50%",label:"Feet",icon:""}},Fh=({hero:e,onEquip:t,onUnequip:o})=>{const[a,n]=J.useState(null),i=r=>{a&&(r?t(r,a):o(a),n(null))};return l.jsxs("div",{className:"equipment-container",children:[l.jsx("h4",{children:"Equipment"}),l.jsx("div",{className:"equipment-slots",children:l.jsx("div",{className:"human-figure-container",style:{backgroundImage:`url(${Ch})`},children:Object.entries(Ph).map(([r,s])=>{const c=e.equipment[r];return l.jsx("div",{className:"positioned-slot",style:{top:s.top,left:s.left},children:l.jsx(Cu,{label:s.label,icon:s.icon,item:c,onClick:()=>n(r)})},r)})})}),a&&l.jsx(Fu,{slot:a,onSelect:r=>i(r),onClose:()=>n(null)})]})},Dh=[{id:"healing_potion",name:"Healing Potion",description:"+6 health",type:"backpack",effect:{stats:{health:6},source:"Healing Potion",target:"hero",duration:0},uses:1,notes:"Sold by the Apothecary",bookRef:{book:"Legions of Shadows",act:1,section:56}},{id:"speed_potion",name:"Speed Potion",description:"+2 speed",type:"backpack",effect:{stats:{speed:2},source:"Speed Potion",target:"hero",duration:1},uses:1,notes:"Sold by the Apothecary",bookRef:{book:"Legions of Shadows",act:1,section:56}},{id:"brawn_potion",name:"Brawn Potion",description:"+2 brawn",type:"backpack",effect:{stats:{brawn:2},source:"Brawn Potion",target:"hero",duration:1},uses:1,notes:"Sold by the Apothecary",bookRef:{book:"Legions of Shadows",act:1,section:56}},{id:"magic_potion",name:"Magic Potion",description:"+2 magic",type:"backpack",effect:{stats:{magic:2},source:"Magic Potion",target:"hero",duration:1},uses:1,notes:"Sold by the Apothecary",bookRef:{book:"Legions of Shadows",act:1,section:56}},{id:"crocodile_skin",name:"Crocodile Skin",description:"Quest Item",type:"backpack",effect:{stats:{},source:"Crocodile Skin",target:"hero",duration:0},uses:0,notes:"Dropped by the Crocodile",bookRef:{book:"Legions of Shadows",act:1,section:118}},{id:"goblin_grog",name:"Goblin Grog",description:"+4 health",type:"backpack",effect:{stats:{health:4},source:"Goblin Grog",target:"hero",duration:0},uses:2,notes:"Found in Goblin loot",bookRef:{book:"Legions of Shadows",act:1,section:125}},{id:"healing_salve",name:"Healing Salve",description:"+6 health",type:"backpack",effect:{stats:{health:6},source:"Healing Salve",target:"hero",duration:0},uses:1,notes:"Found in Goblin loot",bookRef:{book:"Legions of Shadows",act:1,section:125}},{id:"miracle_grow",name:"Miracle Grow",description:"+2 brawn",type:"backpack",effect:{stats:{brawn:2},source:"Miracle Grow",target:"hero",duration:1},uses:1,notes:"Found in Goblin loot",bookRef:{book:"Legions of Shadows",act:1,section:125}},{id:"ghoul_hair",name:"Ghoul Hair",description:"Quest Item",type:"backpack",effect:{stats:{},source:"Ghoul Hair",target:"hero",duration:0},uses:0,notes:"Dropped by Ghouls",bookRef:{book:"Legions of Shadows",act:1,section:127}},{id:"explosives_bombs",name:"Explosives / Bombs",description:"+10 damage",type:"backpack",effect:{stats:{damageModifier:10},source:"Explosives / Bombs",target:"hero",duration:0},uses:1,notes:"Sold by the Tinker",bookRef:{book:"Legions of Shadows",act:1,section:175}},{id:"spiders_leg",name:"Spider's Leg",description:"Quest Item",type:"backpack",effect:{stats:{},source:"Spider's Leg",target:"hero",duration:0},uses:0,notes:"Dropped by Spiders",bookRef:{book:"Legions of Shadows",act:1,section:179}},{id:"goblin_grog",name:"Goblin Grog",description:"+4 health",type:"backpack",effect:{stats:{health:4},source:"Goblin Grog",target:"hero",duration:0},uses:2,notes:"Found in Goblin Chief's loot",bookRef:{book:"Legions of Shadows",act:1,section:260}},{id:"da_boss",name:"Da Boss",description:"+10 damage",type:"backpack",effect:{stats:{damageModifier:10},source:"Da Boss",target:"hero",duration:0},uses:1,notes:"Sold by Sea-Spray Steve",bookRef:{book:"Legions of Shadows",act:1,section:432}}],Eh=({hero:e,onSetItem:t,onDeleteItem:o})=>{const[a,n]=J.useState(null);return l.jsxs("div",{className:"backpack-container",children:[l.jsxs("h4",{children:["Backpack (",e.backpack.filter(i=>i!==null).length,"/",e.backpack.length,")"]}),l.jsx("div",{className:"backpack-grid",children:Array.from({length:e.backpack.length}).map((i,r)=>{const s=e.backpack[r];return l.jsx(Cu,{label:`${r+1}`,icon:"",item:s,onClick:()=>n(r),className:"backpack-slot-wrapper"},`backpack-${r}`)})}),a!==null&&l.jsx(Fu,{onSelect:i=>{i?t(i,a):o(a),n(null)},onClose:()=>n(null),customItems:Dh})]})},Ah=({hero:e,onEquip:t,onUnequip:o,onSetBackpackItem:a,onDeleteBackpackItem:n})=>l.jsxs(za,{title:"Inventory",className:"equipment-section",children:[l.jsx(Fh,{hero:e,onEquip:t,onUnequip:o}),l.jsx(Eh,{hero:e,onSetItem:a,onDeleteItem:n})]}),Du=[{type:"enemy",name:"Mauler",stats:{speed:5,brawn:8,magic:0,armour:5,health:30,maxHealth:30},abilities:["Ferocity"],bookRef:{book:"The Legion of Shadow",act:1,section:18}},{type:"enemy",name:"Humbaroth",stats:{speed:4,brawn:9,magic:0,armour:4,health:35,maxHealth:35},abilities:["Punishing blows"],bookRef:{book:"The Legion of Shadow",act:1,section:29}},{type:"enemy",name:"Storm Elemental",stats:{speed:2,brawn:0,magic:1,armour:1,health:25,maxHealth:25},abilities:["Charged"],bookRef:{book:"The Legion of Shadow",act:1,section:33}},{type:"enemy",name:"Malachi of Fire",stats:{speed:4,brawn:0,magic:4,armour:2,health:20,maxHealth:20},abilities:["Fiery aura"],bookRef:{book:"The Legion of Shadow",act:1,section:35}},{type:"enemy",name:"Goblin poachers",stats:{speed:0,brawn:1,magic:0,armour:0,health:20,maxHealth:20},abilities:[],bookRef:{book:"The Legion of Shadow",act:1,section:37},notes:"If the goblins habe been reduced to 10 health or less, turn to 77"},{type:"enemy",name:"Zalladell",stats:{speed:5,brawn:0,magic:7,armour:4,health:40,maxHealth:40},abilities:["Black sigill","Bewitched"],bookRef:{book:"The Legion of Shadow",act:1,section:49}},{type:"enemy",name:"Ghouls",stats:{speed:5,brawn:3,magic:0,armour:2,health:30,maxHealth:30},abilities:["Piercing claws"],bookRef:{book:"The Legion of Shadow",act:1,section:59}},{type:"enemy",name:"Spindle",stats:{speed:5,brawn:5,magic:0,armour:3,health:30,maxHealth:30},abilities:["Webbed","Venom"],bookRef:{book:"The Legion of Shadow",act:1,section:60},notes:"Ignore the Webbed ability if the web was set to fire with the Torch"},{type:"enemy",name:"Ruffians",stats:{speed:2,brawn:3,magic:0,armour:1,health:15,maxHealth:15},abilities:["Crone's dagger"],bookRef:{book:"The Legion of Shadow",act:1,section:62}},{type:"enemy",name:"Turnips",stats:{speed:0,brawn:0,magic:0,armour:1,health:10,maxHealth:10},abilities:[],bookRef:{book:"The Legion of Shadow",act:1,section:63}},{type:"enemy",name:"Mist stalker",stats:{speed:0,brawn:1,magic:0,armour:0,health:10,maxHealth:10},abilities:[],bookRef:{book:"The Legion of Shadow",act:1,section:65}},{type:"enemy",name:"Rennie",stats:{speed:3,brawn:2,magic:0,armour:2,health:15,maxHealth:15},abilities:["First cut"],bookRef:{book:"The Legion of Shadow",act:1,section:70}},{type:"enemy",name:"Lake Spirit",stats:{speed:4,brawn:0,magic:5,armour:2,health:50,maxHealth:50},abilities:[],bookRef:{book:"The Legion of Shadow",act:1,section:81},notes:"If you survive to the end of 5 combat rounds, turn to 234"},{type:"enemy",name:"Skeleton guards",stats:{speed:4,brawn:4,magic:0,armour:3,health:25,maxHealth:25},abilities:["Body of bone"],bookRef:{book:"The Legion of Shadow",act:1,section:90}},{type:"enemy",name:"Grey hag",stats:{speed:6,brawn:6,magic:0,armour:3,health:40,maxHealth:40},abilities:["Warts and all"],bookRef:{book:"The Legion of Shadow",act:1,section:92}},{type:"enemy",name:"Tree roots",stats:{speed:5,brawn:4,magic:0,armour:230,health:0,maxHealth:0},abilities:[],bookRef:{book:"The Legion of Shadow",act:1,section:93}},{type:"enemy",name:"Ancient knight",stats:{speed:5,brawn:4,magic:0,armour:2,health:25,maxHealth:25},abilities:["Body of bone"],bookRef:{book:"The Legion of Shadow",act:1,section:98}},{type:"enemy",name:"Ghouls",stats:{speed:5,brawn:3,magic:0,armour:2,health:30,maxHealth:30},abilities:["Piercing claws"],bookRef:{book:"The Legion of Shadow",act:1,section:100}},{type:"enemy",name:"Allura of Water",stats:{speed:5,brawn:4,magic:0,armour:1,health:25,maxHealth:25},abilities:["Healing touch"],bookRef:{book:"The Legion of Shadow",act:1,section:105}},{type:"enemy",name:"Valadin Roth",stats:{speed:5,brawn:4,magic:0,armour:3,health:35,maxHealth:35},abilities:["Faithful duty","Body of bone"],bookRef:{book:"The Legion of Shadow",act:1,section:109}},{type:"enemy",name:"Goblin poacher",stats:{speed:0,brawn:1,magic:0,armour:0,health:10,maxHealth:10},abilities:[],bookRef:{book:"The Legion of Shadow",act:1,section:118}},{type:"enemy",name:"Changeling",stats:{speed:5,brawn:5,magic:0,armour:3,health:45,maxHealth:45},abilities:["Blacke fire"],bookRef:{book:"The Legion of Shadow",act:1,section:121}},{type:"enemy",name:"Huntsman",stats:{speed:1,brawn:1,magic:0,armour:1,health:15,maxHealth:15},abilities:[],bookRef:{book:"The Legion of Shadow",act:1,section:125}},{type:"enemy",name:"Target dummy",stats:{speed:5,brawn:6,magic:0,armour:6,health:25,maxHealth:25},abilities:["Sack and straw"],bookRef:{book:"The Legion of Shadow",act:1,section:126}},{type:"enemy",name:"Rabid rats",stats:{speed:3,brawn:1,magic:0,armour:0,health:30,maxHealth:30},abilities:[],bookRef:{book:"The Legion of Shadow",act:1,section:130}},{type:"enemy",name:"Ghoul",stats:{speed:5,brawn:2,magic:0,armour:2,health:15,maxHealth:15},abilities:["Piercing claws"],bookRef:{book:"The Legion of Shadow",act:1,section:138}},{type:"enemy",name:"Scarecrow",stats:{speed:0,brawn:1,magic:0,armour:0,health:8,maxHealth:8},abilities:[],bookRef:{book:"The Legion of Shadow",act:1,section:139}},{type:"enemy",name:"Leader",stats:{speed:2,brawn:3,magic:0,armour:4,health:25,maxHealth:25},abilities:[],bookRef:{book:"The Legion of Shadow",act:1,section:144},notes:"Once the leader's health is reduced to 12 or less, turn to 230"},{type:"enemy",name:"Troll",stats:{speed:5,brawn:6,magic:0,armour:3,health:60,maxHealth:60},abilities:["Knowndown","Regeneration"],bookRef:{book:"The Legion of Shadow",act:1,section:156}},{type:"enemy",name:"Giant crocodile",stats:{speed:0,brawn:1,magic:0,armour:1,health:10,maxHealth:10},abilities:[],bookRef:{book:"The Legion of Shadow",act:1,section:159}},{type:"enemy",name:"Shadow",stats:{speed:5,brawn:0,magic:4,armour:3,health:20,maxHealth:20},abilities:[],bookRef:{book:"The Legion of Shadow",act:1,section:178}},{type:"enemy",name:"Hobgoblin",stats:{speed:0,brawn:1,magic:0,armour:1,health:12,maxHealth:12},abilities:[],bookRef:{book:"The Legion of Shadow",act:1,section:184}},{type:"enemy",name:"Giant spider",stats:{speed:4,brawn:3,magic:0,armour:2,health:20,maxHealth:20},abilities:["Venom"],bookRef:{book:"The Legion of Shadow",act:1,section:189}},{type:"enemy",name:"Leader",stats:{speed:2,brawn:3,magic:0,armour:4,health:25,maxHealth:25},abilities:[],bookRef:{book:"The Legion of Shadow",act:1,section:201},notes:"Once the leader's health is reduced to 12 or less, turn to 233"},{type:"enemy",name:"Noldor",stats:{speed:7,brawn:5,magic:0,armour:4,health:60,maxHealth:60},abilities:[],bookRef:{book:"The Legion of Shadow",act:1,section:207},notes:"TODO: You can use runes against this enemy."},{type:"enemy",name:"Changeling",stats:{speed:5,brawn:0,magic:4,armour:2,health:40,maxHealth:40},abilities:["Hellfire"],bookRef:{book:"The Legion of Shadow",act:1,section:217}},{type:"enemy",name:"Rennie",stats:{speed:3,brawn:2,magic:0,armour:2,health:15,maxHealth:15},abilities:["First cut"],bookRef:{book:"The Legion of Shadow",act:1,section:220}},{type:"enemy",name:"Voldring of Earth",stats:{speed:4,brawn:3,magic:0,armour:5,health:20,maxHealth:20},abilities:["Mighty blows"],bookRef:{book:"The Legion of Shadow",act:1,section:221}},{type:"enemy",name:"Rattling",stats:{speed:3,brawn:3,magic:0,armour:2,health:12,maxHealth:12},abilities:["Tail lash"],bookRef:{book:"The Legion of Shadow",act:1,section:230}},{type:"enemy",name:"Burrower Alpha",stats:{speed:5,brawn:5,magic:0,armour:4,health:25,maxHealth:25},abilities:["Acid"],bookRef:{book:"The Legion of Shadow",act:1,section:232}},{type:"enemy",name:"Rattling",stats:{speed:3,brawn:3,magic:0,armour:2,health:12,maxHealth:12},abilities:["Tail lash"],bookRef:{book:"The Legion of Shadow",act:1,section:233}},{type:"enemy",name:"Giant spiders",stats:{speed:4,brawn:4,magic:0,armour:2,health:25,maxHealth:25},abilities:["Venom"],bookRef:{book:"The Legion of Shadow",act:1,section:239}},{type:"enemy",name:"Big bad wolf",stats:{speed:0,brawn:1,magic:0,armour:1,health:15,maxHealth:15},abilities:[],bookRef:{book:"The Legion of Shadow",act:1,section:240}},{type:"enemy",name:"Goblin chief",stats:{speed:0,brawn:1,magic:0,armour:1,health:15,maxHealth:15},abilities:[],bookRef:{book:"The Legion of Shadow",act:1,section:242}},{type:"enemy",name:"Talos of Air",stats:{speed:4,brawn:4,magic:0,armour:2,health:20,maxHealth:20},abilities:["Wind-dancer"],bookRef:{book:"The Legion of Shadow",act:1,section:244}},{type:"enemy",name:"Ghoul",stats:{speed:5,brawn:2,magic:0,armour:2,health:20,maxHealth:20},abilities:["Piercing claws"],bookRef:{book:"The Legion of Shadow",act:1,section:253}},{type:"enemy",name:"Burrower wurm",stats:{speed:4,brawn:4,magic:0,armour:3,health:20,maxHealth:20},abilities:["Acid"],bookRef:{book:"The Legion of Shadow",act:1,section:262}},{type:"enemy",name:"Burrower wurm",stats:{speed:4,brawn:4,magic:0,armour:3,health:20,maxHealth:20},abilities:["Acid"],bookRef:{book:"The Legion of Shadow",act:1,section:273}},{type:"enemy",name:"Ghouls",stats:{speed:5,brawn:3,magic:0,armour:2,health:30,maxHealth:30},abilities:["Piercing claws","Holy Water"],bookRef:{book:"The Legion of Shadow",act:1,section:274}},{type:"enemy",name:"Fetch",stats:{speed:5,brawn:4,magic:0,armour:3,health:35,maxHealth:35},abilities:["Dark disciple"],bookRef:{book:"The Legion of Shadow",act:1,section:280}},{type:"enemy",name:"Nalsa",stats:{speed:11,brawn:10,magic:0,armour:6,health:50,maxHealth:50},abilities:["Mighty roar"],bookRef:{book:"The Legion of Shadow",act:1,section:293}},{type:"enemy",name:"Batwing",stats:{speed:5,brawn:4,magic:0,armour:2,health:25,maxHealth:25},abilities:["Bleed"],bookRef:{book:"The Legion of Shadow",act:2,section:295}},{type:"enemy",name:"Lady Roe",stats:{speed:8,brawn:0,magic:8,armour:5,health:50,maxHealth:50},abilities:["Blood harvest","Vampire","Wounded"],bookRef:{book:"The Legion of Shadow",act:2,section:302}},{type:"enemy",name:"Baron Greylock",stats:{speed:8,brawn:8,magic:0,armour:5,health:60,maxHealth:60},abilities:["Vampire","Wounded"],bookRef:{book:"The Legion of Shadow",act:2,section:306}},{type:"enemy",name:"Logan",stats:{speed:10,brawn:10,magic:0,armour:9,health:50,maxHealth:50},abilities:["Poisened arrow"],bookRef:{book:"The Legion of Shadow",act:2,section:313}},{type:"enemy",name:"Left hook Luke",stats:{speed:7,brawn:8,magic:0,armour:4,health:50,maxHealth:50},abilities:["By hook","And by crook"],bookRef:{book:"The Legion of Shadow",act:2,section:320}},{type:"enemy",name:"Bat swarm",stats:{speed:7,brawn:8,magic:0,armour:4,health:20,maxHealth:20},abilities:["Watch your step","Wounded"],bookRef:{book:"The Legion of Shadow",act:2,section:322}},{type:"enemy",name:"Wreeking mage",stats:{speed:10,brawn:0,magic:6,armour:5,health:45,maxHealth:45},abilities:["Charge her up"],bookRef:{book:"The Legion of Shadow",act:2,section:323}},{type:"enemy",name:"Vesuvius",stats:{speed:10,brawn:0,magic:13,armour:9,health:45,maxHealth:45},abilities:["Molten armour","Body of Flame"],bookRef:{book:"The Legion of Shadow",act:2,section:335}},{type:"enemy",name:"Mud Golen",stats:{speed:5,brawn:5,magic:0,armour:3,health:35,maxHealth:35},abilities:["Mud pie"],bookRef:{book:"The Legion of Shadow",act:2,section:337}},{type:"enemy",name:"Hydra",stats:{speed:12,brawn:15,magic:0,armour:10,health:60,maxHealth:60},abilities:["Many heads","Venom"],bookRef:{book:"The Legion of Shadow",act:2,section:350}},{type:"enemy",name:"Nasareim",stats:{speed:12,brawn:10,magic:0,armour:12,health:60,maxHealth:60},abilities:["Dervish","Whirlwird"],bookRef:{book:"The Legion of Shadow",act:2,section:352}},{type:"enemy",name:"Fargin",stats:{speed:6,brawn:5,magic:0,armour:4,health:25,maxHealth:25},abilities:[],bookRef:{book:"The Legion of Shadow",act:2,section:354}},{type:"enemy",name:"Barkrot",stats:{speed:10,brawn:7,magic:0,armour:10,health:30,maxHealth:30},abilities:["Tangled roots","Air of corruption"],bookRef:{book:"The Legion of Shadow",act:2,section:357}},{type:"enemy",name:"Hive Queen",stats:{speed:6,brawn:0,magic:6,armour:4,health:35,maxHealth:35},abilities:["Wing buffet","Venom"],bookRef:{book:"The Legion of Shadow",act:2,section:358}},{type:"enemy",name:"Clymonistra",stats:{speed:7,brawn:5,magic:0,armour:4,health:40,maxHealth:40},abilities:["Piercing","Vampire","Wounded"],bookRef:{book:"The Legion of Shadow",act:2,section:360}},{type:"enemy",name:"Cave trogs",stats:{speed:6,brawn:7,magic:0,armour:3,health:40,maxHealth:40},abilities:[],bookRef:{book:"The Legion of Shadow",act:2,section:361}},{type:"enemy",name:"Snapjaw",stats:{speed:12,brawn:12,magic:0,armour:10,health:60,maxHealth:60},abilities:["Strangle vines"],bookRef:{book:"The Legion of Shadow",act:2,section:364}},{type:"enemy",name:"Drones",stats:{speed:7,brawn:3,magic:0,armour:4,health:40,maxHealth:40},abilities:["Stingers"],bookRef:{book:"The Legion of Shadow",act:2,section:365}},{type:"enemy",name:"Wreeking hunter",stats:{speed:8,brawn:8,magic:0,armour:5,health:40,maxHealth:40},abilities:[],spawns:["Wreeking net"],bookRef:{book:"The Legion of Shadow",act:2,section:366},notes:"After this enemy is killed, the hero wins the combat."},{type:"enemy",name:"Wreeking net",stats:{speed:0,brawn:0,magic:0,armour:52,health:15,maxHealth:15},abilities:["Entrapment"],bookRef:{book:"The Legion of Shadow",act:2,section:366}},{type:"enemy",name:"Centipede",stats:{speed:5,brawn:5,magic:0,armour:3,health:60,maxHealth:60},abilities:["Downsized"],bookRef:{book:"The Legion of Shadow",act:2,section:375}},{type:"enemy",name:"Zen",stats:{speed:10,brawn:10,magic:0,armour:8,health:60,maxHealth:60},abilities:["Charge","Trample"],bookRef:{book:"The Legion of Shadow",act:2,section:382}},{type:"enemy",name:"Shara Khana",stats:{speed:10,brawn:12,magic:0,armour:12,health:60,maxHealth:60},abilities:["Cat's speed"],bookRef:{book:"The Legion of Shadow",act:2,section:386}},{type:"enemy",name:"Kings Louis",stats:{speed:12,brawn:12,magic:0,armour:12,health:50,maxHealth:50},abilities:["King of the swingers"],bookRef:{book:"The Legion of Shadow",act:2,section:391}},{type:"enemy",name:"KerKlick",stats:{speed:7,brawn:5,magic:0,armour:7,health:40,maxHealth:40},abilities:["Pincer movement","Unnatural growth"],bookRef:{book:"The Legion of Shadow",act:2,section:393}},{type:"enemy",name:"Jenkins",stats:{speed:7,brawn:8,magic:0,armour:5,health:30,maxHealth:30},abilities:[],bookRef:{book:"The Legion of Shadow",act:2,section:402}},{type:"enemy",name:"Cinders",stats:{speed:8,brawn:0,magic:9,armour:6,health:45,maxHealth:45},abilities:["Vortex of fire","Body of flame"],bookRef:{book:"The Legion of Shadow",act:2,section:426}},{type:"enemy",name:"Elvera",stats:{speed:7,brawn:0,magic:6,armour:5,health:35,maxHealth:35},abilities:["Black coils","Vampire"],bookRef:{book:"The Legion of Shadow",act:2,section:429}},{type:"enemy",name:"Jester",stats:{speed:6,brawn:6,magic:0,armour:4,health:40,maxHealth:40},abilities:["Itchy and scratchy","Vampire"],bookRef:{book:"The Legion of Shadow",act:2,section:435}},{type:"enemy",name:"The Angler",stats:{speed:10,brawn:10,magic:0,armour:16,health:60,maxHealth:60},abilities:["Indigestion"],bookRef:{book:"The Legion of Shadow",act:2,section:438}},{type:"enemy",name:"Shadow Stalker",stats:{speed:12,brawn:12,magic:0,armour:12,health:75,maxHealth:75},abilities:["Deadly venom"],bookRef:{book:"The Legion of Shadow",act:2,section:442}},{type:"enemy",name:"Kindle",stats:{speed:12,brawn:11,magic:0,armour:9,health:90,maxHealth:90},abilities:["Dragon breath","Dragon hide"],bookRef:{book:"The Legion of Shadow",act:2,section:454}},{type:"enemy",name:"Boggart",stats:{speed:10,brawn:8,magic:0,armour:5,health:60,maxHealth:60},abilities:["Dread"],bookRef:{book:"The Legion of Shadow",act:2,section:462}},{type:"enemy",name:"Count",stats:{speed:9,brawn:8,magic:0,armour:5,health:40,maxHealth:40},abilities:["Wayling Bride","Vampire"],bookRef:{book:"The Legion of Shadow",act:2,section:464}},{type:"enemy",name:"Countess",stats:{speed:0,brawn:0,magic:0,armour:0,health:35,maxHealth:35},abilities:["Painted veil"],bookRef:{book:"The Legion of Shadow",act:2,section:464}},{type:"enemy",name:"Shadow Terror",stats:{speed:10,brawn:9,magic:0,armour:4,health:50,maxHealth:50},abilities:["Fed from fear"],bookRef:{book:"The Legion of Shadow",act:2,section:466}},{type:"enemy",name:"Leviathan",stats:{speed:11,brawn:0,magic:10,armour:8,health:50,maxHealth:50},abilities:[],bookRef:{book:"The Legion of Shadow",act:2,section:470}},{type:"enemy",name:"Snappers",stats:{speed:0,brawn:0,magic:0,armour:0,health:20,maxHealth:20},abilities:["Snappers"],bookRef:{book:"The Legion of Shadow",act:2,section:470}},{type:"enemy",name:"Poison Needles",stats:{speed:0,brawn:0,magic:0,armour:0,health:20,maxHealth:20},abilities:["Poison Needles"],bookRef:{book:"The Legion of Shadow",act:2,section:470}},{type:"enemy",name:"Thorn Spines",stats:{speed:0,brawn:0,magic:0,armour:0,health:20,maxHealth:20},abilities:["Thorn Spines"],bookRef:{book:"The Legion of Shadow",act:2,section:470}},{type:"enemy",name:"Purple worm",stats:{speed:5,brawn:5,magic:0,armour:5,health:40,maxHealth:40},abilities:["Split personality"],bookRef:{book:"The Legion of Shadow",act:2,section:472}},{type:"enemy",name:"Giant Ooze",stats:{speed:6,brawn:4,magic:0,armour:4,health:40,maxHealth:40},abilities:["Glutinous maximus"],bookRef:{book:"The Legion of Shadow",act:2,section:481}},{type:"enemy",name:"Scorpios",stats:{speed:10,brawn:7,magic:0,armour:4,health:60,maxHealth:60},abilities:["Black venom"],bookRef:{book:"The Legion of Shadow",act:2,section:482}},{type:"enemy",name:"Swamp Giant",stats:{speed:10,brawn:10,magic:0,armour:7,health:70,maxHealth:70},abilities:["Knockdown","Body of rock"],bookRef:{book:"The Legion of Shadow",act:2,section:486}},{type:"enemy",name:"Wormwood",stats:{speed:7,brawn:7,magic:0,armour:4,health:50,maxHealth:50},abilities:["Soft spot"],bookRef:{book:"The Legion of Shadow",act:2,section:490}},{type:"enemy",name:"Wreeking mage",stats:{speed:10,brawn:0,magic:0,armour:5,health:50,maxHealth:50},abilities:["Charge her up!"],bookRef:{book:"The Legion of Shadow",act:2,section:491}},{type:"enemy",name:"Ancient ancestors",stats:{speed:10,brawn:8,magic:0,armour:8,health:30,maxHealth:30},abilities:["Body of bone"],bookRef:{book:"The Legion of Shadow",act:2,section:493}},{type:"enemy",name:"Rumbler",stats:{speed:7,brawn:8,magic:0,armour:5,health:40,maxHealth:40},abilities:["Knockdown","Body of rock"],bookRef:{book:"The Legion of Shadow",act:2,section:496}},{type:"enemy",name:"Count",stats:{speed:9,brawn:8,magic:0,armour:5,health:40,maxHealth:40},abilities:["Blood drinker","Vampire","Wounded"],bookRef:{book:"The Legion of Shadow",act:2,section:505}},{type:"enemy",name:"Kalimari",stats:{speed:11,brawn:10,magic:0,armour:9,health:60,maxHealth:60},abilities:["Ink bombs"],bookRef:{book:"The Legion of Shadow",act:2,section:510}},{type:"enemy",name:"Inferno",stats:{speed:9,brawn:8,magic:0,armour:7,health:50,maxHealth:50},abilities:["Blazing armour"],bookRef:{book:"The Legion of Shadow",act:2,section:527}},{type:"enemy",name:"Wreeking hunter",stats:{speed:8,brawn:8,magic:0,armour:5,health:40,maxHealth:40},abilities:["After this enemy is killed, the hero wins the combat."],bookRef:{book:"The Legion of Shadow",act:2,section:529}},{type:"enemy",name:"Wreeking net",stats:{speed:0,brawn:0,magic:0,armour:52,health:15,maxHealth:15},abilities:["Entrapment"],bookRef:{book:"The Legion of Shadow",act:2,section:529}},{type:"enemy",name:"Scout",stats:{speed:14,brawn:15,magic:0,armour:14,health:85,maxHealth:85},abilities:[],bookRef:{book:"The Legion of Shadow",act:2,section:531}},{type:"enemy",name:"Count",stats:{speed:9,brawn:8,magic:0,armour:5,health:40,maxHealth:40},abilities:["Blood drinker","Vampire","Wounded"],bookRef:{book:"The Legion of Shadow",act:2,section:535}},{type:"enemy",name:"Phoenix",stats:{speed:8,brawn:0,magic:7,armour:5,health:30,maxHealth:30},abilities:["Body of flame","From the ashes"],bookRef:{book:"The Legion of Shadow",act:2,section:543}},{type:"enemy",name:"Risen Phoenix",stats:{speed:7,brawn:0,magic:6,armour:5,health:30,maxHealth:30},abilities:["Body of flame"],bookRef:{book:"The Legion of Shadow",act:2,section:543}},{type:"enemy",name:"Count",stats:{speed:9,brawn:8,magic:0,armour:5,health:40,maxHealth:40},abilities:["Blood drinker","Vampire","Wounded"],bookRef:{book:"The Legion of Shadow",act:2,section:545}},{type:"enemy",name:"Stone Giant",stats:{speed:10,brawn:10,magic:0,armour:12,health:50,maxHealth:50},abilities:["Knockdown","Body of rock"],spawns:["Stone Golem","Stone Golem","Stone Golem","Stone Golem"],bookRef:{book:"The Legion of Shadow",act:3,section:554}},{type:"enemy",name:"Stone Golem",stats:{speed:0,brawn:0,magic:0,armour:6,health:15,maxHealth:15},abilities:["Body of rock","Stone Golem"],bookRef:{book:"The Legion of Shadow",act:3,section:554}},{type:"enemy",name:"Bone Giant",stats:{speed:15,brawn:14,magic:0,armour:12,health:140,maxHealth:140},abilities:["Knockdown","Body of bone"],bookRef:{book:"The Legion of Shadow",act:3,section:555}},{type:"enemy",name:"The Blob",stats:{speed:14,brawn:15,magic:0,armour:12,health:120,maxHealth:120},abilities:["Knockdown","Bloated body"],bookRef:{book:"The Legion of Shadow",act:3,section:557}},{type:"enemy",name:"Gargoyles",stats:{speed:11,brawn:10,magic:0,armour:9,health:50,maxHealth:50},abilities:["Body of rock"],bookRef:{book:"The Legion of Shadow",act:3,section:563}},{type:"enemy",name:"Chilblain",stats:{speed:13,brawn:13,magic:0,armour:20,health:80,maxHealth:80},abilities:["Ice armour","Body of Ice"],bookRef:{book:"The Legion of Shadow",act:3,section:564}},{type:"enemy",name:"Ice Pillar",stats:{speed:0,brawn:0,magic:0,armour:8,health:20,maxHealth:20},abilities:["Ice pillar","Body of Ice"],bookRef:{book:"The Legion of Shadow",act:3,section:564}},{type:"enemy",name:"Inferno",stats:{speed:9,brawn:8,magic:0,armour:7,health:50,maxHealth:50},abilities:["Blazing armour","Crazy hal"],bookRef:{book:"The Legion of Shadow",act:3,section:578}},{type:"enemy",name:"Flay",stats:{speed:15,brawn:0,magic:15,armour:16,health:100,maxHealth:100},abilities:["Maelstrom","Body of air"],bookRef:{book:"The Legion of Shadow",act:3,section:582}},{type:"enemy",name:"Malcontent",stats:{speed:15,brawn:0,magic:15,armour:13,health:100,maxHealth:100},abilities:["Leech"],spawns:["Carrion Crows"],bookRef:{book:"The Legion of Shadow",act:3,section:595}},{type:"enemy",name:"Carrion Crows",stats:{speed:0,brawn:0,magic:0,armour:8,health:40,maxHealth:40},abilities:["Carrion Crows"],bookRef:{book:"The Legion of Shadow",act:3,section:595}},{type:"enemy",name:"Budak",stats:{speed:14,brawn:14,magic:0,armour:12,health:110,maxHealth:110},abilities:["Lightning reflex"],bookRef:{book:"The Legion of Shadow",act:3,section:601}},{type:"enemy",name:"Flesh Golem",stats:{speed:13,brawn:13,magic:0,armour:12,health:80,maxHealth:80},abilities:["Distraction"],bookRef:{book:"The Legion of Shadow",act:3,section:615}},{type:"enemy",name:"Tor Knight",stats:{speed:13,brawn:12,magic:0,armour:24,health:50,maxHealth:50},abilities:["Dismantle","Steel yourself"],bookRef:{book:"The Legion of Shadow",act:3,section:625}},{type:"enemy",name:"Lord of Pain",stats:{speed:15,brawn:0,magic:14,armour:13,health:100,maxHealth:100},abilities:["Disease"],bookRef:{book:"The Legion of Shadow",act:3,section:627}},{type:"enemy",name:"Rottaghast",stats:{speed:14,brawn:14,magic:0,armour:15,health:100,maxHealth:100},abilities:["Body of bone"],spawns:["Carrion Beetles"],bookRef:{book:"The Legion of Shadow",act:3,section:650}},{type:"enemy",name:"Carrion beetles",stats:{speed:0,brawn:0,magic:0,armour:10,health:40,maxHealth:40},abilities:["Carrion beetles"],bookRef:{book:"The Legion of Shadow",act:3,section:650}},{type:"enemy",name:"Stone Giant",stats:{speed:10,brawn:10,magic:0,armour:12,health:40,maxHealth:40},abilities:["Knockdown","Body of rock"],spawns:["Stone Golem","Stone Golem","Stone Golem","Stone Golem"],bookRef:{book:"The Legion of Shadow",act:3,section:652}},{type:"enemy",name:"Stone Golem",stats:{speed:0,brawn:0,magic:0,armour:6,health:15,maxHealth:15},abilities:["Body of rock","Stone Golem"],bookRef:{book:"The Legion of Shadow",act:3,section:652}},{type:"enemy",name:"Brothers Grimm",stats:{speed:13,brawn:13,magic:0,armour:10,health:120,maxHealth:120},abilities:["Got ma eyes an yer","Helping Hand"],bookRef:{book:"The Legion of Shadow",act:3,section:653}},{type:"enemy",name:"Stone Giant",stats:{speed:10,brawn:10,magic:0,armour:12,health:50,maxHealth:50},abilities:["Knockdown","Body of rock"],spawns:["Stone Golem","Stone Golem"],bookRef:{book:"The Legion of Shadow",act:3,section:658}},{type:"enemy",name:"Stone Golem",stats:{speed:0,brawn:0,magic:0,armour:6,health:15,maxHealth:15},abilities:["Body of rock","Stone Golem"],bookRef:{book:"The Legion of Shadow",act:3,section:658}},{type:"enemy",name:"Necromancer",stats:{speed:13,brawn:0,magic:10,armour:10,health:70,maxHealth:70},abilities:["Heightened Magic","Venom"],bookRef:{book:"The Legion of Shadow",act:3,section:662}},{type:"enemy",name:"Caeleb",stats:{speed:13,brawn:16,magic:0,armour:14,health:65,maxHealth:65},abilities:["Shield Slam"],bookRef:{book:"The Legion of Shadow",act:3,section:676}},{type:"enemy",name:"Bone Wyvern",stats:{speed:12,brawn:12,magic:0,armour:10,health:50,maxHealth:50},abilities:["Snapping Beak","Body of bone"],bookRef:{book:"The Legion of Shadow",act:3,section:681}},{type:"enemy",name:"Death Orb",stats:{speed:15,brawn:0,magic:12,armour:11,health:100,maxHealth:100},abilities:["Eye Beam"],bookRef:{book:"The Legion of Shadow",act:3,section:684}},{type:"enemy",name:"Crawlers",stats:{speed:13,brawn:12,magic:0,armour:10,health:100,maxHealth:100},abilities:[],bookRef:{book:"The Legion of Shadow",act:3,section:687}},{type:"enemy",name:"Mathis",stats:{speed:15,brawn:14,magic:0,armour:19,health:250,maxHealth:250},abilities:["Snap out of it!"],bookRef:{book:"The Legion of Shadow",act:3,section:700}},{type:"enemy",name:"Raptors",stats:{speed:12,brawn:6,magic:0,armour:8,health:60,maxHealth:60},abilities:["Piercing"],bookRef:{book:"The Legion of Shadow",act:3,section:701}},{type:"enemy",name:"Wights",stats:{speed:13,brawn:12,magic:0,armour:10,health:100,maxHealth:100},abilities:[],bookRef:{book:"The Legion of Shadow",act:3,section:703}},{type:"enemy",name:"Bone Ghouls",stats:{speed:13,brawn:10,magic:0,armour:12,health:100,maxHealth:100},abilities:["Piercing claws"],bookRef:{book:"The Legion of Shadow",act:3,section:712}},{type:"enemy",name:"Packmasters",stats:{speed:13,brawn:12,magic:0,armour:10,health:60,maxHealth:60},abilities:[],spawns:["Ghoul Pack"],bookRef:{book:"The Legion of Shadow",act:3,section:717}},{type:"enemy",name:"Ghoul Pack",stats:{speed:12,brawn:9,magic:0,armour:8,health:45,maxHealth:45},abilities:["Frenzy","Piercing claws"],bookRef:{book:"The Legion of Shadow",act:3,section:717}},{type:"enemy",name:"Ghoulash",stats:{speed:14,brawn:13,magic:0,armour:15,health:100,maxHealth:100},abilities:[],spawns:["Bracelet","Bracelet","Bracelet","Bracelet"],bookRef:{book:"The Legion of Shadow",act:3,section:720}},{type:"enemy",name:"Bracelet",stats:{speed:0,brawn:0,magic:0,armour:8,health:20,maxHealth:20},abilities:["Iron Clad"],bookRef:{book:"The Legion of Shadow",act:3,section:720}},{type:"enemy",name:"Shades",stats:{speed:13,brawn:0,magic:12,armour:12,health:120,maxHealth:120},abilities:["Grave Chill"],bookRef:{book:"The Legion of Shadow",act:3,section:721}},{type:"enemy",name:"Animated weapons",stats:{speed:12,brawn:12,magic:0,armour:9,health:40,maxHealth:40},abilities:["Whirling Blades","Sinister Steel"],bookRef:{book:"The Legion of Shadow",act:3,section:725}},{type:"enemy",name:"Silleer",stats:{speed:14,brawn:0,magic:13,armour:12,health:120,maxHealth:120},abilities:["Deadly Charge"],bookRef:{book:"The Legion of Shadow",act:3,section:734}},{type:"enemy",name:"Magmageddon",stats:{speed:11,brawn:0,magic:11,armour:9,health:60,maxHealth:60},abilities:["Heat Exposure","Body of Flame"],spawns:["3 Fire Sprite"],bookRef:{book:"The Legion of Shadow",act:3,section:738}},{type:"enemy",name:"Fire Sprite",stats:{speed:0,brawn:0,magic:0,armour:5,health:15,maxHealth:15},abilities:["Fire Sprite"],spawns:["Body of Flame"],bookRef:{book:"The Legion of Shadow",act:3,section:738}},{type:"enemy",name:"Zul Ator",stats:{speed:14,brawn:0,magic:15,armour:12,health:100,maxHealth:100},abilities:["Black Lightening","Heightened Magic"],bookRef:{book:"The Legion of Shadow",act:3,section:745}},{type:"enemy",name:"Snaide",stats:{speed:14,brawn:12,magic:0,armour:12,health:80,maxHealth:80},abilities:["Dark Claw"],bookRef:{book:"The Legion of Shadow",act:3,section:746}},{type:"enemy",name:"Snaide (Shadow Infusion)",stats:{speed:16,brawn:12,magic:0,armour:12,health:80,maxHealth:80},abilities:["Dark Claw"],bookRef:{book:"The Legion of Shadow",act:3,section:746}},{type:"enemy",name:"Mage Hunter",stats:{speed:14,brawn:14,magic:0,armour:14,health:90,maxHealth:90},abilities:["Whirling Blades","Black Poison","Wounded"],bookRef:{book:"The Legion of Shadow",act:3,section:748}},{type:"enemy",name:"Dr. Liechtenstein",stats:{speed:15,brawn:14,magic:0,armour:10,health:120,maxHealth:120},abilities:["Mad Scientist"],bookRef:{book:"The Legion of Shadow",act:3,section:752}},{type:"enemy",name:"Nyms",stats:{speed:13,brawn:13,magic:0,armour:12,health:65,maxHealth:65},abilities:["Double Danger","Lightning Reflexes"],bookRef:{book:"The Legion of Shadow",act:3,section:753}},{type:"enemy",name:"Packmasater",stats:{speed:13,brawn:12,magic:0,armour:12,health:50,maxHealth:50},abilities:["Whiplash"],bookRef:{book:"The Legion of Shadow",act:3,section:756}},{type:"enemy",name:"Bone Giants",stats:{speed:13,brawn:14,magic:0,armour:14,health:100,maxHealth:100},abilities:["Knockdown","Body of Bone"],bookRef:{book:"The Legion of Shadow",act:3,section:758}},{type:"enemy",name:"Horrors",stats:{speed:14,brawn:12,magic:0,armour:10,health:100,maxHealth:100},abilities:["Sucker Punch"],spawns:["Locust"],bookRef:{book:"The Legion of Shadow",act:3,section:764}},{type:"enemy",name:"Locust",stats:{speed:0,brawn:0,magic:0,armour:0,health:25,maxHealth:25},abilities:["Nasty Nibblers"],bookRef:{book:"The Legion of Shadow",act:3,section:764}},{type:"enemy",name:"Necromancer",stats:{speed:14,brawn:0,magic:12,armour:8,health:50,maxHealth:50},abilities:["Raise Dead"],spawns:["Skeleton Horde"],bookRef:{book:"The Legion of Shadow",act:3,section:768}},{type:"enemy",name:"Skeleton Horde",stats:{speed:13,brawn:0,magic:8,armour:10,health:60,maxHealth:60},abilities:["Body of Bone"],bookRef:{book:"The Legion of Shadow",act:3,section:768}},{type:"enemy",name:"Bone Construct",stats:{speed:12,brawn:12,magic:0,armour:10,health:50,maxHealth:50},abilities:["Raking Claws","Wyvern Talons","Body of Bone"],bookRef:{book:"The Legion of Shadow",act:3,section:772}},{type:"enemy",name:"Tor Knight",stats:{speed:13,brawn:14,magic:0,armour:24,health:80,maxHealth:80},abilities:["Dismantle","Steel yourself"],bookRef:{book:"The Legion of Shadow",act:3,section:773}},{type:"enemy",name:"Ghoul Pack",stats:{speed:13,brawn:7,magic:0,armour:12,health:60,maxHealth:60},abilities:["Piercing Claws"],bookRef:{book:"The Legion of Shadow",act:3,section:781}},{type:"enemy",name:"Sharroth",stats:{speed:14,brawn:0,magic:14,armour:12,health:100,maxHealth:100},abilities:[],spawns:["Tentacle","Tentacle","Tentacle","Tentacle"],bookRef:{book:"The Legion of Shadow",act:3,section:782}},{type:"enemy",name:"Tentacle",stats:{speed:0,brawn:0,magic:0,armour:6,health:20,maxHealth:20},abilities:["Oozing Tentacles"],bookRef:{book:"The Legion of Shadow",act:3,section:782}},{type:"enemy",name:"Baalim",stats:{speed:12,brawn:10,magic:0,armour:10,health:80,maxHealth:80},abilities:["Thorn Fists","Heightened Senses"],bookRef:{book:"The Legion of Shadow",act:3,section:784}},{type:"enemy",name:"Dark Arthurian",stats:{speed:13,brawn:0,magic:12,armour:13,health:80,maxHealth:80},abilities:["Dark Mending","Team Effort","Heal me"],spawns:["Necromancer","Necromancer","Necromancer"],bookRef:{book:"The Legion of Shadow",act:3,section:790}},{type:"enemy",name:"Necromancer",stats:{speed:0,brawn:0,magic:0,armour:6,health:20,maxHealth:20},abilities:["Raise Dead"],spawns:["Skeleton Horde"],bookRef:{book:"The Legion of Shadow",act:3,section:790}},{type:"enemy",name:"The Architect",stats:{speed:12,brawn:13,magic:0,armour:15,health:80,maxHealth:80},abilities:[],spawns:["Holy Flame","Holy Circle","Holy Shield"],bookRef:{book:"The Legion of Shadow",act:3,section:804}},{type:"enemy",name:"Holy Flame",stats:{speed:0,brawn:0,magic:0,armour:4,health:15,maxHealth:15},abilities:["Holy Flame"],bookRef:{book:"The Legion of Shadow",act:3,section:804}},{type:"enemy",name:"Holy Circle",stats:{speed:0,brawn:0,magic:0,armour:4,health:15,maxHealth:15},abilities:["Holy Circle"],bookRef:{book:"The Legion of Shadow",act:3,section:804}},{type:"enemy",name:"Holy Shield",stats:{speed:0,brawn:0,magic:0,armour:4,health:15,maxHealth:15},abilities:["Holy Shield"],bookRef:{book:"The Legion of Shadow",act:3,section:804}},{type:"enemy",name:"Daarko",stats:{speed:15,brawn:0,magic:0,armour:0,health:140,maxHealth:140},abilities:["Elemental Master"],bookRef:{book:"The Legion of Shadow",act:3,section:807}},{type:"enemy",name:"Daarko (Shadow Form)",stats:{speed:15,brawn:0,magic:11,armour:12,health:140,maxHealth:140},abilities:["Elemental Master","Shadow Form"],bookRef:{book:"The Legion of Shadow",act:3,section:807}},{type:"enemy",name:"Daarko (Flame Form)",stats:{speed:15,brawn:0,magic:16,armour:10,health:140,maxHealth:140},abilities:["Elemental Master","Flame Form"],bookRef:{book:"The Legion of Shadow",act:3,section:807}},{type:"enemy",name:"Daarko (Rock Form)",stats:{speed:15,brawn:0,magic:13,armour:20,health:140,maxHealth:140},abilities:["Elemental Master","Rock Form"],bookRef:{book:"The Legion of Shadow",act:3,section:807}},{type:"enemy",name:"Sanrah",stats:{speed:15,brawn:10,magic:0,armour:11,health:140,maxHealth:140},abilities:["Retaliation","Inquisitor's Wrath","Healer's Gift"],bookRef:{book:"The Legion of Shadow",act:3,section:809}},{type:"enemy",name:"Tomb Robber",stats:{speed:12,brawn:11,magic:0,armour:8,health:70,maxHealth:70},abilities:["Keen Edge"],bookRef:{book:"The Legion of Shadow",act:3,section:816}},{type:"enemy",name:"Gorgis",stats:{speed:14,brawn:8,magic:0,armour:13,health:100,maxHealth:100},abilities:["Fatigue","Piercing","Iron-Mane"],bookRef:{book:"The Legion of Shadow",act:3,section:817}},{type:"enemy",name:"Sentient Anomaly",stats:{speed:12,brawn:0,magic:16,armour:0,health:0,maxHealth:0},abilities:["Absorption","Concentration"],bookRef:{book:"The Legion of Shadow",act:3,section:818}},{type:"enemy",name:"Scarron",stats:{speed:16,brawn:15,magic:0,armour:10,health:30,maxHealth:30},abilities:["A Siege of Scarrons"],bookRef:{book:"The Legion of Shadow",act:3,section:821}},{type:"enemy",name:"Scarron",stats:{speed:15,brawn:12,magic:0,armour:8,health:25,maxHealth:25},abilities:["A Siege of Scarrons"],bookRef:{book:"The Legion of Shadow",act:3,section:821}},{type:"enemy",name:"Scarron",stats:{speed:15,brawn:14,magic:0,armour:10,health:30,maxHealth:30},abilities:["A Siege of Scarrons"],bookRef:{book:"The Legion of Shadow",act:3,section:821}},{type:"enemy",name:"Scarron",stats:{speed:15,brawn:12,magic:0,armour:8,health:25,maxHealth:25},abilities:["A Siege of Scarrons"],bookRef:{book:"The Legion of Shadow",act:3,section:821}},{type:"enemy",name:"Scarron",stats:{speed:15,brawn:14,magic:0,armour:10,health:30,maxHealth:30},abilities:["A Siege of Scarrons"],bookRef:{book:"The Legion of Shadow",act:3,section:821}},{type:"enemy",name:"Viprus",stats:{speed:14,brawn:13,magic:0,armour:10,health:100,maxHealth:100},abilities:["Deadly Venom"],spawns:["Snakes"],bookRef:{book:"The Legion of Shadow",act:3,section:835}},{type:"enemy",name:"Snakes",stats:{speed:0,brawn:0,magic:0,armour:8,health:50,maxHealth:50},abilities:["Tight Spot"],bookRef:{book:"The Legion of Shadow",act:3,section:835}},{type:"enemy",name:"Sammain",stats:{speed:13,brawn:0,magic:10,armour:20,health:90,maxHealth:90},abilities:["Wrath of Winter","Shatter Shield"],bookRef:{book:"The Legion of Shadow",act:3,section:842}},{type:"enemy",name:"Bone Angel",stats:{speed:13,brawn:11,magic:0,armour:11,health:90,maxHealth:90},abilities:["Terrible Talons","Holy Aura","Caaleb's Shield"],bookRef:{book:"The Legion of Shadow",act:3,section:849}},{type:"enemy",name:"Ghasts",stats:{speed:16,brawn:9,magic:0,armour:7,health:140,maxHealth:140},abilities:["Gathering of Ghasts","Bolt from the Blue"],bookRef:{book:"The Legion of Shadow",act:3,section:854}},{type:"enemy",name:"Styraxian Steed",stats:{speed:15,brawn:13,magic:0,armour:16,health:90,maxHealth:90},abilities:["Blindside","Sharpshooter"],bookRef:{book:"The Legion of Shadow",act:3,section:861}},{type:"enemy",name:"Clockwerk",stats:{speed:12,brawn:11,magic:0,armour:10,health:80,maxHealth:80},abilities:["Body of Metal"],bookRef:{book:"The Legion of Shadow",act:3,section:872}},{type:"enemy",name:"Cerebral Cortex",stats:{speed:15,brawn:0,magic:10,armour:8,health:180,maxHealth:180},abilities:["Neural Blast","Magic Shield"],bookRef:{book:"The Legion of Shadow",act:3,section:877}},{type:"enemy",name:"Jorvic",stats:{speed:12,brawn:13,magic:0,armour:10,health:100,maxHealth:100},abilities:["Two Arms!","Heal me!","Team Effort"],bookRef:{book:"The Legion of Shadow",act:3,section:878}},{type:"enemy",name:"Keldred",stats:{speed:13,brawn:10,magic:0,armour:8,health:90,maxHealth:90},abilities:["Mark of Fury","Heightened Senses"],bookRef:{book:"The Legion of Shadow",act:3,section:886}},{type:"enemy",name:"Malaise",stats:{speed:12,brawn:11,magic:0,armour:10,health:90,maxHealth:90},abilities:["Withering Strikes","Deadly Venom"],bookRef:{book:"The Legion of Shadow",act:3,section:904}},{type:"enemy",name:"Apprentice",stats:{speed:12,brawn:0,magic:9,armour:8,health:85,maxHealth:85},abilities:["Giblets","Dark Master"],bookRef:{book:"The Legion of Shadow",act:3,section:911}},{type:"enemy",name:"Branded Brute",stats:{speed:13,brawn:14,magic:0,armour:8,health:110,maxHealth:110},abilities:["Power of Shadow","Dark Runes"],bookRef:{book:"The Legion of Shadow",act:3,section:919}},{type:"enemy",name:"Sentries",stats:{speed:15,brawn:0,magic:12,armour:0,health:25,maxHealth:25},abilities:["Endless Swarm"],bookRef:{book:"The Legion of Shadow",act:3,section:921}},{type:"enemy",name:"Membrane",stats:{speed:0,brawn:0,magic:0,armour:19,health:80,maxHealth:80},abilities:["Avian's aid"],bookRef:{book:"The Legion of Shadow",act:3,section:921}},{type:"enemy",name:"Poison Nodes",stats:{speed:0,brawn:0,magic:0,armour:5,health:60,maxHealth:60},abilities:["Poison Nodes"],bookRef:{book:"The Legion of Shadow",act:3,section:921}},{type:"enemy",name:"Decayers",stats:{speed:15,brawn:13,magic:0,armour:7,health:100,maxHealth:100},abilities:["Disease"],bookRef:{book:"The Legion of Shadow",act:3,section:924}},{type:"enemy",name:"Spore Cloud",stats:{speed:0,brawn:0,magic:0,armour:4,health:40,maxHealth:40},abilities:["Swarm of Spores","Natural Immunity"],bookRef:{book:"The Legion of Shadow",act:3,section:924}},{type:"enemy",name:"Lansbury's Shield",stats:{speed:0,brawn:0,magic:0,armour:0,health:25,maxHealth:25},abilities:[],bookRef:{book:"The Legion of Shadow",act:3,section:924}},{type:"enemy",name:"The Wrecker",stats:{speed:15,brawn:14,magic:0,armour:11,health:120,maxHealth:120},abilities:["Clobbering Time","Inquisitor's Wrath","Healer's Gift"],bookRef:{book:"The Legion of Shadow",act:3,section:930}},{type:"enemy",name:"Banshee",stats:{speed:14,brawn:13,magic:0,armour:8,health:76,maxHealth:76},abilities:["Gathering Darkness","Wail of the Banshee"],bookRef:{book:"The Legion of Shadow",act:3,section:932}},{type:"enemy",name:"Lorcan",stats:{speed:15,brawn:0,magic:13,armour:8,health:100,maxHealth:100},abilities:["Enduring Spirit"],bookRef:{book:"The Legion of Shadow",act:3,section:939}},{type:"enemy",name:"Statue",stats:{speed:0,brawn:0,magic:0,armour:10,health:24,maxHealth:24},abilities:["Stomping Statues","Magic of the Makers","Enchanted Stone"],bookRef:{book:"The Legion of Shadow",act:3,section:939}}],Nh=({onSelect:e})=>{const[t,o]=J.useState("list"),[a,n]=J.useState(""),[i,r]=J.useState({type:"enemy",name:"Custom Enemy",stats:{speed:2,brawn:2,magic:2,armour:0,health:20,maxHealth:20},bookRef:{book:"Core",act:1},abilities:[]}),s=Du.filter(m=>{const h=a.toLowerCase();return m.name.toLowerCase().includes(h)||m.bookRef.section&&m.bookRef.section.toString().includes(h)}),c=(m,h)=>{m==="name"?r(y=>({...y,name:String(h)})):m==="bookRef"||m==="abilities"||m==="preventHealing"||m==="stats"||r(y=>({...y,stats:{...y.stats,[m]:h,maxHealth:m==="health"?Number(h):y.stats.maxHealth}}))},d=()=>{e({...i,stats:{...i.stats,maxHealth:i.stats.health}})},b=()=>{e({type:"enemy",name:"Training Dummy",stats:{speed:2,brawn:2,magic:0,armour:0,health:20,maxHealth:20},bookRef:{book:"",act:0},abilities:[]})};return l.jsxs(za,{title:"Select Opponent",className:"enemy-selector-card",children:[l.jsxs("div",{className:"selector-header",children:[l.jsxs("div",{className:"enemy-tabs",children:[l.jsx("button",{className:`tab-btn ${t==="list"?"active":""}`,onClick:()=>o("list"),children:"Bestiary"}),l.jsx("button",{className:`tab-btn ${t==="custom"?"active":""}`,onClick:()=>o("custom"),children:"Custom"})]}),t==="list"&&l.jsxs("div",{className:"header-row-search",children:[l.jsx("input",{type:"text",className:"dq-input",placeholder:"Search enemy...",value:a,onChange:m=>n(m.target.value),autoFocus:!0}),a&&l.jsx("button",{className:"action-btn-secondary",onClick:()=>n(""),title:"Clear search",children:""})]})]}),t==="list"&&l.jsx("div",{className:"items-list",children:s.length===0?l.jsx("div",{className:"text-dim",style:{textAlign:"center",padding:"20px"},children:"No enemies found."}):s.map((m,h)=>l.jsxs("div",{className:"item-card enemy-card",onClick:()=>e(m),children:[l.jsxs("div",{className:"item-card-header",children:[l.jsx("div",{className:"item-name",children:m.name}),l.jsxs("div",{className:"item-source",children:[l.jsxs("div",{className:"text-dim",style:{fontSize:"0.8rem"},children:["Act ",m.bookRef.act]}),m.bookRef.section&&l.jsxs("div",{className:"text-dim",style:{fontSize:"0.8rem"},children:[" ",m.bookRef.section]})]})]}),l.jsxs("div",{className:"item-stats",children:[`${A("speed")} ${m.stats.speed} `,`${A("brawn")} ${m.stats.brawn} `,`${A("magic")} ${m.stats.magic} `,`${A("armour")} ${m.stats.armour} `,`${A("health")} ${m.stats.health}`]}),m.abilities&&m.abilities.length>0&&l.jsx("div",{className:"item-abilities-tag",children:m.abilities.map(y=>` ${y}`).join(", ")})]},h))}),t==="custom"&&l.jsxs("div",{className:"custom-enemy-form",children:[l.jsx("div",{className:"stats-grid",children:l.jsxs("div",{className:"stat-row",children:[l.jsx("span",{className:"stat-label",children:"Name"}),l.jsx("input",{type:"text",className:"enemy-name-input",value:i.name,onChange:m=>c("name",m.target.value)})]})}),l.jsxs("div",{className:"stats-grid",children:[l.jsxs("div",{className:"stat-row",children:[l.jsxs("span",{className:"stat-label",children:[A("speed")," Speed"]}),l.jsx(Ct,{value:i.stats.speed,onChange:m=>c("speed",m),min:0})]}),l.jsxs("div",{className:"stat-row",children:[l.jsxs("span",{className:"stat-label",children:[A("brawn")," Brawn"]}),l.jsx(Ct,{value:i.stats.brawn,onChange:m=>c("brawn",m),min:0})]}),l.jsxs("div",{className:"stat-row",children:[l.jsxs("span",{className:"stat-label",children:[A("magic")," Magic"]}),l.jsx(Ct,{value:i.stats.magic,onChange:m=>c("magic",m),min:0})]}),l.jsxs("div",{className:"stat-row",children:[l.jsxs("span",{className:"stat-label",children:[A("armour")," Armour"]}),l.jsx(Ct,{value:i.stats.armour,onChange:m=>c("armour",m),min:0})]}),l.jsxs("div",{className:"stat-row",children:[l.jsxs("span",{className:"stat-label",children:[A("health")," Health"]}),l.jsx(Ct,{value:i.stats.health,onChange:m=>c("health",m),min:1})]})]}),l.jsx("button",{className:"btn btn-primary",onClick:d,children:"Start Fight"}),l.jsx("button",{className:"btn btn-secondary",onClick:b,style:{marginTop:"10px"},children:"Fight Dummy"})]})]})};function R(e){return e==="hero"?"enemy":"hero"}function Eu(e){switch(e){case"hero":return"damage-hero";case"enemy":return"damage-enemy";default:return"info"}}function U(e){return e?e.reduce((t,o)=>t+o.value,0):0}function St(){return{value:Math.floor(Math.random()*6)+1,isRerolled:!1}}function oe(e){return new Array(e).fill(0).map(()=>St())}function Mh(e){return e.map(t=>({value:t,isRerolled:!1}))}function Au(){const e=St();return e.isRerolled=!0,e}function Kn(e,t){const o=[...e];return o[t]=Au(),o}function qn(e){if(!e||e.length<2)return!1;const t=e.map(o=>typeof o=="number"?o:o.value);return new Set(t).size!==t.length}function le(e){return e?e.map(t=>typeof t=="number"?t:t.value).join("+"):""}const As="Attack",$i=new Set;function lt(e,t){[...e.hero.activeAbilities.values(),...e.enemies.flatMap(a=>[...a.activeAbilities.values()])].forEach(a=>{const n=vt(a.name);!n||$i.has(a.name)||($i.add(a.name),t(a,n),$i.delete(a.name))})}function Bh(e,t,o,a){return lt(e,(n,i)=>{i.onDamageDealt&&(e=i.onDamageDealt(e,{ability:n,owner:n.owner,target:t},o,a))}),e}function Nu(e,t,o){const a=B(e,t),n={...a,stats:{...a.stats,...o}};return Vo(e,t,n)}function Mu(e){const t=R(e.winner);return lt(e,(o,a)=>{var n;a.onDamageRoll&&((n=e.damage)!=null&&n.damageRolls)&&(e=a.onDamageRoll(e,{ability:o,owner:o.owner,target:t}))}),e}function Bu(e){const t=R(e.winner);return lt(e,(o,a)=>{var n;if(a.onDamageCalculate&&((n=e.damage)!=null&&n.damageRolls)){const i=a.onDamageCalculate(e,{ability:o,owner:o.owner,target:t});i&&(e.damage.modifiers.push({amount:i,source:a.name,target:t}),e=D(e,{message:`Added damage modifier ${i} from ${a.name}`}))}}),e}function ju(e,t){return e={...e,phase:"damage-roll",damage:{damageRolls:t??e.damage.damageRolls,modifiers:[]}},e=D(e,{message:`Damage roll: ${le(e.damage.damageRolls)}=${U(e.damage.damageRolls)}`}),e=Mu(e),e=Bu(e),e}function fo(e,t,o){const a=e.damage.damageRolls;return e={...e,damage:{...e.damage,damageRolls:t}},e=D(e,{message:`Damage roll modified by (${o}). Changed from ${le(a)} to ${le(t)}`}),e=Mu(e),e=Bu(e),e}function E(e,t,o,a,n){const i=B(e,o);if(!i||i.stats.health<=0)return e;const r=Math.min(a,i.stats.health);return e=Nu(e,o,{health:i.stats.health-r}),e={...e,damageDealt:[...e.damageDealt,{target:o,source:t,amount:r}]},e=D(e,{message:n??`${t} dealt ${r} damage to ${i.name}`,type:Eu(o)}),e=Bh(e,o,t,r),e}function ke(e,t,o,a,n){const i=B(e,o);if(!i||i.stats.health===i.stats.maxHealth)return e;const r=Math.min(a,i.stats.maxHealth-i.stats.health);return e=Nu(e,o,{health:i.stats.health+r}),e=D(e,{message:n??`${t} healed ${r} health to ${i.name}`,type:Eu(o)}),e}function Ns(e){const t=vt(e);if(!t)throw new Error(`Ability ${e} not found`);return t}function Ms(e,t,o){let a;const n=Ut(t.name);switch(e.activeAbilities.has(n)?a=e.activeAbilities.get(n):(a={name:t.name,owner:e.type,def:t},e.activeAbilities.set(n,a)),t.type){case"speed":case"combat":case"modifier":case"special":a.uses=(a.uses??0)+(t.uses??1);break}return o&&(a.sources=[...a.sources??[],o]),a}function Iu(e,t,o){const a=B(e,t).activeAbilities,n=Ut(o),i=a.get(n);return i&&(i.uses--,i.uses===0&&a.delete(n)),e}function Mr(e,t,o){const a=B(e,t).activeAbilities,n=Ut(o);for(const i of a.keys())if(i===n)return!0;return!1}function z(e,t,o){return B(e,t).activeEffects.some(a=>a.source===o)}function jh(e,t,o){return B(e,t).activeEffects.find(a=>a.source===o)}function T(e,t,o){const a=B(e,t),n={...a,activeEffects:[...a.activeEffects,o]};return e=Vo(e,t,n),e=D(e,{message:`${o.source} applied effect ${$a(o)} to ${a.name}`}),e}function Ih(e,t){const o=t.target;if(t.duration===void 0||t.duration>0)e=T(e,o,t);else if(t.duration===0){const a=B(e,o),n={...a,stats:Lu(a.stats,t.stats)};e=Vo(e,o,n),e=D(e,{message:`${t.source} applied effect ${$a(t)} to ${n.name}`})}return e}function Ue(e,t,o){const a=B(e,t),n={...a,activeEffects:a.activeEffects.filter(i=>i.source!==o)};return e=Vo(e,t,n),e=D(e,{message:`${o} removed from ${n.name}`}),e}function Br(e,t,o){return(o??Object.keys(e.original.equipment)).some(n=>{var i,r;return(r=(i=e.original.equipment[n])==null?void 0:i.name)==null?void 0:r.match(t)})}function Re(e,t){return{...e,phase:"passive-damage",damage:{damageRolls:[],modifiers:[]},logs:D(e.logs,{message:t,type:"info"})}}function D(e,...t){const o=t.filter(a=>a.message).map(a=>{const n=Array.isArray(e)?a.round:e.round,i=a.message,r=a.type??"info",s={...a,round:n,message:i,type:r};return console.log(`${s.round}: ${s.message}`),s});return Array.isArray(e)?[...e,...o]:{...e,logs:[...e.logs,...o]}}function jr(e){return e.enemies[0]}function B(e,t){if((typeof t=="string"?t:t.type)==="hero")return e.hero;const a=typeof t=="object"?t.enemyIndex??0:0;return e.enemies[a]}function Vo(e,t,o){if((typeof t=="string"?t:t.type)==="hero")return{...e,hero:o};const n=typeof t=="object"?t.enemyIndex??0:0,i=[...e.enemies];return i[n]=o,{...e,enemies:i}}function Wh(e){return Du.find(t=>t.name===e)}function zh(e){const t=[],o=[...e];let a=0;const n=20;for(;o.length>0&&a<n;){const i=o.shift();if(t.push(i),a++,i.spawns&&i.spawns.length>0)for(const r of i.spawns){const s=Wh(r);s?o.push({...s}):console.warn(`Spawn definition not found: ${r}`)}}return o.length>0&&console.warn(`Spawn limit reached (${n}). Some enemies were not spawned.`),t}f({name:"Avenging Spirit",type:"combat",description:"When you take health damage from an opponents damage score/dice, you inflict damage back equal to your armour. This ignores the opponent's armour and cannot be increased by modifier abilities.",onDamageDealt:(e,{owner:t,target:o},a,n)=>{if(t!==o||n<=0||!o||a!==As)return e;const i=B(e,o);if(!i)return e;const r=i.stats.armour||0,s=R(t);if(!s)return e;const c=r;return c<=0?e:E(e,"Avenging Spirit",s,c)}});function $h(e,t,o){switch(o){case"hero":return"hero";case"enemy":return"enemy";case"owner":return t.owner;case"opponent":return R(t.owner);case"winner":return e.winner;case"loser":return R(e.winner)}}function Le(e){return["combat-start","round-start"].includes(e.phase)}function Wu(e){return["combat-start","round-start","speed-roll"].includes(e.phase)}function Kt(e){return["damage-roll"].includes(e.phase)}function Oh(e){return["combat-start","round-start","damage-roll"].includes(e.phase)}function Vh(e){return["combat-start","round-start","apply-damage"].includes(e.phase)}function Aa(e){return Kt(e)&&e.winner==="hero"}function Gh(e){return Kt(e)&&e.winner==="enemy"}function Uh(e,t){return Kt(e)&&e.winner===t.owner}function yt(e,t){return Kt(e)&&e.winner===R(t.owner)}function Q(e){return{name:e.name,type:e.type,description:e.description,icon:e.icon,canActivate:e.canActivate,onActivate:(t,o)=>{if(e.canActivate&&!e.canActivate(t,o))return t;const a=$h(t,o,e.target||o.owner),n=e.effect||{source:e.name,target:a,stats:e.stats||{},duration:e.duration,icon:e.icon};return T(t,a,n)}}}function mi(e){return Q({name:e.name,description:e.description,icon:A("speed"),target:e.target,canActivate:Le,stats:{speedDice:e.speedModifier},duration:e.duration,type:e.type??"speed"})}function Kh(e){return Q({name:e.name,description:e.description,icon:A("die"),target:e.target,canActivate:Kt,stats:{damageDice:e.damageModifier},duration:e.duration,type:e.type??"combat"})}function $t(e,t,o){const a=t==="hero"?"heroSpeedRolls":"enemySpeedRolls",n=e[a];if(!n)return e;const i=o([...n]);return e={...e,[a]:i},e=D(e,{message:`${t} speed dice modified: ${le(n)} -> ${le(i)}`}),e}function Go(e){const t=e.canActivate||yt;return{name:e.name,type:e.type??"combat",description:e.description,icon:e.icon,canActivate:t,onActivate:(o,a)=>{if(!t(o,a))return o;const n=`Ability ${e.name} blocked damage`;if(o=Re(o,n),e.damageDice&&e.damageDice>0){const i=oe(e.damageDice),r=U(i);o=E(o,e.name,R(a.owner),r,`Counter damage from ${e.name}: ${le(i)}=${r}`)}return o}}}function Oa(e){return{name:e.name,type:e.type??"combat",description:e.description,icon:e.icon,canActivate:e.canActivate,onDamageDealt:(t,o,a,n)=>{if(o.owner!==o.target||n<=0)return t;const i=`Ability ${e.name} blocked damage`;t=Re(t,i);const r=[];let s=0;if(e.damage&&(r.push(`${e.damage}`),s+=e.damage),e.damageDice&&e.damageDice>0){const c=oe(e.damageDice);s+=U(c)}return s>0&&(t=E(t,e.name,R(o.owner),s,`Counter damage from ${e.name}: ${r.join("+")} = ${s}`)),t}}}function N(e){return{name:e.name,type:"special",description:e.description,icon:"",reviewed:!1}}f({name:"Backfire",type:"combat",description:"Instead of rolling for damage after winning a round, automatically inflict 3 damage dice to your opponent, but also take 2 damage dice to yourself (ignoring armour).",canActivate:yt,onActivate:(e,t)=>{if(!yt(e,t))return e;const o=oe(3),a=U(o),n=oe(2),i=U(n);return e=E(e,`Backfire (enemy) rolled 3d6: ${le(o)}`,R(t.owner),a),e=E(e,`Backfire (self) rolled 2d6: ${le(n)}`,t.owner,i),Re(e,"Backfire skipped normal damage roll")}});f({name:"Banshee Wail",type:"combat",description:"Stop your opponent from rolling for damage when they have won a round.",canActivate:yt,onActivate:e=>Re(e,"Used ability: Banshee Wail. Opponent's attack silenced!")});f({name:"Black Rain",type:"combat",description:"(Requires bow in left hand). Instead of rolling damage after winning a round, roll 1 damage die and apply the result to each opponent, ignoring their armour.",canActivate:Aa,onActivate:(e,t)=>{if(!Aa(e))return e;const o=U(oe(1));return e=E(e,"Black Rain",R(t.owner),o),Re(e,"Black Rain dealing 1d6 to all enemies")}});function Zl(e,t){return e.phase==="speed-roll"&&e.winner===t&&!z(e,t,"Bolt")}f({name:"Bolt",type:"combat",description:"Instead of rolling damage, you can 'charge up' your wand. When you win your next round, you inflict 3 damage dice to one opponent, ignoring armour.",canActivate:(e,{owner:t})=>Zl(e,t),onActivate:(e,{owner:t})=>(Zl(e,t)&&(e=T(e,t,{stats:{},source:"Bolt",target:t,duration:void 0}),e=Re(e,"Bolt")),e),onDamageRoll:(e,{owner:t})=>{if(e.winner!==t||!z(e,t,"Bolt"))return e;const o=oe(3),a=U(o);return e=E(e,"Bolt","enemy",a,`Bolt released! Rolled ${a} (${o.map(n=>n.value).join("+")}). Ignored armour!`),e=Ue(e,t,"Bolt"),e=Re(e,"Bolt released"),e}});f(Go({name:"Brutality",type:"combat",description:"Stops an opponent from rolling damage after they win a round and automatically inflicts 2 damage dice (ignoring armour) to them.",damageDice:2}));f({name:"Cleave",type:"combat",description:"Instead of rolling damage after winning a round, roll 1 damage die and apply the result to each opponent, ignoring armour.",canActivate:Uh,onActivate:e=>{const t=oe(1),o=U(t);return e=E(e,"Cleave","enemy",o),Re(e,"Cleave struck all enemies")}});f({name:"Command",type:"combat",description:"When an opponent wins a round, halt their attack and roll for damage yourself as if you had won the round.",canActivate:yt,onActivate:(e,{owner:t})=>(e={...e,winner:t},D(e,{message:"Used ability: Command. Seized the initiative!"}))});f({name:"Corruption",type:"combat",description:"If you cause health damage, reduce the opponent's brawn or magic by 2 for the remainder of the combat.",onDamageDealt:(e,{owner:t},o,a)=>{if(a<=0)return e;const n=R(t);return e=T(e,n,{stats:{brawn:-2,magic:-2},source:"Corruption",target:n,duration:void 0}),D(e,{message:"Used ability: Corruption. Enemy weakened!"})}});f({name:"Cripple",type:"combat",description:"If you cause health damage, the opponent's speed score is lowered by 1 for the next 3 rounds.",canActivate:(e,{owner:t})=>!z(e,t,"Cripple")&&e.damageDealt.some(o=>o.source==="Melee"&&o.amount>0),onActivate:(e,{owner:t})=>{const o=R(t);return T(e,o,{stats:{speed:-1},source:"Cripple",target:o,duration:3})}});function qh(e,{owner:t}){return B(e,t).stats.health>4}f({name:"Dark Pact",type:"combat",description:"Sacrifice 4 health to increase your damage score by 4.",canActivate:(e,{owner:t})=>qh(e,{owner:t}),onActivate:(e,{owner:t})=>{const o=E(e,"Dark Pact Cost",t,4);return e={...e,...o},e=T(e,t,{stats:{damageModifier:4},source:"Dark Pact",target:t,duration:1}),D(e,{message:"Used ability: Dark Pact. Sacrificed health for power!"})}});f(Kh({name:"Deep Wound",description:"Roll an extra die when determining your damage score.",target:"owner",damageModifier:1,duration:1}));f(Go({name:"Deflect",type:"combat",description:"Stops an opponent's damage after they win a round and automatically inflicts 2 damage dice (ignoring armour) to them.",damageDice:2}));f({name:"Disrupt",type:"combat",description:"If you cause health damage, lower the opponent's magic score by 3 for the remainder of the combat.",onDamageDealt:(e,{target:t},o,a)=>a<=0?e:(e=T(e,t,{stats:{magic:-3},source:"Disrupt",target:t,duration:void 0}),D(e,{message:"Used ability: Disrupt. Enemy weakened!"}))});f({name:"Dodge",type:"combat",description:"Avoid taking damage from an opponent after losing a round (still affected by passive damage like bleed/venom).",canActivate:(e,{owner:t})=>!(z(e,t,"Ensnare")||z(e,t,"Hamstring"))&&Gh(e),onActivate:e=>Re(e,"Dodge")});const Qh=new Set(["Vanish","Sidestep","Dodge"]);function Yl(e,t){return[...B(e,t).activeAbilities.keys()].some(a=>Qh.has(a))}f({name:"Ensnare",type:"combat",description:"Cancel an opponent's dodge ability (e.g., evade, vanish) and roll for damage as normal.",canActivate:(e,{owner:t})=>Yl(e,R(t)),onActivate:(e,{owner:t})=>{const o=R(t);return Yl(e,o)?T(e,o,{stats:{},source:"Ensnare",target:o,duration:1}):e}});function Jl(e,t){const a=["Ensnare","Hamstring"].some(n=>z(e,t.owner,n));return yt(e,t)&&!a}f({name:"Evade",type:"combat",description:"Avoid damage after losing a round (still affected by passive damage like bleed/venom).",canActivate:Jl,onActivate:(e,t)=>Jl(e,t)?Re(e,"Used ability: Evade. Avoided attack!"):e});f({name:"Fatal Blow",type:"combat",description:"Ignore half of your opponent's armour (rounding up).",canActivate:e=>Vh(e),onActivate:(e,{owner:t})=>{const o=R(t),n=B(e,o).stats.armour||0,i=-Math.ceil(n/2);return e=T(e,o,{stats:{armour:i},source:"Fatal Blow",target:o,duration:1}),D(e,{message:"Used ability: Fatal Blow."})}});f({name:"Feral Fury",type:"combat",description:"Roll an extra die for your damage score.",onActivate:(e,{owner:t})=>{const o=T(e,t,{stats:{damageDice:1},source:"Feral Fury",target:t,duration:1});return D(o,{round:e.round,message:"Used ability: Feral Fury.",type:"info"})}});function Xl(e,{owner:t}){return e.winner===R(t)}f({name:"Hamstring",type:"combat",description:"Cancel an opponent's dodge (e.g., evade, sidestep) and roll for damage as normal.",canActivate:Xl,onActivate:(e,t)=>{const o=R(t.owner);return Xl(e,t)?T(e,o,{stats:{},source:"Hamstring",target:o,duration:1}):e}});f({name:"Haunt",type:"combat",description:"Summon a spirit to inflict 2 damage (ignoring armour) to one opponent at the end of every round until you roll a double.",canActivate:(e,{owner:t})=>{const o=R(t);return!z(e,o,"Haunt Spirit")},onActivate:(e,{owner:t})=>{const o=R(t);return e=T(e,o,{stats:{},source:"Haunt Spirit",target:o,duration:void 0}),D(e,{round:e.round,message:"Used ability: Haunt. Spirit summoned!",type:"info"})},onSpeedRoll:(e,{owner:t})=>{const o=t==="hero"?e.heroSpeedRolls:e.enemySpeedRolls;if(o&&qn(o)){const a=R(t);if(z(e,a,"Haunt Spirit"))return e=Ue(e,a,"Haunt Spirit"),D(e,{round:e.round,message:"Rolled a double! Haunt spirit dispelled.",type:"info"})}return e},onPassiveAbility:(e,{owner:t})=>{const o=R(t);return z(e,o,"Haunt Spirit")?E(e,"Haunt",o,2):e}});function ec(e,t){return e.phase==="damage-roll"&&e.winner==="enemy"}f({name:"Head Butt",type:"combat",description:"Prevent an opponent from rolling damage, ending the round immediately.",canActivate:ec,onActivate:(e,t)=>ec(e)?Re(e,"Used ability: Head Butt. Stopped attack!"):e});function tc(e,t){return(e.phase==="damage-roll"||e.phase==="round-end")&&e.winner==="hero"}f({name:"Ice Shards",type:"combat",description:"After winning a round, automatically inflict damage equal to your magic score (ignoring armour) to one opponent.",canActivate:tc,onActivate:(e,t)=>{var n;if(!tc(e)||!e.enemies[0])return e;const a=((n=e.hero)==null?void 0:n.stats.magic)||0;return E(e,"Ice Shards","enemy",a)}});f({name:"Ignite",type:"combat",description:"After winning a round, roll 2 damage dice and apply to each opponent (ignoring armour) and cause them to burn.",canActivate:Kt,onActivate:(e,{owner:t})=>{const o=oe(2),a=U(o),n=R(t),i={stats:{},source:"Ignite",target:n,duration:void 0,icon:""};return e=E(e,"Ignite",n,a),e=T(e,n,i),{...e,phase:"apply-damage"}}});f({name:"Impale",type:"combat",description:"Increase damage score by 3; opponent's speed is lowered by 1 in the next round.",onActivate:(e,{owner:t})=>{let o=T(e,t,{stats:{damageModifier:3},source:"Impale (Damage)",target:t,duration:1});const a=R(t);return o=T(o,a,{stats:{speed:-1},source:"Impale (Slow)",target:a,duration:2}),D(o,{round:e.round,message:"Used ability: Impale.",type:"info"})}});f({name:"Judgement",type:"combat",description:"When taking health damage, inflict damage back equal to half your speed score (rounding up), ignoring armour.",onDamageDealt:(e,t,o,a)=>{var c;const n=t.owner,i=t.target;if(i!==n||a<=0)return e;const r=((c=e.hero)==null?void 0:c.stats.speed)||0,s=Math.ceil(r/2);return E(e,"Judgement",R(i),s)}});function oc(e,t){return e.phase==="damage-roll"&&e.winner===t}f({name:"Nature's Revenge",type:"combat",description:"Instead of rolling damage, inflict 2 damage dice (ignoring armour) and reduce opponent's speed by 1 for the next round.",canActivate:(e,{owner:t})=>oc(e,t),onActivate:(e,{owner:t})=>{if(!oc(e,t))return e;const o=oe(2),a=U(o),n=R(t);let i=T(e,n,{stats:{speed:-1},source:"Nature's Revenge",target:n,duration:2});return i=D(i,{message:"Nature's Revenge! Slowed opponent."}),i=E(i,"Nature's Revenge",n,a),i={...i,phase:"passive-damage",damage:{damageRolls:[],modifiers:[]},logs:D(i.logs,{round:e.round,message:`Nature's Revenge! Inflicted ${a} damage and slowed opponent.`,type:"damage-hero"})},i}});f(Q({name:"Overload",type:"combat",description:"Roll an extra die for your damage score.",stats:{damageDice:1},duration:1,target:"hero",canActivate:(e,t)=>Oh(e)&&e.winner===t.owner}));f(Go({name:"Overpower",type:"combat",description:"Stop an opponent's damage after they win a round and automatically inflict 2 damage dice (ignoring armour).",damageDice:2}));f(Go({name:"Parry",type:"combat",description:"Stop an opponent from rolling for damage after they win a round.",icon:""}));f({name:"Piercing",type:"combat",description:"Ignore armour",reviewed:!0,onActivate:(e,{owner:t})=>{const o=R(t),n=-(B(e,o).stats.armour||0);return T(e,o,{stats:{armour:n},source:"Piercing",target:o,duration:1})}});f({name:"Pound",type:"combat",description:"Increase damage score by 3, but lower your speed by 1 in the next round.",onActivate:(e,{owner:t})=>(e=T(e,t,{stats:{damageModifier:3},source:"Pound (Damage)",target:t,duration:1}),T(e,t,{stats:{speed:-1},source:"Pound (Speed)",target:t,duration:2}))});f({name:"Puncture",type:"combat",description:"Instead of rolling damage, inflict 2 damage dice (ignoring armour) and reduce opponent's armour by 1 for the remainder of the combat.",canActivate:Aa,onActivate:e=>{if(!Aa(e))return e;const t=oe(2),o=U(t);if(!e.enemies[0])return e;const n={stats:{armour:-1},source:"Puncture",target:"enemy",duration:void 0};return e=E(e,"Puncture","enemy",o),e=T(e,"enemy",n),Re(e,"Puncture dealt damage and reduced armour")}});function ac(e,t){return e.phase==="damage-roll"&&e.winner==="hero"}f({name:"Rake",type:"combat",description:"After winning a round, inflict 3 damage dice (ignoring armour). Modifiers cannot be used.",canActivate:ac,onActivate:(e,t)=>{if(!ac(e))return e;const o=oe(3),a=U(o),n=o.map(i=>i.value).join("+");return e=E(e,"Rake","enemy",a),e=D(e,{round:e.round,message:`Rake! Inflicted ${a} damage (${n}).`,type:"damage-hero"}),Re(e,"Rake skipped normal damage roll")}});f({name:"Rebound",type:"combat",description:"If you take health damage, increase your speed by 2 for the next round.",onDamageDealt:(e,{owner:t,target:o},a,n)=>!o||o!==t||n<=0?e:T(e,t,{stats:{speed:2},source:"Rebound",target:t,duration:2})});f({name:"Reflect",type:"combat",description:"Reflect health damage back to vampire opponents.",onDamageDealt:(e,t,o,a)=>{const{owner:n,target:i}=t;if(n!==i||a<=0)return e;const r=e.enemies[0];return!r||!r.original.abilities.includes("Vampire")?e:E(e,"Reflect","enemy",a)}});f(Oa({name:"Retaliation",type:"combat",description:"When taking health damage, inflict 1 damage die back (ignoring armour).",damageDice:1}));f(Oa({name:"Riposte",type:"combat",description:"When taking health damage, inflict 1 damage die back (ignoring armour).",damageDice:1,canActivate:(e,t)=>!z(e,t.owner,"Expertise")}));f({name:"Rust",type:"combat",description:"If you cause health damage, lower opponent's armour by 2 for the remainder of combat.",onDamageDealt:(e,{target:t},o,a)=>a<=0?e:T(e,t,{stats:{armour:-2},source:"Rust",target:t,duration:void 0})});function nc(e,t){return z(e,t.owner,"Shades")&&e.phase==="damage-roll"&&e.winner==="enemy"}f({name:"Sacrifice",type:"combat",description:"Sacrifice your shades to absorb all damage from an opponent's roll.",canActivate:nc,onActivate:(e,t)=>nc(e,t)?(e=Ue(e,"hero","Shades"),Re(e,"Used ability: Sacrifice. Shades absorbed the damage!")):e});f({name:"Shadow Fury",type:"combat",description:"Add speed of both main and left-hand weapons to your damage score.",onActivate:(e,{owner:t})=>{var b,m;const o=B(e,t);if(!o.original||!("equipment"in o.original))return D(e,{round:e.round,message:"Shadow Fury failed: No equipment found.",type:"info"});const a=o.original.equipment,n=a==null?void 0:a.mainHand,i=a==null?void 0:a.leftHand,r=((b=n==null?void 0:n.stats)==null?void 0:b.speed)||0,s=((m=i==null?void 0:i.stats)==null?void 0:m.speed)||0,c=r+s,d=T(e,t,{stats:{damageModifier:c},source:"Shadow Fury",target:t,duration:1});return D(d,{round:e.round,message:`Used ability: Shadow Fury (+${c} Damage).`,type:"info"})}});f({name:"Shield Wall",type:"combat",description:"(Requires shield in left hand). Double your armour score and inflict 1 damage die (ignoring armour) to the opponent.",canActivate:(e,{owner:t})=>!!e.winner&&e.winner!==t&&!["passive-damage","round-end","combat-end"].includes(e.phase),onActivate:(e,{owner:t})=>{const a=B(e,t).stats.armour||0;e=T(e,t,{stats:{armour:a},source:"Shield Wall",target:t,duration:1});const n=U(oe(1));return e=E(e,"Shield Wall",R(t),n,`Shield Wall rolled ${n} 1d6`),D(e,{message:`Used ability: Shield Wall. Armour doubled (+${a}).`})}});f({name:"Shock!",type:"combat",description:"If causing health damage, inflict 1 extra damage for every 2 points of opponent's armour.",onDamageDealt:(e,{owner:t,target:o},a,n)=>{if(t===o||n<=0||!o)return e;const r=B(e,o).stats.armour||0,s=Math.floor(r/2);return s<=0?e:E(e,"Shock!",o,s)}});f(Q({name:"Sidestep",type:"combat",description:"Avoid damage",stats:{armour:200},duration:1,target:"hero"}));f(Oa({name:"Sideswipe",type:"combat",description:"When taking health damage, inflict 1 damage die back (ignoring armour).",damageDice:1}));function ic(e,t){return e.phase==="damage-roll"&&e.winner===R(t)}f({name:"Slam",type:"combat",description:"Stop opponent's damage after they win a round; reduce their speed by 1 in the next round.",canActivate:(e,{owner:t})=>ic(e,t),onActivate:(e,{owner:t})=>{if(!ic(e,t))return e;const o=R(t);let a=T(e,o,{stats:{speed:-1},source:"Slam",target:o,duration:2});return a={...a,phase:"round-end",damage:{damageRolls:[],modifiers:[]},logs:D(a.logs,{round:e.round,message:"Used ability: Slam. Blocked attack and slowed opponent.",type:"info"})},a}});f(Go({name:"Spider sense",type:"combat",description:"Avoid damage after losing a round (still affected by passive damage like bleed/venom).",canActivate:(e,{owner:t})=>{const o=["Ensnare","Hamstring"],a=B(e,t);return!a||a.activeEffects.some(i=>o.includes(i.source))?!1:yt(e,{owner:t})}}));f(Oa({name:"Spore Cloud",type:"combat",description:"When taking health damage, inflict 2 damage dice back (ignoring armour).",damageDice:2}));f({name:"Surge",type:"combat",description:"Increase magic by 3, but lower speed by 1 in the next round.",onActivate:(e,{owner:t})=>{let o=T(e,t,{stats:{magic:3},source:"Surge (Magic)",target:t,duration:1});return o=T(o,t,{stats:{speed:-1},source:"Surge (Speed)",target:t,duration:2}),D(o,{round:e.round,message:"Used ability: Surge.",type:"info"})}});f({name:"Thorn Armour",type:"combat",description:"Raise armour by 3 and inflict 1 damage die (ignoring armour) to all opponents.",onActivate:(e,{owner:t})=>{const o=oe(1)[0].value,a=R(t);let n=T(e,t,{stats:{armour:3},source:"Thorn Armour",target:t,duration:1});const i=E(n,"Thorn Armour",a,o);return n={...n,...i},D(n,{round:e.round,message:`Thorn Armour active! Armour +3, inflicted ${o} damage.`,type:"info"})}});f(Oa({name:"Thorn Fist",type:"combat",description:"When taking health damage, inflict 2 damage dice back (ignoring armour).",damageDice:2}));f(Go({name:"Vanish",type:"combat",description:"Avoid damage after losing a round (still affected by passive damage like bleed/venom).",canActivate:(e,{owner:t})=>{const o=["Ensnare","Hamstring"],a=B(e,t);return a?!a.activeEffects.some(i=>i.target===t&&o.includes(i.source))&&yt(e,{owner:t}):!1}}));f({name:"Windwalker",type:"combat",description:"Use all attack speed dice for your damage score after winning a round.",canActivate:Aa,onActivate:e=>(e=fo(e,e.heroSpeedRolls,"Windwalker"),e)});f({name:"Blood Rage",type:"modifier",description:"If you win two consecutive rounds and cause health damage in both, your brawn increases by 2 for the remainder of the combat.",onPassiveAbility:(e,{owner:t})=>{if(e.winner!==t)return e;if(z(e,t,"BloodRageStreak"))e=T(e,t,{stats:{brawn:2},source:"Blood Rage",target:t,duration:void 0});else return T(e,t,{stats:{},source:"BloodRageStreak",target:t,duration:1,visible:!1});return e}});f({name:"Brain Drain",type:"modifier",description:"Spend up to 5 magic points to increase your damage score by 1 per point spent. Magic is restored after combat.",onActivate:e=>e});f(Q({name:"Bright Shield",type:"modifier",description:"Raise your armour by 4 for one combat round.",stats:{armour:4},duration:1}));f({name:"Bull's Eye",type:"modifier",description:"Before combat starts, fire an arrow/bullet to automatically inflict 1 damage die (ignoring armour). This also applies passive effects like venom and bleed.",onCombatStart:(e,{owner:t})=>{const o=oe(1),a=U(o),n=R(t);return e=E(e,"Bull's Eye",n,a),e}});f({name:"Cauterise",type:"modifier",description:"Remove all venom, bleed, and disease effects currently on your hero.",onActivate:(e,{owner:t})=>{const o=["Venom","Bleed","Disease"];let a=e;for(const n of o)a=Ue(a,t,n);return a}});f({name:"Charm",type:"modifier",description:"Re-roll one of your hero's dice; you must accept the second result.",icon:"",reviewed:!0,canActivate:e=>e.phase==="speed-roll"||e.phase==="damage-roll"&&e.winner==="hero",onActivate:(e,t)=>{if(!t.ability)return e;let o;if(e.phase==="damage-roll"&&e.winner==="hero")o="damage";else if(e.phase==="speed-roll")o="hero-speed";else return e;return e={...e,pendingInteraction:{ability:t.ability,requests:[{type:"dice",target:"hero",mode:"select",count:1}],callback:(a,n)=>{if(n.length===0)return a;const i=n[0];a={...a};let r;if(o==="hero-speed")a.heroSpeedRolls=Kn(a.heroSpeedRolls,i.selectedIndexes[0]),r=le(a.heroSpeedRolls);else if(o==="damage")a.damage.damageRolls=Kn(a.damage.damageRolls,i.selectedIndexes[0]),r=le(a.damage.damageRolls);else return a;return a=D(a,{message:`Rerolled die for ${t.ability.name}, new rolls: ${r}`}),a}}},D(e,{message:`Select a ${o==="damage"?"damage":"speed"} die to re-roll.`})}});f({name:"Consume",type:"modifier",description:"Reduce the result of each of your opponent's attack speed dice by 1 (minimum 1).",onSpeedRoll:(e,{owner:t})=>$t(e,R(t),o=>o.map(a=>({...a,value:Math.max(1,a.value-1),isRerolled:!0})))});f({name:"Critical Strike",type:"modifier",description:"All 6s",canActivate:Kt,onActivate:e=>{const t=Mh(new Array(e.damage.damageRolls.length).fill(6));return fo(e,t,"Critical Strike")}});f({name:"Deceive",type:"modifier",description:"Swap one of your opponent's speed dice for your own.",canActivate:Wu,onSpeedRoll:(e,{owner:t})=>{const o=R(t),a=e[t==="hero"?"heroSpeedRolls":"enemySpeedRolls"],n=e[o==="hero"?"heroSpeedRolls":"enemySpeedRolls"];if(!a||!n||a.length===0||n.length===0)return e;const i=[...a],r=[...n],s=i.reduce((b,m,h)=>m.value<i[b].value?h:b,0),c=r.reduce((b,m,h)=>m.value>r[b].value?h:b,0),d=i[s].value;return i[s].value=r[c].value,r[c].value=d,e=$t(e,t,()=>i),e=$t(e,o,()=>r),e}});f({name:"Dominate",type:"modifier",description:"Change the result of one damage die to a [6].",onDamageRoll:e=>{const t=e.damage.damageRolls.reduce((a,n,i,r)=>n.value<r[a].value?i:a,0),o=[...e.damage.damageRolls];return o[t]={...o[t],value:6},fo(e,o,"Dominate")}});f(Q({name:"Eureka",type:"modifier",description:"Raise speed, brawn, or magic by 1 for one round. Used once per combat.",stats:{brawn:1},duration:1}));f({name:"Expertise",type:"modifier",description:"Ignore damage from counter-attack abilities like riposte, deflect, or brutality.",onCombatStart:(e,{owner:t})=>T(e,t,{stats:{},source:"Expertise",target:t,duration:void 0})});f({name:"Fallen Hero",type:"modifier",description:"Raise brawn by 3 for one round and heal 10 health.",onActivate:(e,{owner:t})=>(e=ke(e,"Fallen Hero",t,10),T(e,t,{stats:{brawn:3},source:"Fallen Hero",target:t,duration:1}))});f({name:"Feint",type:"modifier",description:"Re-roll any or all attack speed dice.",onSpeedRoll:e=>e});f(Q({name:"Focus",type:"modifier",description:"Raise magic by 3 for one round.",stats:{magic:3},duration:1}));f(Q({name:"Fortitude",type:"modifier",description:"Raise brawn or armour by 3 for one round.",stats:{brawn:3},duration:1}));f({name:"Gut Ripper",type:"modifier",description:"Change all damage dice results to [6].",onDamageRoll:e=>{var o;const t=(o=e.damage)==null?void 0:o.damageRolls.map(a=>({...a,value:6}));return fo(e,t,"Gut Ripper")}});f({name:"Heal",type:"modifier",description:"Instantly restore 4 health.",icon:"",reviewed:!0,canActivate:(e,{owner:t})=>{const o=B(e,t);return o.stats.health<o.stats.maxHealth},onActivate:(e,{owner:t})=>ke(e,"Heal",t,4)});f(Q({name:"Ice Shield",type:"modifier",description:"Add 1 die to your armour score for one round.",stats:{armour:3},duration:1}));f(Q({name:"Iron Will",type:"modifier",description:"Increase armour by 3 for one round.",stats:{armour:3},duration:1}));f({name:"Last Laugh",type:"modifier",description:"Reroll enemy die",canActivate:e=>Le(e)||Kt(e)&&e.winner==="enemy",onActivate:(e,t)=>{if(!t.ability)return e;let o;if(e.phase==="damage-roll"&&e.winner==="enemy")o="damage";else if(e.phase==="speed-roll")o="enemy-speed";else return e;return e={...e,pendingInteraction:{ability:t.ability,requests:[{type:"dice",target:"enemy",mode:"select",count:1}],callback:(a,n)=>{if(n.length===0)return a;const i=n[0];a={...a};let r;if(o==="enemy-speed")a.enemySpeedRolls=Kn(a.enemySpeedRolls,i.selectedIndexes[0]),r=le(a.enemySpeedRolls);else if(o==="damage")a.damage.damageRolls=Kn(a.damage.damageRolls,i.selectedIndexes[0]),r=le(a.damage.damageRolls);else return a;return a=D(a,{message:`Rerolled die for ${t.ability.name}, new rolls: ${r}`}),a}}},D(e,{message:`Select a ${o==="damage"?"damage":"speed"} die to re-roll.`})}});f({name:"Martyr",type:"modifier",description:"Choose to lose 5 health instead of taking the result of an opponent's damage.",canActivate:yt,onActivate:(e,{owner:t})=>(e=Re(e,"Martyr used: Taking 5 damage instead of roll."),E(e,"Martyr",t,5))});f({name:"Mend",type:"modifier",description:"Heal yourself or an ally for 15 health.",onActivate:(e,{owner:t})=>ke(e,"Mend",t,15)});f(Q({name:"Might of Stone",type:"modifier",description:"Increase armour by 3 for one round.",stats:{armour:3},duration:1}));f({name:"Raining Blows",type:"modifier",description:"Every [6] rolled for damage allows an additional die roll.",onDamageRoll:e=>{const t=e.damage.damageRolls.filter(n=>n.value===6).length;if(t===0)return e;const o=oe(t),a=[...e.damage.damageRolls,...o];return fo(e,a,"Raining Blows")}});f({name:"Regrowth",type:"modifier",description:"Instantly restore 6 health. Multiple items can each be used once.",onActivate:(e,{owner:t})=>ke(e,"Regrowth",t,6)});f({name:"Savagery",type:"modifier",description:"Raise brawn or magic by 2 for one round.",onActivate:(e,t)=>t.ability?{...e,pendingInteraction:{ability:t.ability,requests:[{target:"hero",type:"choices",mode:"select",count:1,choices:["Brawn","Magic"]}],callback:(o,a)=>{if(a.length!==1)return o;const n=a[0].selectedIndexes[0],r=["brawn","magic"][n];return r?T(o,"hero",{stats:{[r]:2},source:t.ability.name,target:"hero",duration:1,visible:!0}):o}}}:e});f({name:"Second Sight",type:"modifier",description:"Lower all opponent's damage dice by 2.",onDamageRoll:(e,{owner:t})=>{if(e.winner===t)return e;const o=e.damage.damageRolls.map(a=>({...a,value:Math.max(1,a.value-2)}));return fo(e,o,"Second Sight")}});f({name:"Second Wind",type:"modifier",description:"Restore one already-played speed ability for yourself or an ally.",onActivate:e=>e});f({name:"Shadow Speed",type:"modifier",description:"Change all speed dice results of [1] to [3].",onSpeedRoll:(e,{owner:t})=>$t(e,t,o=>o.map(a=>a.value===1?{...a,value:3}:a))});f({name:"Steal",type:"modifier",description:"Raise one attribute (speed, brawn, magic, or armour) to match your opponent's for one round.",onActivate:(e,t)=>t.ability?{...e,pendingInteraction:{ability:t.ability,requests:[{target:"hero",type:"choices",mode:"select",count:1,choices:["Speed","Brawn","Magic","Armour"]}],callback:(o,a)=>{if(a.length!==1)return o;const n=a[0].selectedIndexes[0],r=["speed","brawn","magic","armour"][n];if(!r)return o;const s=o.enemies[0].stats[r]??0,c=o.hero.stats[r]??0,d=Math.max(0,s-c);return d>0?T(o,"hero",{stats:{[r]:d},source:t.ability.name,target:"hero",duration:1,visible:!0}):o}}}:e});f({name:"Surefooted",type:"modifier",description:"Re-roll all speed dice; you must accept the second result.",onSpeedRoll:(e,{owner:t})=>$t(e,t,o=>{const a=o.length;return a===0?o:oe(a).map(i=>({...i,isRerolled:!0}))})});f({name:"Tourniquet",type:"modifier",description:"Remove bleed, venom, and disease from yourself or an ally.",onActivate:(e,{owner:t})=>{const o=["Venom","Bleed","Disease"];let a=e;for(const n of o)a=Ue(a,t,n);return a}});f({name:"Trickster",type:"modifier",description:"Swap one of your opponent's speed dice for your own.",onSpeedRoll:(e,{owner:t})=>{const o=R(t),a=e[t==="hero"?"heroSpeedRolls":"enemySpeedRolls"],n=e[o==="hero"?"heroSpeedRolls":"enemySpeedRolls"];if(!a||!n||a.length===0||n.length===0)return e;const i=[...a],r=[...n];let s=0;for(let b=1;b<i.length;b++)i[b].value<i[s].value&&(s=b);let c=0;for(let b=1;b<r.length;b++)r[b].value>r[c].value&&(c=b);const d=i[s].value;return i[s]={...i[s],value:r[c].value,isRerolled:!0},r[c]={...r[c],value:d,isRerolled:!0},e=$t(e,t,()=>i),e=$t(e,o,()=>r),e}});f({name:"Vampirism",type:"modifier",description:"Heal for half the amount of health damage you inflict (rounding up).",onDamageDealt:(e,{owner:t},o,a)=>{if(a<=0&&o!=="Attack")return e;const n=Math.ceil(a/2);return ke(e,"Vampirism",t,n)}});f(Q({name:"Vanquish",type:"modifier",description:"Raise brawn by 2 for one round.",stats:{brawn:2},duration:1}));f({name:"Watchful",type:"modifier",description:"Change an opponent's [6] result to a [1].",onSpeedRoll:(e,{owner:t})=>$t(e,R(t),o=>{const a=o.findIndex(i=>i.value===6);if(a===-1)return o;const n=[...o];return n[a].value=1,n})});f({name:"Acid",type:"passive",description:"Add 1 to the result of each die you roll for your damage score.",reviewed:!0,onDamageCalculate:e=>{var t;return((t=e.damage)==null?void 0:t.damageRolls.length)??0}});f({name:"Barbs",type:"passive",description:"At the end of every combat round, automatically inflict 1 damage to all opponents.",reviewed:!0,onPassiveAbility:(e,{owner:t})=>E(e,"Barbs",R(t),1,`Barbs deals 1 damage to ${R(t)}`)});f({name:"Bleed",type:"passive",description:"If your damage causes health damage, the opponent continues to take 1 damage (ignoring armour) at the end of each combat round.",reviewed:!0,onDamageDealt(e,{target:t},o,a){return!t||a===0||z(e,t,"Bleed")?e:T(e,t,{stats:{},source:"Bleed",target:t,duration:void 0,icon:"",description:"Takes 1 damage (ignoring armour) at the end of each round."})},onPassiveAbility:(e,{owner:t})=>{const o=R(t);return z(e,o,"Bleed")?E(e,"Bleed",o,1,`Bleed deals 1 damage to ${o}`):e}});f({name:"Burn",type:"passive",description:"Opponents damaged by ignite lose 1 health (ignoring armour) at the end of every round.",onPassiveAbility:(e,{owner:t})=>{const o=R(t);if(z(e,o,"Ignite")){const a=z(e,t,"Embers")?2:1;return E(e,"Burn",o,a)}return e}});f({name:"Cleansing Light",type:"passive",description:"Automatically heal for 2 health at the end of each round.",onPassiveAbility:(e,{owner:t})=>ke(e,"Cleansing Light",t,2)});function rc(e,t,o){if(!qn(o))return e;const a=R(t);return E(e,"Dark Claw",a,4)}f({name:"Dark Claw",type:"passive",description:"For every double rolled, automatically inflict 4 damage (ignoring armour).",onSpeedRoll:(e,{owner:t})=>{const o=t==="hero"?e.heroSpeedRolls:e.enemySpeedRolls;return o?rc(e,t,o):e},onDamageRoll:(e,{owner:t})=>{var a;if(e.winner!==t)return e;const o=(a=e.damage)==null?void 0:a.damageRolls;return o?rc(e,t,o):e}});f({name:"Deadly Poisons",type:"passive",description:"Poisons",reviewed:!0});f({name:"Disease",type:"passive",description:"If you cause health damage, the opponent takes 2 damage (ignoring armour) at the end of each round.",onDamageDealt:(e,{target:t},o,a)=>a>0&&t&&!z(e,t,"Disease")?T(e,t,{stats:{},source:"Disease",target:t,duration:void 0,icon:""}):e,onPassiveAbility:(e,{owner:t})=>{const o=R(t);return z(e,o,"Disease")?E(e,"Disease",o,2):e}});f({name:"Embers",type:"passive",description:"Increases burn damage to 2 per opponent."});f({name:"Fire Aura",type:"passive",description:"All opponents take 1 damage (ignoring armour) at the end of every round.",onPassiveAbility:(e,{owner:t})=>E(e,"Fire Aura",R(t),1)});f({name:"First Cut",type:"passive",description:"Inflict 1 health damage (ignoring armour) before combat begins.",reviewed:!0,onCombatStart:(e,{owner:t})=>E(e,"First Cut",t==="hero"?"enemy":"hero",1)});f({name:"First Strike",type:"passive",description:"Pre-combat damage. Inflict 1 damage die (ignoring armour) and any harmful passive abilities (venom/bleed) before combat begins.",onCombatStart:(e,{owner:t})=>{const o=U(oe(1)),a=R(t);return E(e,"First Strike",a,o)}});f({name:"Kick Start",type:"passive",description:"When reduced to 0 health, automatically restore to 15 health and remove all passive effects.",onDamageDealt:(e,{owner:t})=>{if(B(e,t).stats.health>0)return e;e=ke(e,"Kick Start",t,15);const a=B(e,t),n={...a,activeAbilities:new Map(a.activeAbilities.entries().filter(([i,r])=>r.def.type!=="passive"))};return Vo(e,t,n)}});f({name:"Leech",type:"passive",description:"Restore 2 health every time you cause health damage (cannot exceed max health).",onDamageDealt:(e,{owner:t,target:o},a,n)=>t===o||n<=0?e:ke(e,"Leech",t,2)});f({name:"Life Spark",type:"passive",description:"Heal 4 health every time you roll a double.",onSpeedRoll:(e,{owner:t})=>t==="hero"&&qn(e.heroSpeedRolls??[])?ke(e,"Life Spark","hero",4):e,onDamageRoll:(e,{owner:t})=>{var o;return t==="hero"&&e.winner==="hero"&&qn(((o=e.damage)==null?void 0:o.damageRolls)??[])?ke(e,"Life Spark","hero",4):e}});f({name:"Lightning",type:"passive",description:"Every time you take health damage, automatically inflict 2 damage back (ignoring armour). Multiple lightning items do not stack.",onDamageDealt:(e,{owner:t,target:o},a,n)=>{if(t!==o||n<=0)return e;const i=R(o);return E(e,"Lightning",i,2)}});f({name:"Merciless",type:"passive",description:"Add 1 to each damage die if the opponent is afflicted with bleed, disease, or venom.",onDamageCalculate:(e,{owner:t})=>{var i,r;const o=R(t);return["Bleed","Disease","Venom"].some(s=>z(e,o,s))&&((r=(i=e.damage)==null?void 0:i.damageRolls)==null?void 0:r.length)||0}});f({name:"Poison Mastery",type:"passive",description:"Increases damage dealt by Venom by 2."});f({name:"Sear",type:"passive",description:"Add 1 to each damage die for the duration of combat. Multiple sear items do not stack.",onDamageCalculate:(e,t)=>{var o,a;return((a=(o=e.damage)==null?void 0:o.damageRolls)==null?void 0:a.length)??0}});f({name:"Second Skin",type:"passive",description:"Immune to the piercing ability."});f({name:"Seeing Red",type:"passive",description:"If health is 20 or less, increase speed by 2.",onPassiveAbility:(e,{owner:t})=>B(e,t).stats.health<=20?T(e,t,{stats:{speed:2},source:"Seeing Red",target:t,duration:void 0}):Ue(e,t,"Seeing Red")});f({name:"Shades",type:"passive",description:"Summon shades at start of combat to add 2 to each damage die until sacrificed.",onCombatStart:(e,{owner:t})=>T(e,t,{stats:{},source:"Shades",target:t,duration:void 0}),onDamageCalculate:(e,{owner:t,target:o})=>{var n,i;return t===o?0:(((i=(n=e.damage)==null?void 0:n.damageRolls)==null?void 0:i.length)||0)*2}});f({name:"Shield Spin",type:"passive",description:"Opponents take 1 damage die (ignoring armour) for every [1] they roll for speed.",onSpeedRoll:(e,{owner:t})=>{const o=t==="hero"?"enemy":"hero",a=o==="enemy"?e.enemySpeedRolls:e.heroSpeedRolls;if(!a)return e;const n=a.filter(s=>s.value===1).length;if(n===0)return e;const i=oe(n),r=U(i);return E(e,"Shield Spin",o,r)}});f({name:"Stake",type:"passive",description:"Instantly win if a vampire opponent's health is 10 or less.",onDamageDealt:(e,{owner:t})=>{const o=R(t),a=B(e,o);return(a.name.toLowerCase().includes("vampire")||a.activeAbilities.has("Vampirism"))&&a.stats.health<=10&&(e=E(e,"Stake",o,10)),e}});f({name:"Steadfast",type:"passive",description:"Immune to the knockdown ability."});f({name:"Swift Strikes",type:"passive",description:"(Requires two swords). For each [6] rolled for speed, inflict damage equal to your fastest weapon's speed, ignoring armour.",onSpeedRoll:(e,{owner:t})=>{var r,s,c,d;if(!(Br(e.hero,/sword/,["mainHand"])&&Br(e.hero,/sword/,["leftHand"])))return e;const o=e[t==="hero"?"heroSpeedRolls":"enemySpeedRolls"];if(!o)return e;const a=o.filter(b=>b.value===6).length;if(a===0)return e;const n=Math.max(((s=(r=e.hero.original.equipment.mainHand)==null?void 0:r.stats)==null?void 0:s.speed)||0,((d=(c=e.hero.original.equipment.leftHand)==null?void 0:c.stats)==null?void 0:d.speed)||0),i=a*n;return E(e,"Swift Strikes",R(t),i)}});f({name:"Thorns",type:"passive",description:"Inflict 1 damage (ignoring armour) to all opponents at end of every round.",onPassiveAbility:(e,{owner:t})=>{const o=R(t);return E(e,"Thorns",o,1)}});function sc(e,t){let o=2;const a=Mr(e,t,"Poison Mastery"),n=Mr(e,t,"Deadly Poisons");return a?o=4:n&&(o=3),o}f({name:"Venom",type:"passive",description:"If causing health damage, opponent loses 2 health (ignoring armour) at the end of every round.",reviewed:!0,onDamageDealt(e,{target:t},o,a){if(!t)return e;if(a>0&&!z(e,t,"Venom")){const n=sc(e,t);return T(e,t,{stats:{},source:"Venom",target:t,duration:void 0,icon:"",description:`Loses ${n} health (ignoring armour) at the end of every round.`})}return e},onPassiveAbility:(e,{owner:t})=>{const o=R(t);if(!z(e,o,"Venom"))return e;const a=sc(e,t);return E(e,"Venom",o,a,`Venom deals ${a} damage to ${o}`)}});f({name:"Vitriol",type:"passive",description:"Inflict 1 damage to all opponents and your hero at the end of every round.",onPassiveAbility:(e,{owner:t})=>(e=E(e,"Vitriol",R(t),1),e=E(e,"Vitriol",t,1),e)});f({name:"Acid",type:"special",description:"Roll a die at the start of each combat round. If you roll a 1 or 2, you automatically take 2 damage. This ability ignores armour.",reviewed:!0,icon:"",onRoundStart:(e,{target:t})=>{if(!t)return e;const o=St().value;let a=`Acid check: rolled ${o}.`;return o<=2?E(e,"Acid",t,2,a):D(e,{message:a+" No damage."})}});f({name:"And by crook",type:"special",description:"Once Luke's health falls below 20, he only rolls 1 die for speed but 2 for damage.",reviewed:!1,icon:"",onRoundStart:(e,{owner:t})=>{const o=B(e,t);if(!o)return e;const a=o.stats.health,n="And by crook",i=z(e,t,n);if(a<20){if(!i){const r=o.stats.speedDice??2,s=o.stats.damageDice??1,c=1-r,d=2-s;return T(e,t,{stats:{speedDice:c,damageDice:d},source:n,target:t,description:"Enraged: 1 Speed Die, 2 Damage Dice"})}}else if(i)return Ue(e,t,n);return e}});function lc(e){if(!e)return{newRolls:[],rerolled:!1};let t=!1;return{newRolls:e.map(a=>a.value<=2&&!a.isRerolled?(t=!0,Au()):a),rerolled:t}}f({name:"Bewitched",type:"special",description:"Reroll any 1 or 2 dice results for Zalldell. The results of the rerolled dice must be used.",reviewed:!1,icon:"",onSpeedRoll:e=>{const t=e.enemySpeedRolls,{newRolls:o,rerolled:a}=lc(t);return a?(e=D(e,{message:`Bewitched: Rerolling low dice (1s and 2s). ${le(t)} -> ${le(o)}`}),{...e,enemySpeedRolls:o}):e},onDamageRoll:e=>{var n;if(e.winner!=="enemy")return e;const t=(n=e.damage)==null?void 0:n.damageRolls,{newRolls:o,rerolled:a}=lc(t);return a?(e=D(e,{message:`Bewitched: Rerolled low damage dice. ${le(t)} -> ${le(o)}`}),{...e,damage:{...e.damage,damageRolls:o}}):e}});const Zh={name:"Blood Drinker",type:"special",description:"If the count rolls a 6 for damage, he rolls an extra die for damage and restores 2 health.",reviewed:!1,onDamageRoll:(e,{owner:t})=>{if(e.winner!==t)return e;const o=e.damage;if(!o)return e;if(o.damageRolls.some(n=>n.value===6)){const n=St(),i=[...o.damageRolls,n];e=fo(e,i,"Blood Drinker"),e=ke(e,"Blood Drinker",t,2)}return e}};f(Zh);const Yh={name:"Blood harvest",type:"special",description:"Each time you take health damage from Lady Roe, she heals 2 damage.",onDamageDealt:(e,{owner:t,target:o},a,n)=>{if(n<=0)return e;const i=R(t);return o!==i||(e=ke(e,"Blood harvest",t,2,"Blood harvest: healed 2 health")),e}};f(Yh);const Jh={name:"Charge her up",type:"special",description:"The wreeking mage does not roll for damage if they win a round. Instead, for every 2 rounds it wins, it deals 10 damage ignoring armour. Immune to Vanish, Evade, Sidestep.",icon:"",reviewed:!1,onDamageRoll:(e,{owner:t})=>{if(e.winner!==t)return e;if(e={...e,damage:{...e.damage,damageRolls:[]}},z(e,t,"Charge her up")){e=Ue(e,t,"Charge her up");const o=R(t);e=E(e,"Charge her up",o,10,'"Charge her up" triggered after 2nd combat round victory')}else e=T(e,t,{stats:{},source:"Charge her up",target:"enemy",visible:!1,duration:void 0});return e}};f(Jh);f({name:"Snap out of it!",type:"special",description:"At the start of each round, roll a die. If you roll a 6, you gain the Hopeless state and cannot use combat abilities.",reviewed:!1,onRoundStart:(e,{owner:t})=>{const o=R(t),a=St().value;let n=`Snap out of it!: Rolled ${a}`;return a===6?(n+=" - Hopeless state applied!",e=T(e,o,{stats:{},source:"Snap out of it!",target:o,duration:void 0,icon:"",description:"Hopeless: Cannot use combat abilities"})):n+=" - no effect",D(e,{message:n})}});f({name:"Soft spot",type:"special",description:"When you win a round, roll a die before damage. If you roll a 1 or 2, you cannot deal damage this round.",reviewed:!1,onDamageRoll:(e,{owner:t})=>{if(e.winner!==R(t))return e;const o=St().value;let a=`Soft spot: Hero rolled ${o}`;return o<=2?(a+=" - damage blocked!",Re(e,a)):D(e,{message:a+" - damage proceeds"})}});f({name:"Watch your step",type:"special",description:"If you roll a 1 during speed rolls, you lose the combat round. Dice can be rerolled.",reviewed:!1,onSpeedRoll:(e,{owner:t})=>{if(t!=="enemy")return e;const o=e.heroSpeedRolls;return o&&o.some(n=>n.value===1)?(e=D(e,{message:"Watch your step: Hero rolled a 1! Loses this round."}),{...e,winner:"enemy"}):e}});f({name:"Whirlwind",type:"special",description:"When rolling for damage, each 6 rolled adds an extra damage die. This can repeat.",icon:"",reviewed:!1,onDamageRoll:(e,{owner:t})=>{if(e.winner!==t||!e.damage)return e;let o=0,a=[...e.damage.damageRolls],n=0;for(;n<a.length;){if(a[n].value===6){const i=St();a.push(i),o++}n++}return o>0&&(e=D(e,{message:`Whirlwind: Added ${o} extra damage dice, damage dice: ${le(a)}`}),e={...e,damage:{...e.damage,damageRolls:a,modifiers:e.damage.modifiers??[]}}),e}});f({name:"Warts and all",type:"special",description:"At the start of each round, roll a die. If you roll a 1, you are transformed into a toad and roll only 1 speed die.",icon:"",reviewed:!1,onRoundStart:(e,{owner:t})=>{const o=R(t),a=St().value;let n=`Warts and all: Rolled ${a}`;return a===1?(n+=" - transformed into a toad!",e=T(e,o,{stats:{speedDice:-1},source:"Warts and all",target:o,duration:1,description:"Toad: Only 1 speed die"})):n+=" - no effect",D(e,{message:n})}});f({name:"Punishing blows",type:"special",description:"Each time the enemy deals damage, your armour is permanently reduced by 1 for this combat.",icon:"",reviewed:!1,onDamageDealt:(e,{owner:t,target:o},a,n)=>{if(n<=0||o!==R(t))return e;const i=jh(e,o,"Punishing blows");i&&(e=Ue(e,o,"Punishing blows"));const r=(i==null?void 0:i.stats.armour)??0;return e=T(e,o,{stats:{armour:r-1},source:"Punishing blows",target:o,duration:void 0,description:`Armour reduced by ${Math.abs(r-1)}`}),D(e,{message:"Punishing blows: Hero's armour reduced by 1!"})}});f({name:"Split personality",type:"special",description:"For every 10 health lost, the enemy gains +1 to speed and brawn.",reviewed:!1,onRoundStart:(e,{owner:t})=>{const o=B(e,t),a=o.stats.maxHealth-o.stats.health,n=Math.floor(a/10);return n<=0||(z(e,t,"Split personality")&&(e=Ue(e,t,"Split personality")),e=T(e,t,{stats:{speed:n,brawn:n},source:"Split personality",target:t,duration:void 0,description:`+${n} speed/brawn from rage`})),e}});f({name:"Strangle vines",type:"special",description:"At the start of each round, you take damage equal to the round number multiplied by 2.",reviewed:!1,onRoundStart:(e,{owner:t})=>{const o=R(t),a=e.round*2;return E(e,"Strangle vines",o,a,`Strangle vines: Round ${e.round} = ${a} damage`)}});f({name:"Wailing Bride",type:"special",description:"At the start of each round, your speed, brawn, and magic are reduced by 1.",reviewed:!1,onRoundStart:(e,{owner:t})=>{const o=R(t);return e=T(e,o,{stats:{speed:-e.round,brawn:-e.round,magic:-e.round},source:"Wailing Bride",target:o,duration:1,description:`Stats reduced by ${Math.abs(e.round)}`}),e}});f({name:"Many heads",type:"special",description:"If combat reaches round 4, the Hydra regenerates all its health.",reviewed:!1,uses:1,onRoundStart:(e,{owner:t})=>{if(e.round!==4)return e;const o=B(e,t),a=o.stats.maxHealth-o.stats.health;return a>0&&(e=ke(e,"Many heads",t,a)),e}});f({name:"Mighty roar",type:"special",description:"After winning 2 consecutive rounds with damage dealt, gain +4 to speed and brawn for the rest of combat.",reviewed:!1,onDamageDealt:(e,{owner:t,target:o},a,n)=>{if(n<=0||o!==R(t)||a!==As||e.winner!=="enemy"||z(e,t,"Mighty roar"))return e;const i="Mighty roar (building)";return z(e,t,i)?(e=Ue(e,t,i),T(e,t,{stats:{speed:4,brawn:4},source:"Mighty roar",target:t,duration:void 0,description:"+4 speed/brawn"})):(e=T(e,t,{stats:{},source:i,target:t,duration:2,description:"Tracking consecutive wins",visible:!1}),e)}});f({name:"Wind-dancer",type:"special",description:"During this combat, you cannot use potions or special abilities.",icon:"",reviewed:!1,onCombatStart:e=>(e.hero.activeAbilities=new Map,e.backpack=[],D(e,{message:"Wind-dancer: Hero cannot use potions or abilities!"}))});f({name:"Wail of the Banshee",type:"special",description:"If the Banshee's health is 100 or more at the start of combat, you automatically lose.",icon:"",reviewed:!1,onCombatStart:(e,{owner:t})=>B(e,t).stats.health<100?e:(e=D(e,{message:"Wail of the Banshee: Health >= 100! Instant loss!"}),{...e,hero:{...e.hero,stats:{...e.hero.stats,health:0}},phase:"combat-end"})});f({name:"Endless Swarm",type:"special",description:"The Sentries cannot be defeated. Their health cannot drop below 1.",reviewed:!1,onDamageDealt:(e,{owner:t,target:o},a,n)=>{if(o!==t)return e;const i=B(e,t);return i.stats.health<=0&&(e=Vo(e,t,{...i,stats:{...i.stats,health:1}}),e=D(e,{message:"Endless Swarm: Cannot be defeated! Health restored to 1."})),e}});const Xh={name:"Distraction",type:"special",description:"When you lose a round, roll a die. If you roll a 1 or 2, skip the damage roll for this round.",icon:"",reviewed:!1,onDamageRoll:e=>{if(!e.winner||e.winner!=="enemy")return e;const t=St().value;return t<=2?(e={...e,damage:{damageRolls:[],modifiers:[]},winner:null},e=D(e,{message:`Distraction rolled a ${t}! Skipping damage roll.`})):e=D(e,{message:`Distraction rolled a ${t}, no effect.`}),e}};f(Xh);const ep={name:"Downsized",type:"special",description:"For every 10 health that the Centipede loses, one of its body segments is destroying its speed and branch (brawn) by 1 each time.",reviewed:!1,onRoundStart:(e,{owner:t})=>{const o=B(e,t),a=o.stats.maxHealth-o.stats.health,n=Math.floor(a/10);return n>0&&(e=Ue(e,t,"Downsized"),e=T(e,t,{stats:{speed:-n,brawn:-n},source:"Downsized",target:t,duration:void 0,description:`Lost segments: -${n} Speed/Brawn`})),e}};f(ep);const tp={name:"Dragon breath",type:"special",description:"If the opponent has the 'burn' status, Dragon Breath deals 2 damage at start of each combat round. This damage ignores armor.",reviewed:!1,onRoundStart:(e,{owner:t})=>{const o=R(t);return(z(e,o,"Ignite")||B(e,o).activeEffects.some(n=>n.source.toLowerCase().includes("burn")))&&(e=E(e,"Dragon breath",o,2,"Opponent is burning! Dragon breath deals 2 damage.")),e}};f(tp);const op={name:"Entrapment",type:"special",description:"Each time you win a combat round, your opponent rolls one less combat die in the next round.",reviewed:!1,onDamageRoll:(e,{owner:t})=>{if(e.winner===t){const o=R(t);e=T(e,o,{stats:{speedDice:-1},source:"Entrapment",target:o,duration:2,description:"-1 Speed Die next round"})}return e}};f(op);const ap={name:"Eye Beam",type:"special",description:"If you roll a [6] for your attack speed, you can choose to deal 2 damage to your opponent immediately (this damage ignores armor).",reviewed:!1,onSpeedRoll:(e,{owner:t})=>{const o=t==="hero"?e.heroSpeedRolls:e.enemySpeedRolls;if(!o)return e;if(o.some(n=>n.value===6)){const n=R(t);e=E(e,"Eye Beam",n,2,"Eye Beam deals 2 damage ignoring armour!")}return e}};f(ap);const np={name:"Faithful duty",type:"special",description:"If the hero's health drops to 4 or less, restore 10 health. This ability can only be used once per combat.",reviewed:!1,uses:1,onDamageDealt:(e,{owner:t})=>z(e,t,"Faithful duty")||B(e,t).stats.health>4?e:(e=T(e,t,{stats:{},source:"Faithful duty",target:t}),Iu(e,t,"Faithful duty"),ke(e,"Faithful duty",t,10))};f(np);const ip={name:"Ferocity",type:"special",description:"If you roll a [6] for your attack speed, you roll an extra die to determine your damage score.",reviewed:!1,onSpeedRoll:(e,{owner:t})=>{const o=t==="hero"?e.heroSpeedRolls:e.enemySpeedRolls;return o&&o.some(n=>n.value===6)&&(e=T(e,t,{stats:{damageDice:1},source:"Ferocity",target:t,duration:1,description:"+1 Damage Die"})),e}};f(ip);const rp={name:"Frenzy",type:"special",description:"If the Packmaster is alive, the Ghouls roll 2 damage dice.",reviewed:!1,onRoundStart:(e,t)=>(z(e,t.owner,"Frenzy")||(e=T(e,t.owner,{stats:{damageDice:1},source:"Frenzy",target:t.owner,description:"Frenzy: +1 Damage Die"})),e)};f(rp);const sp={name:"From the ashes",type:"special",description:"At the end of the combat, the Phoenix rises again as Phoenix risen.",reviewed:!1,onCombatEnd:(e,{owner:t})=>{const o=B(e,{type:t,enemyIndex:0});if(!o)return e;if(o.stats.health<=0){e=D(e,{message:"From the ashes: The Phoenix rises again! (TODO: Spawn Phoenix risen)"});const a={...e.enemies[0],name:"Phoenix risen",stats:{...e.enemies[0].stats,health:10,maxHealth:10,speedDice:2,damageDice:2},activeEffects:[]},n=[...e.enemies];n[0]=a,e={...e,phase:"round-start",enemies:n},Ms(e.enemies[0],Ns("Body of flame"))}return e}};f(sp);const lp={name:"Glutinous maximus",type:"special",description:"Every time you win a combat round, you are reduced to 1 speed die for the next attack roll. Cannot be avoided.",reviewed:!1,onDamageRoll:e=>e.winner!=="hero"||z(e,"hero","Glutinous maximus")?e:T(e,"hero",{stats:{speedDice:-1},source:"Glutinous maximus",target:"hero",duration:2,description:"Reduced to 1 speed die"})};f(lp);function Uo(e){f({name:e.name,type:"special",description:e.description,icon:"",reviewed:!0,onRoundStart:e.trigger==="round-start"?(t,{owner:o})=>{const a=B(t,o);return e.stopAtZero&&a.stats.health<=0||(t=ke(t,e.name,o,e.amount,`${e.name}: +${e.amount} health`)),t}:void 0,onPassiveAbility:e.trigger==="round-end"?(t,{owner:o})=>{const a=B(t,o);return e.stopAtZero&&a.stats.health<=0||(t=ke(t,e.name,o,e.amount,`${e.name}: +${e.amount} health`)),t}:void 0})}Uo({name:"Regeneration",description:"At the start of the combat round, the Troll regains 2 health. Once the trolls health has been reduced to 0, he cannot heal.",amount:2,trigger:"round-start",stopAtZero:!0});Uo({name:"Healing touch",description:"At the end of the combat round, Allura heals 2 health. Once her health has been reduced to 0, she cannot heal.",amount:2,trigger:"round-end",stopAtZero:!0});Uo({name:"Holy Circle",description:"At the end of the combat round, the Architect heals 4 health.",amount:4,trigger:"round-end"});Uo({name:"Dark Runes",description:"At the end of each combat round, the enemy heals 3 health.",amount:3,trigger:"round-end"});Uo({name:"Enduring Spirit",description:"At the end of the combat round, Lorcan heals 4 health if not defeated.",amount:4,trigger:"round-end",stopAtZero:!0});Uo({name:"Gathering Darkness",description:"At the end of each combat round, the enemy heals 8 health if not defeated.",amount:8,trigger:"round-end",stopAtZero:!0});function ne(e){const t=e.description||`Immune to ${e.immunities.join(", ")}.`,o=e.immunities.map(a=>Ut(a));f({name:e.name,type:"passive",description:t,icon:"",reviewed:!0,onDamageDealt:(a,{owner:n,target:i},r,s)=>(!i||n!==i||o.includes(r)&&(a=ke(a,e.name,i,s,"Immune"),a=D(a,{message:`${i} is immune to ${r}.`})),a)})}ne({name:"Blazing armour",immunities:["Piercing","Sear","Impale","Bleed","Burn","Ignite"]});ne({name:"Bloated body",immunities:["Piercing","Impale","Barbs","Thorns"]});ne({name:"Body of Flame",immunities:["Sear","Fire aura","Bleed","Burn","Ignite"]});ne({name:"Body of Ice",immunities:["Venom","Disease","Bleed"]});ne({name:"Body of air",immunities:["Bleed","Venom","Disease"]});ne({name:"Body of bone",immunities:["Bleed","Venom"]});ne({name:"Body of rock",immunities:["Piercing","Impale","Bleed","Venom","Thorns","Barbs","Lightning"]});ne({name:"Dragon hide",immunities:["Piercing","Impale","Thorns","Barbs"]});ne({name:"Got ma eyes an yer",immunities:["Sidestep","Evade","Vanish"]});ne({name:"Heightened Magic",immunities:["Sidestep","Evade","Vanish"]});ne({name:"Iron Clad",immunities:["Piercing","Impale","Bleed","Disease","Venom"]});ne({name:"Lightning reflex",immunities:["Sidestep","Evade","Vanish"]});ne({name:"Painted Veil",immunities:["Venom","Bleed"]});ne({name:"Sack and straw",immunities:["Lightning","Piercing","Immobilise","Venom","Thorns","Corruption"]});ne({name:"Steel yourself",immunities:["Piercing","Impale","Barbs","Thorns"]});ne({name:"Sinister Steel",immunities:["Piercing","Impale","Barbs","Thorns","Bleed","Venom"]});ne({name:"Lightning Reflexes",immunities:["Sidestep","Evade","Vanish"]});ne({name:"Heightened Senses",immunities:["Sidestep","Evade","Vanish"]});ne({name:"Iron-Mane",immunities:["Piercing","Impale"]});ne({name:"Body of Metal",immunities:["Piercing","Impale","Barbs","Thorns","Bleed","Venom","Disease"]});ne({name:"Natural Immunity",description:"Immune to all passive effects.",immunities:[]});ne({name:"Enchanted Stone",description:"Immune to all passive effects.",immunities:[]});const cp={name:"Ink bombs",type:"special",description:"If you roll a 1 during speed rolls, hero is blinded and loses the round. You can only use passive abilities in this round. Dice can be rerolled.",reviewed:!1,onSpeedRoll:(e,{owner:t})=>{if(t!=="enemy")return e;const o=e.heroSpeedRolls;return o&&o.some(n=>n.value===1&&!n.isRerolled)&&(e=D(e,{message:"Ink bombs: Hero rolled a 1 and is blinded! Loses this round."}),e={...e,winner:"enemy"}),e}};f(cp);const dp={name:"King of the swingers",type:"special",description:"At the end of every combat round you automatically take 15 damage. Armour can be used to absorb this damage.",reviewed:!1,onPassiveAbility:(e,{owner:t})=>{if(t!=="enemy")return e;const o=e.hero.stats.armour??0,a=Math.max(0,15-o);return a>0&&(e=E(e,"King of the swingers","hero",a,`King of the swingers deals ${a} damage (15 - ${o} armour)`)),e}};f(dp);function O(e){f({name:e.name,type:"special",description:e.description,icon:e.icon??"",reviewed:!0,onDamageDealt:(t,{target:o},a,n)=>e.condition==="always"||!o?t:(e.condition==="on-hit"||e.condition==="on-damage"&&n>0)&&!z(t,o,e.name)?T(t,o,{stats:{},source:e.name,target:o,duration:void 0,icon:e.icon??"",description:e.description}):t,onPassiveAbility:(t,{owner:o})=>{const a=R(o);if(e.condition==="always"||z(t,a,e.name)){let i=e.damage,r=`${e.name} deals ${i} damage`;if(e.ignoreArmour!==!1)r+=" (ignoring armour)";else{const d=B(t,a).stats.armour;i=Math.max(0,i-d),r+=" (reduced by armour)"}if(i>0)return E(t,e.name,a,i,r)}return t},onCombatStart:(t,{owner:o})=>e.condition==="always"&&!z(t,o,e.name)?T(t,o,{stats:{},source:e.name,target:o,duration:void 0,icon:e.icon??"",description:e.description}):t})}O({name:"Black coils",description:"At the end of every combat round you automatically lose 2 health ignoring armour",damage:2,condition:"always"});O({name:"Black sigill",description:"At the end of each combat round, your hero suffers 1 damage. This ability ignores armour.",damage:1,condition:"always"});O({name:"Black venom",description:"After a successful attack causing damage, lose 2 health on every end of a round, ignoring armour.",damage:2,condition:"on-damage"});O({name:"Blacke fire",description:"At the end of the combat round, your hero takes 2 damage from the flames that surround the demon. This ability ignores armour.",damage:2,condition:"always"});O({name:"Carrion Beetles",description:"At the end of the round, you take 2 health damage, ignoring armour.",damage:2,condition:"always"});O({name:"Carrion Crows",description:"At the start of each round, you take 4 health damage, ignoring armour.",damage:4,condition:"on-start-round"});O({name:"Deadly venom",description:"Once you have taken health damage, you lose 3 health at the end of each combat round.",damage:3,condition:"on-damage"});O({name:"Disease",description:"Once you have taken health damage, you lose 2 health at the end of each combat round.",damage:2,condition:"on-damage"});O({name:"Fiery aura",description:"At the end of each combat round, the hero takes 3 damage ignoring armour.",damage:3,condition:"always"});O({name:"Grave Chill",description:"At the end of each combat round, the hero takes 2 damage ignoring armour.",damage:2,condition:"always"});O({name:"Hellfire",description:"At the end of the combat round, your hero takes 2 damage from the flames that surround the demon. This ability ignores armour.",damage:2,condition:"always"});O({name:"Heat Exposure",description:"At the end of each combat round, you take 2 damage ignoring armour.",damage:2,condition:"always"});O({name:"Fire Sprite",description:"At the end of each combat round, you take 2 damage ignoring armour.",damage:2,condition:"always"});O({name:"Black Lightening",description:"At the end of each combat round, you take 4 damage ignoring armour.",damage:4,condition:"always"});O({name:"Black Poison",description:"Once you have taken health damage, at the end of every combat round you must automatically lose 2 health.",damage:2,condition:"on-damage"});O({name:"Sucker Punch",description:"Once you have taken health damage, at the end of every combat round you must automatically lose 2 health ignoring armour.",damage:2,condition:"on-damage"});O({name:"Wyvern Talons",description:"At the end of the round, you take 2 damage ignoring armour.",damage:2,condition:"always"});O({name:"Poison Needles",description:"At the end of every combat round, lose 2 health.",damage:2,condition:"always"});O({name:"Poisened arrow",description:"At the end of each combat round you lose 2 health.",damage:2,condition:"always"});O({name:"Snapping Beak",description:"At the end of every combat round, lose 2 health ignoring armour.",damage:2,condition:"always"});O({name:"Snappers",description:"At the end of every combat round, lose 2 health ignoring armour.",damage:2,condition:"always"});O({name:"Stone Golem",description:"At the end of the round, take 1 damage ignoring armour.",damage:1,condition:"always"});O({name:"Whirling Blades",description:"At the end of each combat round, you take 2 damage ignoring armour.",damage:2,condition:"always"});O({name:"Mark of Fury",description:"At the end of the combat round, the hero takes 3 damage ignoring armour.",damage:3,condition:"always"});O({name:"Giblets",description:"At the end of the combat round, the hero takes 3 damage ignoring armour.",damage:3,condition:"always"});O({name:"Stomping Statues",description:"At the end of the combat round, the statues deal 4 damage ignoring armour to the hero.",damage:4,condition:"always"});O({name:"Poison Nodes",description:"At the end of each combat round, the hero takes 2 damage ignoring armour.",damage:2,condition:"always"});O({name:"Flame Form",description:"At the end of the combat round, the hero loses 4 health ignoring armour.",damage:4,condition:"always"});O({name:"Molten armour",description:"At the end of the round the hero takes 4 damage ignoring armour.",damage:4,condition:"always"});O({name:"Neural Blast",description:"At the end of the combat round, the hero takes 10 damage ignoring armour.",damage:10,condition:"always"});O({name:"Tight Spot",description:"At the end of the round, take 5 damage ignoring armour.",damage:5,condition:"always"});O({name:"Oozing Tentacles",description:"At the end of the round, you take 2 damage ignoring armour from every Tentacle.",damage:2,condition:"always"});function Bs(e){f({name:e.name,type:"special",description:e.description,icon:"",reviewed:!0,onDamageDealt:(t,{owner:o,target:a},n,i)=>{if(i<=0)return t;const r=R(o);return e.trigger==="on-owner-damaged"&&a===o?t=E(t,e.name,r,e.damage,`${e.name}: ${e.damage} retaliation damage`):e.trigger==="on-owner-deals-damage"&&a===r&&(t=E(t,e.name,r,e.damage,`${e.name}: ${e.damage} damage in return`)),t}})}Bs({name:"Charged",description:"Each time you inflict health damage on the elemental, you take 2 damage in return. This ability ignores armour.",damage:2,trigger:"on-owner-damaged"});Bs({name:"Thorn Fists",description:"Each time the enemy takes damage, the hero loses 4 health ignoring armour.",damage:4,trigger:"on-owner-damaged"});Bs({name:"Retaliation",description:"Each time Sanrah takes attack damage, the hero loses 1 health ignoring armour.",damage:1,trigger:"on-owner-damaged"});function ho(e){f({name:e.name,type:"special",description:e.description,icon:e.icon??"",reviewed:!1,onRoundStart:(t,{owner:o})=>{const a=R(o),n=B(t,a),i=oe(e.diceCount),r=U(i),s=le(i);let c=!1,d=`${e.name}: Rolled ${s}=${r}`;if(e.triggerCondition.type==="vs-speed"){const b=n.stats.speed;d+=` vs speed ${b}`,c=r>b}else c=i.some(b=>e.triggerCondition.type==="fixed"&&e.triggerCondition.values.includes(b.value));if(c){let b;return e.damage==="formula"&&e.damageFormula?b=e.damageFormula(n.stats.armour):typeof e.damage=="number"?b=e.damage:b=0,d+=` - triggered! ${b} damage`,E(t,e.name,a,b,d)}return D(t,{message:d+" - no effect"})}})}ho({name:"Mud Pie",description:"At the start of each round, roll 2 dice. If the result is higher than your speed, you take 2 damage ignoring armour.",diceCount:2,triggerCondition:{type:"vs-speed"},damage:2});ho({name:"Vortex of fire",description:"At the start of each round, roll 2 dice. If the result is higher than your speed, you take 4 damage ignoring armour.",diceCount:2,triggerCondition:{type:"vs-speed"},damage:4,icon:""});ho({name:"Clobbering Time",description:"At the start of each round, roll 4 dice. If the result is higher than your speed, you take 15 damage minus half your armour.",diceCount:4,triggerCondition:{type:"vs-speed"},damage:"formula",damageFormula:e=>Math.max(0,15-Math.floor(e/2)),icon:""});ho({name:"Pincer Movement",description:"At the start of each round, roll 1 die. If you roll a 1, you lose 2 health ignoring armour.",diceCount:1,triggerCondition:{type:"fixed",values:[1]},damage:2,icon:""});ho({name:"Shield Slam",description:"At the start of each round, roll 1 die. If you roll a 1, you take 6 damage ignoring armour. Rerolls not allowed.",diceCount:1,triggerCondition:{type:"fixed",values:[1]},damage:6,icon:""});ho({name:"Tangled roots",description:"At the start of each round, roll 1 die. If you roll a 1 or 2, you lose 5 health ignoring armour.",diceCount:1,triggerCondition:{type:"fixed",values:[1,2]},damage:5,icon:""});ho({name:"Bolt from the Blue",description:"At the end of the combat round, roll a die. If the result is 1, 2, or 3, take 5 damage ignoring armour.",diceCount:1,triggerCondition:{type:"fixed",values:[1,2,3]},damage:5,icon:""});function qt(e){f({name:e.name,type:"special",description:e.description,icon:e.icon??"",reviewed:!0,onSpeedRoll:e.rollType==="speed"||e.rollType==="all"?t=>{const o=e.rollsTarget==="hero"?t.heroSpeedRolls:t.enemySpeedRolls;if(!o)return t;const a=o.filter(n=>e.triggerValues.includes(n.value)).length;if(a>0){const n=a*e.damagePerTrigger;t=E(t,e.name,e.damageTarget,n,`${e.name}: ${a}x ${e.triggerValues.join("/")} rolled = ${n} damage`)}return t}:void 0,onDamageRoll:e.rollType==="damage"||e.rollType==="all"?t=>{if(!t.damage||t.winner!==e.rollsTarget)return t;const o=t.damage.damageRolls.filter(a=>e.triggerValues.includes(a.value)).length;if(o>0){const a=o*e.damagePerTrigger;t=E(t,e.name,e.damageTarget,a,`${e.name}: ${o}x ${e.triggerValues.join("/")} rolled = ${a} damage`)}return t}:void 0})}qt({name:"By hook",description:"For each 1 you roll you immediately lose 2 health, ignoring armour.",triggerValues:[1],damagePerTrigger:2,rollType:"all",rollsTarget:"hero",damageTarget:"hero"});qt({name:"Tail lash",description:"For every 1 you roll, the ratling hits you for 1 damage, ignoring armour.",triggerValues:[1],damagePerTrigger:1,rollType:"all",rollsTarget:"hero",damageTarget:"hero"});qt({name:"Terrible Talons",description:"For each 1 you roll, take 2 damage ignoring armour.",triggerValues:[1],damagePerTrigger:2,rollType:"all",rollsTarget:"hero",damageTarget:"hero"});qt({name:"Sharpshooter",description:"For each 1 you roll, take 1 damage ignoring armour.",triggerValues:[1],damagePerTrigger:1,rollType:"all",rollsTarget:"hero",damageTarget:"hero"});qt({name:"Maelstrom",description:"For each 1 you roll, lose 8 health ignoring armour.",triggerValues:[1],damagePerTrigger:8,rollType:"all",rollsTarget:"hero",damageTarget:"hero"});qt({name:"Whiplash",description:"For each 6 the enemy rolls for attack speed, you lose 2 health ignoring armour.",triggerValues:[6],damagePerTrigger:2,rollType:"speed",rollsTarget:"enemy",damageTarget:"hero"});qt({name:"Crone's dagger",description:"If the Ruffians roll a 6 for damage, the crone's dagger automatically inflicts 1 extra point of health damage.",triggerValues:[6],damagePerTrigger:1,rollType:"damage",rollsTarget:"enemy",damageTarget:"hero"});qt({name:"Keen Edge",description:"If the enemy rolls a 5 or 6 for their damage score, they add 4 more damage.",triggerValues:[5,6],damagePerTrigger:4,rollType:"damage",rollsTarget:"enemy",damageTarget:"hero"});function he(e){const t=Object.keys(e.stats).map(a=>A(a)),o=e.icon??t.length>0?t[0]:A("enemy");f({name:e.name,type:"modifier",description:e.description,icon:o,onCombatStart(a,{owner:n}){return a=T(a,e.target??n,{stats:e.stats,source:e.name,target:n,duration:void 0,icon:o}),a}})}he({name:"Avian's aid",description:"Add 2 to your damage score for the entire combat.",stats:{damageModifier:2},target:"hero"});he({name:"Holy Water",description:"You may add 2 to your damage score in this combat.",stats:{damageModifier:2},target:"hero"});he({name:"Holy Flame",description:"Add 4 to the Architect's damage score.",stats:{damageModifier:4},target:"enemy"});he({name:"Team Effort",description:"The hero adds 2 to their damage score, and 2 to their armour.",stats:{damageModifier:2,armour:2}});he({name:"Power of Shadow",description:"Your brawn and magic are raised by 5.",stats:{brawn:5,magic:5},target:"hero"});he({name:"Holy Aura",description:"The hero adds 2 to their brawn and magic scores.",stats:{brawn:2,magic:2},target:"hero"});he({name:"Caleb's Shield",description:"The hero's armour is increased by 2.",stats:{armour:2},target:"hero"});he({name:"Fatigue",description:"The hero reduces their brawn and magic by 2 for the combat.",stats:{brawn:-2,magic:-2},target:"hero"});he({name:"Thorn Spines",description:"Reduce hero speed by 1 for the entire combat.",stats:{speed:-1},target:"hero"});he({name:"Wing buffet",description:"You must reduce your speed by 1 for the entire combat.",stats:{speed:-1},target:"hero"});he({name:"Dread",description:"Causes Fear, reducing brawn and magic by 1 for the entire combat.",stats:{brawn:-1,magic:-1},target:"hero"});he({name:"Mighty blows",description:"Voldring rolls 2 damage dice.",stats:{damageDice:1},target:"enemy"});he({name:"Double Danger",description:"The enemy rolls 2 damage dice.",stats:{damageDice:1},target:"enemy"});he({name:"Cat's speed",description:"Shara Khana rolls 3 dice to determine her attack speed. Your hero special abilities can be used to reduce this number.",stats:{speedDice:1},target:"enemy"});he({name:"Piercing Claws",description:"The ghouls' attacks ignore armour.",stats:{armour:-100},target:"hero"});he({name:"Stingers",description:"Attacks ignore armour.",stats:{armour:-100},target:"hero"});he({name:"Dervish",description:"Attacks ignore armour.",stats:{armour:-100},target:"hero"});he({name:"Crazy hal",description:"When you roll for damage, Crazy hal adds 1 extra damage score.",stats:{damageModifier:1},target:"enemy"});f(N({name:"A Siege of Scarrons",description:"Complex multi-enemy combat encounter."}));f(N({name:"Absorption",description:"If you win a round, roll a die. If the result is 3+, reduce the magic of the enemy by 4. If magic reaches 0, you win."}));f(N({name:"Air of corruption",description:"You cannot use any special abilities. You can use potions and backpack items."}));f(N({name:"Concentration",description:"You cannot use potions or special abilities."}));f(N({name:"Dark Claw",description:"When Snaide rolls a double, he can immediately inflict 4 damage, ignoring armour."}));f(N({name:"Dark Master",description:"If you are a Necromancer, roll a die at the start of each round. If you roll a 6, the zombie will inflict damage on the Apprentice."}));f(N({name:"Dark Mending",description:"At the end of the combat round, the Dark Arthurian restores 2 health for each Necromancer that is alive."}));f(N({name:"Deadly Charge",description:"When you take health damage, you take 1 additional damage per 2 armour rounded up."}));f(N({name:"Elemental Master",description:"Can switch between Shadow, Flame, and Rock forms."}));f(N({name:"Fed from fear",description:"At the end of each combat round, the armour is increased by 1."}));f(N({name:"First cut",description:"First strike damage bonus."}));f(N({name:"Gathering of Ghasts",description:"Attacks ignore armour. If the hero has Second Skin, use half the armour score rounded up."}));f(N({name:"Heal me",description:"The hero can restore 15 health once in the combat."}));f(N({name:"Healer's Gift",description:"If the hero has Companion on the hero sheet, the hero can restore 12 health once in the combat."}));f(N({name:"Helping Hand",description:"For each remaining hero alive (Janna, Gull, Laine, Klaret), you can add 1 to your damage score."}));f(N({name:"Holy Shield",description:"When this is defeated, reduce the Architect's armour score by 8."}));f(N({name:"Ice armour",description:"Spawns 4 Ice Pillar."}));f(N({name:"Ice pillar",description:"When a pillar is destroyed, the Chilblain's armour is set to 10."}));f(N({name:"Indigestion",description:"If you win a round, you can strike as normal or lose 5 health and ignore armour."}));f(N({name:"Inquisitor's Wrath",description:"If the hero has Rival on the hero sheet, the hero adds 2 to their damage starting in round 3."}));f(N({name:"Itchy and scratchy",description:"At the start of each combat round roll a die: If you roll a 1, your speed is reduced by 1 for this combat round."}));f(N({name:"Knockdown",description:"If your hero takes health damage from the troll, you must reduce your speed for the next combat round by 1."}));f(N({name:"Leech",description:"For each damage inflicted to the hero, heal the same amount."}));f(N({name:"Mad Scientist",description:"Before rolling for damage, roll a die. On 1-2: cancel damage and reduce speed. On 3-4: reduce hero speed. On 5-6: enemy rolls 2 damage dice."}));f(N({name:"Magic Shield",description:"You can reduce your magic by 2 for the combat to avoid taking damage from the neural blast. If magic reaches 0, you lose."}));f(N({name:"Magic of the Makers",description:"When a statue is defeated, the speed, magic and armour score of Lorcan are raised by 1."}));f(N({name:"Nasty Nibblers",description:"At the end of the combat round, roll a die. If you roll a 1 or 2, you reduce your armour by 1 for the rest of the combat."}));f(N({name:"Raise Dead",description:"At the end of the combat round, the Skeleton Horde raises their health and max health by 10."}));f(N({name:"Raking Claws",description:"The enemy rolls 2 dice for damage and uses the higher result."}));f(N({name:"Rock Form",description:"If the hero takes health damage, lower the speed of the hero by 1 for the next round."}));f(N({name:"Shadow Form",description:"Each time you take health damage, lower your brawn or magic (the higher one) by 2."}));f(N({name:"Shatter Shield",description:"If you win a combat round, instead of rolling for damage, you can choose to reduce the enemy's armour by 4."}));f(N({name:"Swarm of Spores",description:"At the end of each combat round, starting in round 3, the Landsbury shield takes damage equal to the Spore Cloud's remaining health."}));f(N({name:"Two Arms!",description:"At the end of each round, add the next not yet equipped item: Breastplate (+2 armour), Cloak (+1 speed), Shield (+2 armour), Helmet (+2 armour), Legguards (+1 armour)."}));f(N({name:"Unnatural growth",description:"At the end of every combat round, KerKlick raises its brawn by 1, up to max of 10."}));f(N({name:"Vampire",description:"Vampiric creature with special weaknesses and abilities."}));f(N({name:"Withering Strikes",description:"Everytime you take damage, reduce brawn and magic by 1."}));f(N({name:"Wounded",description:"You cannot heal after this combat."}));f(N({name:"Wrath of Winter",description:"At the end of the round, take damage equal to the number of rounds plus 1 ignoring armour."}));f(N({name:"Blindside",description:"If you win the combat round while using a speed ability, decrease the armour by 10 for this combat round."}));f(N({name:"Dark disciple",description:"All hero rolls of a 6 become a 1 automatically."}));f(N({name:"Dismantle",description:"If you win a combat round, you can choose to skip the damage roll and lower the enemies armour by 4 for the rest of the combat."}));f({name:"Trample",type:"special",description:"If the enemy rolls a 6 on their damage roll, add 5 to the damage.",reviewed:!0,onDamageCalculate:(e,t)=>t.owner!=="enemy"||t.target!=="hero"?0:e.damage.damageRolls.some(o=>o.value===6)?5:0});const up={name:"Zen Charge",type:"special",description:"Zen can roll 3 dice of speed in the first round of combat. Immune to any abilities that reduce his speed dice for this first round.",icon:"",reviewed:!1,onRoundStart:(e,{owner:t})=>(e.round===1&&(e=T(e,t,{stats:{speedDice:1},source:"Zen Charge",target:t,duration:1,description:"Rolling 3 speed dice"})),e)};f(up);f(mi({name:"Adrenaline",description:"Increase your speed by 2 for two combat rounds.",target:"owner",speedModifier:2,duration:2}));f(mi({name:"Cat's Speed",description:"Roll an extra die to determine attack speed for one round.",target:"owner",speedModifier:1,duration:1}));f(Q({name:"Charge",type:"speed",description:"Increase speed by 2 in the first round of combat.",target:"owner",stats:{speed:2},duration:1,canActivate:Le}));f(Q({name:"Chill Touch",type:"speed",description:"Reduce your opponent's speed by 2 for one round.",target:"opponent",stats:{speed:-2},duration:1,canActivate:Le}));f(Q({name:"Click Your Heels",type:"speed",description:"Raise speed by 2 for one combat round.",target:"owner",stats:{speed:2},duration:1,canActivate:Le}));f(Q({name:"Courage",type:"speed",description:"Increase speed by 4 for one combat round.",target:"owner",stats:{speed:4},duration:1,canActivate:Le}));f(mi({name:"Curse",description:"Reduce the number of dice your opponent rolls for attack speed by 1 for one round.",target:"opponent",speedModifier:-1,duration:1}));f({name:"Demolish",type:"speed",description:"Reduce the opponent's speed dice by 1 for one round and lower their armour by 1 for the remainder of the combat.",canActivate:Le,onActivate:(e,{owner:t})=>{const o=R(t);let a=T(e,o,{stats:{speedDice:-1},source:"Demolish (Speed)",target:o,duration:1});return a=T(a,o,{stats:{armour:-1},source:"Demolish (Armour)",target:o,duration:void 0}),a}});function cc(e,{owner:t}){if(t!=="hero")return!1;const o=e.hero.stats.speed||0,a=e.enemies[0].stats.health||0;return["round-start","start-combat"].includes(e.phase)&&Br(e.hero,/sword/,["mainHand","leftHand"])&&a>0&&a<=o}f({name:"Execution",type:"speed",description:"(Requires sword in main hand). If an opponents health is equal to or less than your speed, you may reduce their health to zero at the start of a round (once per round).",canActivate:cc,onActivate:(e,{owner:t})=>{if(!cc(e,{owner:t}))return e;const o=e.enemies[0].stats.health||0;return E(e,"Execution","enemy",o)}});f(Q({name:"Fearless",type:"speed",description:"Raise speed by 2 for one round.",target:"owner",stats:{speed:2},duration:1,canActivate:Le}));f(Q({name:"Haste",type:"speed",description:"Roll an extra die for attack speed for one round.",stats:{speed:1},duration:1}));f(Q({name:"Immobilise",type:"speed",description:"Reduce opponent's speed dice by 1 for one round.",target:"opponent",stats:{speedDice:-1},duration:1,canActivate:Le}));f(Q({name:"Knockdown",type:"speed",description:"Reduce opponent's speed dice by 1 for one round.",stats:{speedDice:-1},duration:1,target:"opponent",canActivate:(e,{owner:t})=>e.phase==="speed-roll"&&!Mr(e,R(t),"Steadfast")}));f(mi({name:"Lay of the Land",description:"Add one extra die to attack speed for one round.",target:"owner",speedModifier:1,duration:1}));f(Q({name:"Quicksilver",type:"speed",description:"Increase speed by 2 for one round.",stats:{speed:2},duration:1,canActivate:Le}));f(Q({name:"Radiance",type:"speed",description:"Lower opponent's speed by 2 for one round.",target:"opponent",stats:{speed:-2},duration:1,canActivate:Le}));f({name:"Shackle",type:"speed",description:"Reduce opponent's speed dice by 1 for one round (used once per combat).",canActivate:(e,{owner:t})=>Le(e)&&!z(e,t,"used-shackle"),onActivate:(e,{owner:t})=>(e=T(e,R(t),{stats:{speedDice:-1},source:"Shackle",target:R(t),duration:1}),e=T(e,t,{source:"used-shackle",target:t,duration:void 0,stats:{},visible:!1}),e)});f(Q({name:"Snakes Alive!",type:"speed",description:"Lower opponent's speed by 2 for one round.",stats:{speed:-2},duration:1,canActivate:Le}));f({name:"Stun",type:"speed",description:"Reduce opponent's speed dice by 1 for one round (used once per combat).",canActivate:(e,{owner:t})=>Wu(e)&&!z(e,t,"used-stun"),onActivate:(e,{owner:t})=>(e=T(e,R(t),{stats:{speedDice:-1},source:"Stun",target:R(t),duration:1,icon:""}),e=T(e,t,{source:"used-stun",target:t,duration:void 0,stats:{},visible:!1}),e)});f({name:"Swamp Legs",type:"speed",description:"Reduce opponent's speed by 1 for one round.",onActivate:(e,{owner:t})=>T(e,R(t),{stats:{speed:-1},source:"Swamp Legs",target:R(t),duration:1})});f({name:"Time Shift",type:"speed",description:"Match opponent's speed for three rounds; no other speed abilities can be played during this time.",onActivate:(e,{owner:t})=>{const o=B(e,t).stats.speed,n=B(e,R(t)).stats.speed-o;return T(e,t,{stats:{speed:n},source:"Time Shift",target:t,duration:3})}});f({name:"Webbed",type:"speed",description:"Reduce enemy speed dice",onActivate:(e,{owner:t})=>T(e,R(t),{source:"Webbed",target:R(t),stats:{speedDice:-1},duration:1})});f(Q({name:"Windblast",type:"speed",description:"Reduce opponent's speed dice by 1 for one round.",stats:{speedDice:-1},duration:1,target:"opponent",canActivate:Le}));f(Q({name:"Zapped!",type:"speed",description:"Lower opponent's speed, brawn, and magic by 3 until the end of the round.",stats:{speed:-3,brawn:-3,magic:-3},target:"opponent",duration:1,canActivate:Le}));function mp(e){const t="original"in e?e.original:e,o={type:t.type,id:"hero",name:t.name,stats:{...t.stats},original:{...t},activeAbilities:new Map,activeEffects:[]};return Object.values(t.equipment).forEach(a=>{var n;(n=a==null?void 0:a.abilities)==null||n.forEach(i=>{const r=Ns(i);Ms(o,r,a)})}),o}function fp(e,t=0){const o="original"in e?e.original:e,a={type:o.type,id:`enemy-${t}`,name:o.name,stats:{...o.stats},original:{...o},activeAbilities:new Map,activeEffects:[]};return Object.values(o.abilities).forEach(n=>{const i=Ns(n);Ms(a,i)}),a}function dc(e){return Array.from(e.values()).map(t=>{var o,a;return`${t.name}`+((((o=t.sources)==null?void 0:o.length)??0)>1?` (${(a=t.sources)==null?void 0:a.length})`:"")}).join(", ")}function Va(e){const t=e.enemies[e.activeEnemyIndex],o=Ql(e.hero.stats,e.hero.activeEffects,"hero"),a=Ql(t.stats,t.activeEffects,"enemy");return{hero:o,enemy:a}}function hp(e){return lt(e,(t,o)=>{o!=null&&o.onCombatStart&&(e=o.onCombatStart(e,{ability:t,owner:t.owner}))}),e}function uc(e,t){const a=zh(t).map((i,r)=>fp(i,r));let n={phase:"combat-start",round:0,hero:mp(e),enemies:a,activeEnemyIndex:0,logs:[],backpack:e.backpack.filter(i=>i&&(!(i!=null&&i.uses)||i.uses>0)),damageDealt:[]};return n=D(n,{round:0,message:"Combat started",type:"info"}),n=hp(n),n=Rt(n),n.hero.activeAbilities.size>0&&(n=D(n,{message:`Active hero abilities: ${dc(n.hero.activeAbilities)}`})),n.enemies.forEach((i,r)=>{i.activeAbilities.size>0&&(n=D(n,{message:`Active ${i.name} abilities: ${dc(i.activeAbilities)}`}))}),n}function pp(e){return e={...e,round:e.round+1,phase:"round-start",heroSpeedRolls:void 0,enemySpeedRolls:void 0,winner:void 0,damage:void 0,damageDealt:[],usedAbilities:[]},lt(e,(t,o)=>{o.onRoundStart&&(e=o.onRoundStart(e,{ability:t,owner:t.owner}))}),D(e,{message:"Round started."})}function bp(e,t){const o=Ut(t),a=e.hero.activeAbilities.get(o);if(!a||!a.uses||a.uses<=0)return e;const n=vt(o);return!n||!n.onActivate||["speed","combat"].includes(n.type)&&(e.usedAbilities||[]).some(r=>r.type===n.type)||(e=n.onActivate(e,{owner:a.owner,ability:a}),e.pendingInteraction)?e:(e=Iu(e,"hero",o),["speed","combat"].includes(n.type)&&(e={...e,usedAbilities:[...e.usedAbilities||[],{name:o,type:n.type}]}),Rt(e))}function gp(e,t){var s;if(!e.pendingInteraction)return console.error("No pending interaction to resolve"),e;const{requests:o,ability:a,callback:n}=e.pendingInteraction;let i={...e,pendingInteraction:void 0};i=n(i,t),a.uses&&(a.uses-=1),(!a.uses||a.uses===0)&&i.hero.activeAbilities.delete(Ut(a.name));const r=vt(a.name);return r&&["speed","combat"].includes(r.type)&&(i={...i,usedAbilities:[...i.usedAbilities||[],{name:a.name,type:r.type}]}),o.some(c=>c.type==="dice")&&(e.phase==="speed-roll"?e=js(e):e.phase==="damage-roll"&&(e=ju(e,(s=e.damage)==null?void 0:s.damageRolls))),Rt(i)}function kp(e,t){const o=e.backpack[t];return o.uses!==void 0&&(o.uses-=1),e={...e,backpack:e.backpack.filter(a=>a&&(a.uses===void 0||a.uses>0))},e=D(e,{message:`Used item ${o.name} (${o.description}).`+(o.uses!==void 0?` (${o.uses} uses left)`:"")}),e}function yp(e,t){const o=e.backpack[t];return o?(e=Ih(e,o.effect),e=kp(e,t),lt(e,(a,n)=>{n.onBackpackItemUse&&(e=n.onBackpackItemUse(e,{ability:a,owner:a.owner},o))}),e.phase==="speed-roll"&&(e=js(e)),Rt(e)):(e=D(e,{message:`No item at index ${t} found in backpack.`,type:"warning"}),e)}function wp(e){return lt(e,(t,o)=>{o!=null&&o.onSpeedRoll&&(e=o.onSpeedRoll(e,{ability:t,owner:t.owner}))}),e}function js(e){const t=U(e.heroSpeedRolls||[]),o=U(e.enemySpeedRolls||[]),a=Va(e),n=Number(t)+Number(a.hero.speed),i=Number(o)+Number(a.enemy.speed);let r,s="";if(a.hero.speed!==e.hero.stats.speed){const d=a.hero.speed-e.hero.stats.speed;s+=d>0?` (+${d} mod)`:` (${d} mod)`}let c=`Speed: Hero ${n}${s} vs Enemy ${i}.`;return n>i?(r="hero",c+=" Hero wins speed round"):i>n?(r="enemy",c+=" Enemy wins speed round"):(r=null,c+=" Draw. No damage this round"),e={...e,winner:r},e=D(e,{message:c}),e}function vp(e){const t=[];let o=e;return lt(e,(a,n)=>{if(n.onPassiveAbility){const i=o;if(o=n.onPassiveAbility(o,{ability:a,owner:a.owner}),o!==i){const r=[],s=o.hero.stats.health-i.hero.stats.health;s!==0&&r.push({target:"hero",type:s>0?"heal":"damage",amount:Math.abs(s),message:`${s>0?"Heals":"Deals"} ${Math.abs(s)} damage to Hero`}),o.enemies.forEach((c,d)=>{const b=i.enemies[d];if(b){const m=c.stats.health-b.stats.health;m!==0&&r.push({target:"enemy",type:m>0?"heal":"damage",amount:Math.abs(m),message:`${m>0?"Heals":"Deals"} ${Math.abs(m)} damage to ${b.name}`})}}),t.push({owner:a.owner,abilityName:a.name,description:a.def.description,changes:r})}}}),{previews:t,finalState:o}}function Sp(e,t,o){const a=Va(e);return e={...e,phase:"speed-roll",heroSpeedRolls:oe(a.hero.speedDice??2),enemySpeedRolls:oe(a.enemy.speedDice??2)},e=D(e,{message:`Hero rolled ${le(e.heroSpeedRolls)}=${U(e.heroSpeedRolls)}`},{message:`Enemy rolled ${le(e.enemySpeedRolls)}=${U(e.enemySpeedRolls)}`}),e=wp(e),e=js(e),Rt(e)}function Rp(e,t){if(!e.winner)return console.log("ERROR: No winner found in state"),e;const a=Va(e)[e.winner].damageDice??1;return t||(t=oe(a)),e=ju(e,t),Rt(e)}function zu(e){if(!e.damage||!e.winner)return null;const t=Va(e),o=U(e.damage.damageRolls),a=e.winner,n=a==="hero"?t.hero:t.enemy,i=n.brawn>=n.magic,r=i?n.brawn:n.magic,s=i?"brawn":"magic",c=e.damage.modifiers,d=c.reduce((v,k)=>v+k.amount,0),h=(R(a)==="hero"?t.hero:t.enemy).armour,y=Math.max(0,o+r+d-h);return{diceTotal:o,skill:r,skillName:s,modifiers:c,modifiersTotal:d,armour:h,totalDamage:y}}function _p(e){const t=zu(e);if(!t)return console.log("ERROR: No damage found in state"),e;e={...e,phase:"apply-damage"};const o=e.winner,a=R(o);return e=E(e,As,a,t.totalDamage,`Total attack damage to ${a}: ${t.totalDamage} = ${t.diceTotal} + ${t.skill} + ${t.modifiersTotal} - ${t.armour}`),Rt(e)}function Hp(e){return lt(e,(t,o)=>{o.onPassiveAbility&&(e=o.onPassiveAbility(e,{ability:t,owner:t.owner}))}),e}function Tp(e){return e={...e,phase:"passive-damage"},e=Hp(e),e=D(e,{message:"Passive damage applied."}),Rt(e)}function xp(e){const t=o=>o.map(a=>a.duration!==void 0?{...a,duration:a.duration-1}:a).filter(a=>a.duration===void 0||a.duration>0);return e={...e,phase:"round-end",hero:{...e.hero,activeEffects:t(e.hero.activeEffects)},enemies:e.enemies.map(o=>({...o,activeEffects:t(o.activeEffects)}))},e=D(e,{message:"Round ended"}),e}function Rt(e){if(e.phase==="combat-end")return e;if(e.hero.stats.health<=0)return Ir(e);const t=e.enemies.some(a=>a.original.isMaster&&a.stats.health<=0),o=!e.enemies.some(a=>a.stats.health>0);return t||o?Ir(e):e}function Lp(e){return lt(e,(t,o)=>{o.onCombatEnd&&(e=o.onCombatEnd(e,{ability:t,owner:t.owner}))}),e}function Ir(e){return e={...e,phase:"combat-end"},e=Lp(e),e.phase!=="combat-end"||(e=D(e,{message:"Combat ended"}),e.hero.original.backpack=e.backpack,e.hero.original.backpack=e.hero.original.backpack.fill(null,e.backpack.length,5)),e}function Cp(e,t){const o=Array.isArray(t)?t:[t],a=uc(e,o),[n,i]=J.useState(a);return{combat:n,activateAbility:u=>{i(g=>bp(g,u))},useBackpackItem:u=>{i(g=>yp(g,u))},rollSpeedDice:()=>{i(u=>Sp(u))},commitSpeedAndRollDamageDice:()=>{i(u=>Rp(u))},confirmDamageRoll:()=>{i(u=>_p(u))},confirmBonusDamage:()=>{i(u=>Tp(u))},nextRound:()=>{i(u=>pp(xp(u)))},endCombat:()=>{i(u=>Ir(u))},restartCombat:()=>{const u=Array.isArray(t)?t:[t],g=uc(e,u);i(g)},resolveInteraction:u=>{i(g=>gp(g,u))},updateCombatState:u=>{i(Rt(u))},setActiveEnemy:u=>{i(g=>u<0||u>=g.enemies.length?g:{...g,activeEnemyIndex:u})}}}const Pp=({logs:e})=>{const[t,o]=J.useState(!1);return l.jsxs("div",{className:`combat-log ${t?"fullscreen":""}`,children:[l.jsxs("div",{className:"log-header",children:[l.jsx("span",{className:"log-title",children:"Combat Log"}),l.jsx("button",{className:"log-toggle",onClick:()=>o(!t),children:t?" Minimize":" Expand"})]}),l.jsx("div",{className:"log-content",children:[...e].reverse().map((a,n)=>l.jsxs("div",{className:`log-entry ${a.type}`,children:["[",a.round,"] ",a.message]},n))})]})},Fp=({title:e,icon:t,children:o,onClose:a})=>l.jsx("div",{className:"ability-modal-overlay",onClick:a,children:l.jsxs("div",{className:"ability-modal-content",onClick:n=>n.stopPropagation(),children:[a&&l.jsx("button",{className:"ability-modal-close close-btn",onClick:a,children:""}),l.jsxs("div",{className:"ability-modal-header",children:[t&&l.jsx("div",{className:"ability-icon-huge",children:t}),l.jsx("div",{className:"ability-modal-title",children:l.jsx("h3",{children:e})})]}),o]})}),Dp=({children:e,className:t})=>l.jsx("div",{className:`ability-modal-body ${t||""}`,children:e}),Ep=({children:e})=>l.jsx("div",{className:"ability-modal-actions",children:e}),ht=Object.assign(Fp,{Content:Dp,Actions:Ep}),$u=({variant:e="primary",className:t="",children:o,...a})=>l.jsx("button",{className:`btn btn-${e} ${t}`,...a,children:o}),et=({className:e="",children:t,...o})=>l.jsx($u,{variant:"primary",className:e,...o,children:t}),ba=({className:e="",children:t,...o})=>l.jsx($u,{variant:"secondary",className:e,...o,children:t}),Ap=({effect:e,onClose:t,onRemove:o})=>{let a=e.icon;if(!a){const r=vt(e.source);a=Wa(r)}const n=$a(e),i=e.duration===void 0?"Infinite":`${e.duration} rounds`;return l.jsxs(ht,{title:e.source,icon:a,onClose:t,children:[l.jsx(ht.Content,{children:l.jsxs("div",{className:"effect-overlay-content",children:[n&&l.jsx("p",{children:n}),l.jsxs("p",{className:"effect-overlay-duration",children:["Duration: ",i]})]})}),l.jsx(ht.Actions,{children:l.jsx(l.Fragment,{children:o?l.jsx(et,{className:"btn-remove-effect",onClick:o,children:"Remove Effect"}):l.jsx(et,{onClick:t,children:"Close"})})})]})},Ou=({effect:e,onClick:t,onRemove:o})=>{const[a,n]=J.useState(!1);let i="",r;const s=e.stats;s.damageModifier?(i=A("damage"),r=s.damageModifier):s.speed?(i=A("speed"),r=s.speed):s.brawn?(i=A("brawn"),r=s.brawn):s.magic?(i=A("magic"),r=s.magic):s.armour?(i=A("armour"),r=s.armour):s.health?(i=A("health"),r=s.health):s.speedDice?(i=A("die"),r=s.speedDice):s.damageDice&&(i=A("die"),r=s.damageDice),e.icon&&(i=e.icon);let c=r===void 0?"":r;(r??!1)&&(c="+"+c);const d=e.duration===void 0?"":e.duration,b=()=>{t&&t(),n(!0)},m=()=>{n(!1)},h=o?()=>{o(),n(!1)}:void 0;return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"active-effect-icon",onClick:b,title:e.source,children:[l.jsx("span",{children:i}),c?l.jsx("span",{className:"effect-value",children:c}):null,d?l.jsx("span",{className:"effect-duration-badge",children:d}):null]}),a&&l.jsx(Ap,{effect:e,onClose:m,onRemove:h})]})},Vu=({name:e,currentHealth:t,maxHealth:o,speed:a,brawn:n,magic:i=void 0,armour:r=void 0,isEnemy:s=!1,activeEffects:c=[]})=>{const d=Math.max(0,Math.min(100,t/o*100));return l.jsxs("div",{className:`combatant-card ${s?"enemy":""}`,children:[l.jsx("div",{className:"combatant-name",children:e}),l.jsxs("div",{className:"health-bar-row",children:[l.jsx("div",{className:"health-bar-container",children:l.jsx("div",{className:"health-bar",style:{width:`${d}%`}})}),l.jsxs("div",{className:"health-bar-text",children:[t,"/",o]})]}),l.jsxs("div",{className:"combatant-stats",children:[l.jsxs("div",{children:[A("speed")," ",a]}),n>=(i??-1)?l.jsxs("div",{children:[A("brawn")," ",n]}):l.jsxs("div",{children:[A("magic")," ",i]}),r&&r>0?l.jsxs("div",{children:[A("armour")," ",r]}):null]}),c.length>0&&l.jsx("div",{className:"combatant-effects",children:c.map((b,m)=>l.jsx(Ou,{effect:b},m))})]})},Np=({enemies:e,activeIndex:t,onSelect:o})=>{const a=e[t],n=()=>{o((t-1+e.length)%e.length)},i=()=>{o((t+1)%e.length)};return a?l.jsx("div",{className:"enemy-carousel",children:l.jsxs("div",{className:"carousel-container",style:{position:"relative"},children:[l.jsx(Vu,{name:a.name,currentHealth:a.stats.health,maxHealth:a.stats.maxHealth,speed:a.stats.speed,brawn:a.stats.brawn,magic:a.stats.magic,armour:a.stats.armour,isEnemy:!0,activeEffects:a.activeEffects}),e.length>1&&l.jsxs(l.Fragment,{children:[l.jsx("button",{className:"carousel-btn prev-btn nc-btn",onClick:n,"aria-label":"Previous Enemy",children:""}),l.jsx("div",{className:"carousel-dot-indicator",children:e.map((r,s)=>{const c=r.stats.health<=0,d=s===t;return l.jsx("div",{className:`indicator-dot ${d?"active":""} ${c?"dead":""}`,title:`${r.name} ${c?"(Defeated)":""}`},r.id)})}),l.jsx("button",{className:"carousel-btn next-btn nc-btn",onClick:i,"aria-label":"Next Enemy",children:""})]}),a.stats.health<=0&&l.jsx("div",{className:"enemy-status-badge dead",children:"DEFEATED"})]})}):null},Mp=({ability:e,onClick:t})=>{const o=vt(e.name),a=Wa(o);return l.jsxs("button",{className:"ability-item-compact",onClick:t,children:[l.jsx("div",{className:"ability-icon-large",children:a}),l.jsx("div",{className:"ability-name-compact",children:e.name})]})},Bp=({item:e,onClick:t})=>{const a=(n=>{const i=n.toLowerCase();return i.includes("potion")?"":i.includes("bomb")?"":i.includes("scroll")?"":""})(e.name);return l.jsxs("button",{className:"combat-backpack-item",onClick:t,disabled:e.uses===0,title:`${e.name} (Uses: ${e.uses})`,children:[l.jsx("div",{className:"backpack-icon-large",children:a}),l.jsx("div",{className:"backpack-name-compact",children:e.name}),e.uses!==void 0&&l.jsx("div",{className:"backpack-uses-badge",children:e.uses})]})},jp=({combat:e,onActivateAbility:t,onUseBackbackItem:o})=>{var b;const[a,n]=J.useState(null),i=m=>{const h=vt(m);return!h||h.type==="passive"||!h.onActivate||["speed","combat"].includes(h.type)&&(e.usedAbilities||[]).some(v=>v.type===h.type)?!1:h.canActivate?h.canActivate(e,{owner:"hero"}):!0},r=m=>{o(m)},s=()=>{a&&(t(a.name),n(null))},d=[...e.hero.activeAbilities.values()].filter(m=>i(m.name)).sort((m,h)=>m.name.localeCompare(h.name));return d.length===0?null:l.jsxs("div",{className:"ability-selector-container",children:[l.jsxs("div",{className:"ability-list-horizontal",children:[d.map((m,h)=>l.jsx(Mp,{ability:m,onClick:()=>n(m)},h)),(b=e.hero)==null?void 0:b.original.backpack.map((m,h)=>m&&(m.uses===void 0||m.uses>0)&&l.jsx(Bp,{item:m,onClick:()=>r(h)},`backpack-${h}`))]}),a&&l.jsxs(ht,{title:a.name+(a.uses?` (x${a.uses})`:""),icon:Wa(a.def),onClose:()=>n(null),children:[l.jsxs(ht.Content,{children:[l.jsx("p",{className:"ability-modal-description",children:a.def.description}),a.sources&&l.jsxs("p",{className:"text-dim text-sm",style:{marginTop:"8px"},children:["Source(s): ",a.sources.map(m=>m.name).join(", ")]})]}),l.jsx(ht.Actions,{children:l.jsx(et,{onClick:s,children:"Use Ability"})})]})]})},Qt=({title:e,description:t=void 0,children:o,combat:a,onActivateAbility:n,onUseBackpackItem:i,actions:r})=>l.jsxs("div",{className:"phase-container",children:[l.jsxs("div",{className:"phase-header",children:[l.jsx("h2",{children:a.round>0?`Round ${a.round} - ${e}`:e}),t&&l.jsx("div",{className:"phase-description",children:t})]}),l.jsx("div",{className:"phase-main-content",children:o}),n&&i&&l.jsx(jp,{combat:a,onActivateAbility:n,onUseBackbackItem:i}),l.jsx("div",{className:"phase-actions",children:r})]}),Ip=({combat:e,rollSpeedDice:t,activateAbility:o,useBackpackItem:a})=>l.jsx(Qt,{title:"Combat Start",description:"Prepare to fight!",combat:e,onActivateAbility:o,onUseBackpackItem:a,actions:l.jsx("button",{className:"btn btn-primary btn-phase-action",onClick:t,children:"Roll Speed Dice"})}),Wp=({combat:e,rollSpeedDice:t,activateAbility:o,useBackpackItem:a})=>l.jsx(Qt,{title:`Round ${e.round}`,description:"Prepare for the next round!",combat:e,onActivateAbility:o,onUseBackpackItem:a,actions:l.jsx("button",{className:"btn btn-primary btn-phase-action",onClick:t,children:"Roll Speed Dice"})}),Qn=({values:e,label:t,onDieClick:o,mode:a="normal",selectedIndices:n=[]})=>{const[i,r]=J.useState([]),[s,c]=J.useState(e?new Array(e.length).fill(1):[]),d=J.useRef("");J.useEffect(()=>{const h=JSON.stringify(e);if(e&&h!==d.current){const y=d.current?JSON.parse(d.current):[];d.current=h;const v=[];if(e.forEach((k,_)=>{const p=y[_];(!p||p.value!==k.value||p.isRerolled!==k.isRerolled)&&v.push(_)}),v.length>0){r(v);const k=setInterval(()=>{c(oe(e.length).map(_=>_.value))},50);return setTimeout(()=>{clearInterval(k),r([])},600),()=>clearInterval(k)}}else e||(d.current=h)},[e]);const b=e?e.map((h,y)=>i.includes(y)?{value:s[y],isRerolled:!1}:h):[],m=(h,y)=>{i.includes(h)||a!=="select-die"||!o||y.isRerolled||o(h)};return l.jsxs("div",{className:`dice-wrapper dice-wrapper--${a}`,children:[t&&l.jsx("div",{className:"dice-label",children:t}),l.jsx("div",{className:"dice-container",children:b.map((h,y)=>{const v=i.includes(y),k=a==="select-die"&&!!o&&!v&&!h.isRerolled,_=n.includes(y);return l.jsx("div",{className:`die d6 ${v?"rolling":""} ${k?"interactive":"static"} ${h.isRerolled?"rerolled":""} ${_?"selected":""}`,onClick:()=>m(y,h),children:l.jsx("span",{className:"die-result",children:h.value})},y)})})]})},zp=({combat:e,commitSpeedAndRollDamageDice:t,confirmBonusDamage:o,currentInteraction:a,resolveInteraction:n,activateAbility:i,useBackpackItem:r})=>{const s=()=>{if((a==null?void 0:a.type)==="dice")return"Select a die to interact with.";switch(e.winner){case"hero":return"Hero wins speed! Proceed to damage?";case"enemy":return"Enemy wins speed! Brace for impact.";case null:return"Draw! Skip damage phase.";default:return""}},[c,d]=st.useState([]),b=Va(e),m=b.hero.speed,h=U(e.heroSpeedRolls||[]),y=m+h,v=m-e.hero.stats.speed,k=b.enemy.speed,_=U(e.enemySpeedRolls||[]),p=k+_,u=k-jr(e).stats.speed,g=(a==null?void 0:a.type)==="dice",w=g&&((a==null?void 0:a.target)==="hero"||!(a!=null&&a.target)),H=g&&(a==null?void 0:a.target)==="enemy",P=F=>{const Z=(a==null?void 0:a.count)??1;Z>1?c.includes(F)?d(c.filter(I=>I!==F)):c.length<Z&&d([...c,F]):n({request:a,selectedIndexes:[F]})},x=()=>{n({request:a,selectedIndexes:c}),d([])};return l.jsx(Qt,{title:"Speed Roll",description:s(),combat:e,onActivateAbility:i,onUseBackpackItem:r,actions:g?((a==null?void 0:a.count)??1)>1&&l.jsxs(et,{className:"btn-phase-action",onClick:x,disabled:c.length!==((a==null?void 0:a.count)??1),children:["Confirm Selection (",c.length,"/",a==null?void 0:a.count,")"]}):e.winner?l.jsx(et,{className:"btn-phase-action",onClick:t,children:"Roll Damage Dice"}):l.jsx(et,{className:"btn-phase-action",onClick:o,children:"Apply Passive Abilities"}),children:l.jsxs("div",{className:"speed-rolls-container",children:[l.jsxs("div",{className:"speed-dice-container",children:[l.jsx(Qn,{label:"Hero Speed",values:e.heroSpeedRolls,onDieClick:w?P:void 0,mode:w?"select-die":g?"disabled":"normal",selectedIndices:c}),e.heroSpeedRolls&&l.jsxs("table",{className:"dice-breakdown-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{title:"Roll",children:A("die")}),l.jsx("th",{title:"Base Stat",children:A("speed")}),!!v&&l.jsx("th",{title:"Modifiers",children:"+/-"}),l.jsx("th",{})]})}),l.jsx("tbody",{children:l.jsxs("tr",{children:[l.jsx("td",{children:U(e.heroSpeedRolls)}),l.jsx("td",{children:e.hero.stats.speed}),!!v&&l.jsx("td",{children:v>0?`+${v}`:v}),l.jsxs("td",{className:"dice-result-total",children:["= ",y]})]})})]})]}),l.jsxs("div",{className:"speed-dice-container",children:[l.jsx(Qn,{label:"Enemy Speed",values:e.enemySpeedRolls,onDieClick:H?P:void 0,mode:H?"select-die":g?"disabled":"normal"}),e.enemySpeedRolls&&l.jsxs("table",{className:"dice-breakdown-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{title:"Roll",children:A("die")}),l.jsx("th",{title:"Base Stat",children:A("speed")}),!!u&&l.jsx("th",{title:"Modifiers",children:"+/-"}),l.jsx("th",{})]})}),l.jsx("tbody",{children:l.jsxs("tr",{children:[l.jsx("td",{children:U(e.enemySpeedRolls)}),l.jsx("td",{children:jr(e).stats.speed}),!!u&&l.jsx("td",{children:u>0?`+${u}`:u}),l.jsxs("td",{className:"dice-result-total",children:["= ",p]})]})})]})]})]})})},$p=({combat:e,confirmDamageRoll:t,currentInteraction:o,resolveInteraction:a,activateAbility:n,useBackpackItem:i})=>{var y,v;const[r,s]=st.useState([]),c=(o==null?void 0:o.target)==="hero"&&e.winner==="hero",d=(o==null?void 0:o.target)==="enemy"&&e.winner==="enemy",b=st.useMemo(()=>zu(e),[e]),m=k=>{const _=(o==null?void 0:o.count)??1;_>1?r.includes(k)?s(r.filter(p=>p!==k)):r.length<_&&s([...r,k]):a({request:o,selectedIndexes:[k]})},h=()=>{o&&(a({request:o,selectedIndexes:r}),s([]))};return l.jsx(Qt,{title:"Damage Roll",combat:e,onActivateAbility:n,onUseBackpackItem:i,actions:o?((o==null?void 0:o.count)??1)>1&&l.jsxs(et,{className:"btn-phase-action",onClick:h,disabled:r.length!==((o==null?void 0:o.count)??1),children:["Confirm Selection (",r.length,"/",o==null?void 0:o.count,")"]}):l.jsx(et,{className:"btn-phase-action",onClick:t,children:"Apply Damage"}),children:l.jsxs("div",{className:"damage-rolls-container",children:[l.jsxs("div",{className:"damage-dice-container",children:[e.winner==="hero"&&l.jsx(Qn,{label:e.winner==="hero"?"Hero":"Enemy",values:(y=e.damage)==null?void 0:y.damageRolls,onDieClick:c?m:void 0,mode:c?"select-die":o?"disabled":"normal",selectedIndices:r}),e.winner==="enemy"&&l.jsx(Qn,{label:"Enemy Damage",values:(v=e.damage)==null?void 0:v.damageRolls,onDieClick:d?m:void 0,mode:d?"select-die":o?"disabled":"normal",selectedIndices:r}),l.jsx("div",{className:"damage-breakdown-container",children:b&&l.jsxs("table",{className:"dice-breakdown-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{title:"Roll",children:A("die")}),!!b.skill&&l.jsx("th",{title:"Base Stat",children:b.skillName==="brawn"?A("brawn"):A("magic")}),!!b.modifiersTotal&&l.jsx("th",{title:"Modifiers",children:A("modifier")}),!!b.armour&&l.jsx("th",{title:"Armour",children:A("armour")}),l.jsx("th",{})]})}),l.jsx("tbody",{children:l.jsxs("tr",{children:[l.jsx("td",{children:b.diceTotal}),!!b.skill&&l.jsx("td",{children:b.skill}),!!b.modifiersTotal&&l.jsx("td",{children:b.modifiersTotal>0?`+${b.modifiersTotal}`:b.modifiersTotal}),!!b.armour&&l.jsxs("td",{children:["-",b.armour]}),l.jsxs("td",{className:"dice-result-total",children:["= ",b.totalDamage]})]})})]})})]}),b&&b.modifiers.length>0&&l.jsxs("div",{className:"damage-modifier-breakdown",children:[l.jsx("h6",{children:"Modifiers"}),l.jsx("ul",{className:"damage-modifiers-list",children:b.modifiers.map((k,_)=>l.jsxs("li",{className:"damage-modifier-row",children:[l.jsx("span",{className:"modifier-source",children:k.source}),l.jsx("span",{className:"modifier-amount",children:k.amount>0?`+${k.amount}`:k.amount})]},_))})]})]})})},Op=({combat:e,confirmBonusDamage:t,activateAbility:o,useBackpackItem:a})=>l.jsx(Qt,{title:"Passive Damage",combat:e,onActivateAbility:o,onUseBackpackItem:a,actions:l.jsx("div",{children:l.jsx("button",{className:"btn btn-primary btn-phase-action",onClick:t,children:"Apply Passive Abilities"})}),children:l.jsx("div",{className:"passive-preview-list",style:{marginBottom:"1rem"},children:vp(e).previews.map((n,i)=>l.jsxs("div",{className:`passive-preview-item ${n.owner}`,children:[l.jsxs("strong",{children:[n.abilityName,":"]}),l.jsx("ul",{style:{margin:"0.5rem 0 0 1rem",padding:0},children:n.changes.map((r,s)=>l.jsx("li",{style:{listStyle:"none"},children:r.message},s))}),!n.changes.length&&l.jsx("span",{style:{marginLeft:"0.5em"},children:n.description})]},i))})}),mc=({combatant:e,onHealthChange:t,onRemoveEffect:o})=>l.jsxs("div",{className:"combatant-editor-content",children:[l.jsxs("div",{className:"stat-row health",children:[l.jsxs("span",{className:"stat-label",children:[l.jsx("span",{className:"stat-icon",children:A("health")}),"Health"]}),l.jsx("div",{className:"stat-controls",children:l.jsx(Ct,{value:e.stats.health,onChange:t,min:0,max:e.stats.maxHealth,label:`/ ${e.stats.maxHealth}`})})]}),l.jsxs("div",{className:"editor-subsection",children:[l.jsx("h4",{children:"Active Effects"}),e.activeEffects.length===0?l.jsx("p",{className:"empty-state",children:"No active effects"}):l.jsx("div",{className:"effect-grid",children:e.activeEffects.map((a,n)=>l.jsx(Ou,{effect:a,onRemove:()=>o(n)},n))})]})]}),Gu=({combat:e,onApply:t,onCancel:o})=>{const[a,n]=J.useState(e),[i,r]=J.useState("hero"),s=m=>{n({...a,hero:{...a.hero,stats:{...a.hero.stats,health:m}}})},c=m=>{if(typeof i!="number")return;const h=[...a.enemies];h[i]={...h[i],stats:{...h[i].stats,health:m}},n({...a,enemies:h})},d=m=>{n({...a,hero:{...a.hero,activeEffects:a.hero.activeEffects.filter((h,y)=>y!==m)}})},b=m=>{if(typeof i!="number")return;const h=[...a.enemies],y=h[i];h[i]={...y,activeEffects:y.activeEffects.filter((v,k)=>k!==m)},n({...a,enemies:h})};return l.jsxs(za,{title:"Combat State Editor",className:"combat-state-editor-card",onClose:o,children:[l.jsx("div",{className:"selector-header",children:l.jsxs("div",{className:"editor-tabs",children:[l.jsxs("button",{className:`tab-btn ${i==="hero"?"active":""}`,onClick:()=>r("hero"),children:[" ",a.hero.name]}),a.enemies.map((m,h)=>l.jsxs("button",{className:`tab-btn ${i===h?"active":""}`,onClick:()=>r(h),children:[" ",m.name,m.stats.health<=0&&" (Defeated)"]},h))]})}),l.jsx("div",{className:"editor-tab-content",children:i==="hero"?l.jsx(mc,{combatant:a.hero,type:"hero",onHealthChange:s,onRemoveEffect:d}):l.jsx(mc,{combatant:a.enemies[i],type:"enemy",onHealthChange:c,onRemoveEffect:b},i)}),l.jsxs("div",{className:"editor-actions",children:[l.jsx(ba,{onClick:o,children:"Cancel"}),l.jsx(et,{onClick:()=>t(a),children:"Apply Changes"})]})]})},Vp=({combat:e,nextRound:t,activateAbility:o,useBackpackItem:a,onUpdateState:n})=>{const[i,r]=st.useState(!1);return l.jsxs(Qt,{title:"Round Summary",combat:e,onActivateAbility:o,onUseBackpackItem:a,actions:l.jsxs(l.Fragment,{children:[l.jsx("button",{className:"btn btn-secondary btn-phase-action",onClick:()=>r(!0),children:"Fix State"}),l.jsx("button",{className:"btn btn-primary btn-phase-action",onClick:t,children:"Next Round"})]}),children:[l.jsx("div",{children:"TODO: Show summary of the changes in this round"}),i&&l.jsx(Gu,{combat:e,onApply:s=>{n(s),r(!1)},onCancel:()=>r(!1)})]})},Gp=({combat:e,nextRound:t,activateAbility:o,useBackpackItem:a})=>l.jsx(Qt,{title:"Round End",description:`Round ${e.round} complete. prepare for next round.`,combat:e,onActivateAbility:o,onUseBackpackItem:a,actions:l.jsxs(et,{className:"btn-phase-action",onClick:t,children:["Start Round ",e.round+1]})}),Up=({combat:e,onCombatFinish:t,restartCombat:o,onUpdateState:a})=>{var b,m,h;const[n,i]=st.useState(!1),r=(((b=e.hero)==null?void 0:b.stats.health)??0)>0,s=((h=(m=jr(e))==null?void 0:m.original)==null?void 0:h.name)||"Enemy",c=()=>{t({health:e.hero.original.stats.maxHealth,backpack:e.backpack})},d=()=>{t({backpack:e.backpack})};return l.jsx(Qt,{title:r?"VICTORY!":"DEFEAT!",description:r?`You have triumphed over ${s}!`:`You have been defeated by ${s}.`,combat:e,actions:l.jsxs(l.Fragment,{children:[l.jsx(et,{onClick:c,children:"Restore Health & Move On"}),l.jsx(ba,{onClick:d,children:"Exit without Healing"}),l.jsx(ba,{onClick:o,children:"Retry"}),l.jsx(ba,{onClick:()=>i(!0),children:"Fix State"})]}),children:n&&l.jsx(Gu,{combat:e,onApply:y=>{a(y),i(!1)},onCancel:()=>i(!1)})})},Kp=({ability:e,interaction:t,onResolve:o})=>{if(!t||t.type!=="choices"||!t.choices)return null;const a=n=>{o({request:t,selectedIndexes:[n]})};return l.jsxs(ht,{title:e.name,icon:Wa(e.def),children:[l.jsx(ht.Content,{children:l.jsx("p",{className:"ability-modal-description",children:e.def.description})}),l.jsx(ht.Actions,{children:t.choices.map((n,i)=>l.jsx(ba,{onClick:()=>a(i),children:n},i))})]})},qp=""+new URL("hero_background-nBmexkXQ.png",import.meta.url).href,Qp=""+new URL("monster_background-DONXtk9A.png",import.meta.url).href,Zp=({hero:e,enemy:t,onCombatFinish:o})=>{var g,w,H,P;const{combat:a,activateAbility:n,useBackpackItem:i,rollSpeedDice:r,commitSpeedAndRollDamageDice:s,confirmDamageRoll:c,confirmBonusDamage:d,resolveInteraction:b,nextRound:m,restartCombat:h,updateCombatState:y,setActiveEnemy:v}=Cp(e,t),[k,_]=J.useState(null);st.useEffect(()=>{a.pendingInteraction?_({currentIndex:0,length:a.pendingInteraction.requests.length,collectedResponses:[]}):_(null)},[a.pendingInteraction]);const p=()=>{var x;return(x=a.pendingInteraction)==null?void 0:x.requests[(k==null?void 0:k.currentIndex)??0]},u=x=>{if(!k)return;const F={...k,currentIndex:k.currentIndex+1,collectedResponses:[...k.collectedResponses,x]};if(F.currentIndex<F.length){_(F);return}b(F.collectedResponses),_(null)};return l.jsxs("div",{className:"combat-arena",children:[l.jsxs("div",{className:"combat-background",children:[l.jsx("div",{className:"hero-bg",style:{backgroundImage:`url(${qp})`}}),l.jsx("div",{className:"monster-bg",style:{backgroundImage:`url(${Qp})`}})]}),l.jsx("div",{className:"arena-header",children:l.jsxs("div",{className:"combatants",children:[l.jsx(Vu,{name:e.name,currentHealth:((g=a.hero)==null?void 0:g.stats.health)??0,maxHealth:e.stats.maxHealth,speed:e.stats.speed,brawn:e.stats.brawn,magic:e.stats.magic,armour:e.stats.armour,activeEffects:a.hero.activeEffects}),l.jsx("div",{className:"vs-separator",children:"VS"}),l.jsx(Np,{enemies:a.enemies,activeIndex:a.activeEnemyIndex,onSelect:v})]})}),l.jsxs("div",{className:"arena-center",children:[((w=p())==null?void 0:w.type)==="choices"&&l.jsx(Kp,{ability:a.pendingInteraction.ability,interaction:p(),onResolve:x=>u(x)}),a.phase==="combat-start"&&l.jsx(Ip,{combat:a,rollSpeedDice:r,activateAbility:n,useBackpackItem:i}),a.phase==="round-start"&&l.jsx(Wp,{combat:a,rollSpeedDice:r,activateAbility:n,useBackpackItem:i}),a.phase==="speed-roll"&&l.jsx(zp,{combat:a,commitSpeedAndRollDamageDice:s,confirmBonusDamage:d,currentInteraction:((H=p())==null?void 0:H.type)==="dice"?p():void 0,resolveInteraction:u,activateAbility:n,useBackpackItem:i}),a.phase==="damage-roll"&&l.jsx($p,{combat:a,confirmDamageRoll:c,currentInteraction:((P=p())==null?void 0:P.type)==="dice"?p():void 0,resolveInteraction:u,activateAbility:n,useBackpackItem:i}),a.phase==="apply-damage"&&l.jsx(Op,{combat:a,confirmBonusDamage:d,activateAbility:n,useBackpackItem:i}),a.phase==="passive-damage"&&l.jsx(Vp,{combat:a,nextRound:m,activateAbility:n,useBackpackItem:i,onUpdateState:y}),a.phase==="round-end"&&l.jsx(Gp,{combat:a,nextRound:m,activateAbility:n,useBackpackItem:i}),a.phase==="combat-end"&&l.jsx(Up,{combat:a,onCombatFinish:o,restartCombat:h,onUpdateState:y})]}),l.jsx(Pp,{logs:a.logs})]})},Yp=({hero:e,onCombatFinish:t})=>{const[o,a]=J.useState(null),n=i=>{a(null),t(i)};return o?l.jsx(Zp,{hero:e,enemy:o,onCombatFinish:n}):l.jsx(Nh,{onSelect:a})},Jp={type:"hero",name:"New Hero",path:"",career:"",stats:{speed:0,brawn:0,magic:0,armour:0,health:30,maxHealth:30},equipment:{},backpack:[null,null,null,null,null],money:0},fc="dq-hero-v1";function Xp(){const[e,t]=J.useState(()=>{const k=localStorage.getItem(fc);let _=k?JSON.parse(k):Jp;return _.backpack=[..._.backpack,...Array(5).fill(null)].slice(0,5),_});J.useEffect(()=>{localStorage.setItem(fc,JSON.stringify(e))},[e]);const o={speed:0,brawn:0,magic:0,armour:0,health:e.stats.health,maxHealth:e.stats.maxHealth};e.path==="Warrior"&&(o.maxHealth+=15),e.path==="Mage"&&(o.maxHealth+=10),e.path==="Rogue"&&(o.maxHealth+=5),Object.values(e.equipment).forEach(k=>{k&&k.stats&&(k.stats.speed&&(o.speed+=k.stats.speed),k.stats.brawn&&(o.brawn+=k.stats.brawn),k.stats.magic&&(o.magic+=k.stats.magic),k.stats.armour&&(o.armour+=k.stats.armour),k.stats.maxHealth&&(o.maxHealth+=k.stats.maxHealth))});const a={...e,stats:o},n=J.useMemo(()=>{var k;return Array.from(new Set([...Object.values(e.equipment).flatMap(_=>(_==null?void 0:_.abilities)||[]),...e.career?((k=Hh(e.career))==null?void 0:k.abilities)??[]:[]]))},[e.equipment,e.career]);return{hero:a,activeAbilities:n,updateHealth:k=>{t(_=>({..._,stats:{..._.stats,health:Math.min(Math.max(0,k),o.maxHealth)}}))},updateName:k=>{t(_=>({..._,name:k}))},updatePath:k=>{t(_=>({..._,path:k,career:""}))},updateCareer:k=>{t(_=>({..._,career:k}))},updateMoney:k=>{t(_=>({..._,money:Math.max(0,k)}))},equipItem:(k,_)=>{t(p=>{let u=p.money;return n.forEach(g=>{const w=vt(g);w&&w.onEquipItem&&(u=w.onEquipItem(p,k,_).money)}),{...p,money:u,equipment:{...p.equipment,[_]:k}}})},unequipItem:k=>{t(_=>{const p={..._.equipment};return delete p[k],{..._,equipment:p}})},setBackpackItem:(k,_)=>{t(p=>{const u=[...p.backpack];return u[_]=k,{...p,backpack:u}})},deleteBackpackItem:k=>{t(_=>{const p=[..._.backpack];return p[k]=null,{..._,backpack:p}})},updateBackpack:k=>{t(_=>({..._,backpack:k}))}}}function eb(){const[e,t]=J.useState("stats"),{hero:o,activeAbilities:a,updateHealth:n,updateMoney:i,updateName:r,updatePath:s,updateCareer:c,equipItem:d,unequipItem:b,setBackpackItem:m,deleteBackpackItem:h,updateBackpack:y}=Xp(),v=k=>{k.health&&n(k.health),y(k.backpack),t("stats")};return l.jsxs(Sh,{children:[l.jsx("header",{className:"app-header",children:l.jsx("img",{src:vh,alt:"Destiny Quest",className:"app-logo"})}),l.jsxs("main",{className:"app-main",children:[e==="stats"&&l.jsx(xh,{hero:o,activeAbilities:a,onHealthChange:n,onMoneyChange:i,onNameChange:r,onPathChange:s,onCareerChange:c}),e==="equipment"&&l.jsx(Ah,{hero:o,onEquip:d,onUnequip:b,onSetBackpackItem:m,onDeleteBackpackItem:h}),e==="combat"&&l.jsx(Yp,{hero:o,onCombatFinish:v})]}),l.jsx(Rh,{activeTab:e,onTabChange:t})]})}Oi.createRoot(document.getElementById("root")).render(l.jsx(st.StrictMode,{children:l.jsx(eb,{})}));
