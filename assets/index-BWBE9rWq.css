:root{--min-width: 440px;--max-width: clamp(480px, 100vw, 540px);--dq-gold: #d4af37;--dq-gold-dim: #aa8c2c;--dq-black: #0a0a0a;--dq-dark-grey: #121212;--dq-grey: #1f1f1f;--dq-light-grey: #e0e0e0;--dq-crimson: #e3342f;--dq-green: #2d6a4f;--dq-blue: #2c4f6a;--dq-row-bg: rgba(255, 255, 255, .05);--dq-button-border: var(--dq-gold-dim);--dq-background: var(--dq-black);--dq-card-bg: var(--dq-dark-grey);--dq-hero-color: var(--dq-gold-dim);--dq-enemy-color: var(--dq-crimson);--dq-input-field-bg: var(--dq-dark-grey);--font-heading: "IM Fell English", Georgia, "Times New Roman", Times, serif;--font-body: Georgia, "Times New Roman", Times, serif;--spacing-2xs: clamp(2px, .5vw, 4px);--spacing-xs: clamp(4px, 1vw, 8px);--spacing-sm: clamp(8px, 2vw, 12px);--spacing-md: clamp(12px, 2.5vw, 18px);--spacing-lg: clamp(16px, 3vw, 24px);--spacing-xl: clamp(24px, 4vw, 32px);--font-2xs: clamp(7px, 2vw, 12px);--font-xs: clamp(8px, 2.5vw, 14px);--font-sm: clamp(9px, 3vw, 16px);--font-base: clamp(10px, 3.5vw, 18px);--font-md: clamp(11px, 4vw, 22px);--font-lg: clamp(12px, 4.5vw, 26px);--font-xl: clamp(14px, 5vw, 32px);--font-2xl: clamp(16px, 6vw, 40px);--font-3xl: clamp(18px, 6vw, 40px);--font-4xl: clamp(24px, 8vw, 64px);--radius-sm: clamp(2px, .5vw, 4px);--radius-md: clamp(4px, 1vw, 8px);--radius-lg: clamp(8px, 2vw, 16px);--border-sm: clamp(1px, .1vw, 2px);--border-md: clamp(2px, .2vw, 3px);--border-lg: clamp(3px, .5vw, 4px);--icon-xs: clamp(12px, 3vw, 16px);--icon-sm: clamp(16px, 4vw, 20px);--icon-md: clamp(24px, 6vw, 32px);--icon-lg: clamp(32px, 8vw, 48px);--icon-xl: clamp(48px, 10vw, 64px);--button-sm: clamp(24px, 6vw, 40px);--button-md: clamp(32px, 10vw, 48px);--button-lg: clamp(48px, 12vw, 64px);--button-xl: clamp(64px, 15vw, 80px);--button-2xl: clamp(100px, 20vw, 120px);--nav-height: clamp(64px, 15vw, 80px)}@media (max-width: 360px){:root{--min-width: 320px;--max-width: 350px;--font-base: 9px}}@media (min-width: 360px) and (max-width: 400px){:root{--min-width: 360px;--max-width: 380px}}@media (min-width: 400px) and (max-width: 440px){:root{--min-width: 380px;--max-width: 420px}}@media (min-width: 440px) and (max-width: 480px){:root{--min-width: 420px;--max-width: 460px}}@media (orientation: landscape){:root{--spacing-md: clamp(8px, 2vh, 16px);--spacing-lg: clamp(16px, 4vh, 24px)}}*,*:before,*:after{box-sizing:border-box;margin:0;padding:0}body{background-image:url(./bg-destiny-D9yjhSfY.jpg);background-size:cover;background-position:center;background-attachment:fixed;color:var(--dq-light-grey);font-family:var(--font-body),sans-serif;font-size:var(--font-base);line-height:1.5;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;overflow-y:auto;overflow-x:hidden}html{overflow-y:auto}h1,h2,h3,h4,h5,h6{font-family:var(--font-heading),serif;color:var(--dq-gold)}h1{font-size:var(--font-xl)}h2{font-size:var(--font-lg);font-weight:700}h3{font-size:var(--font-lg)}h4{font-size:var(--font-md);font-weight:700}h5{font-size:var(--font-md)}h6{font-size:var(--font-base);font-weight:700}button{cursor:pointer;font-family:inherit}#root{width:100%;min-height:100vh;display:flex;flex-direction:column}.text-gold{color:var(--dq-gold)}.text-dim{color:var(--dq-light-grey);opacity:.7}.text-center{text-align:center}.flex-center{display:flex;justify-content:center;align-items:center}.flex-col{display:flex;flex-direction:column}.flex-between{display:flex;justify-content:space-between;align-items:center}input,select{font-size:var(--font-base);font-family:var(--font-heading);color:#fff;background:var(--dq-input-field-bg);border:none;border-bottom:1px solid var(--dq-hero-color);border-radius:var(--radius-sm);width:70%;line-height:1;padding:var(--spacing-xs)}input:hover,select:hover{border:1px solid var(--dq-hero-color)}.app-header{padding:var(--spacing-md)}.app-logo{max-width:180px;width:100%;height:auto;display:block;margin:0 auto}.app-main{padding:0 var(--spacing-md);padding-bottom:var(--nav-height)}.hero-stats-grid{display:grid;grid-template-columns:1fr 1fr;gap:var(--spacing-sm)}.btn{padding:var(--spacing-md);border:none;border-radius:var(--radius-md);font-weight:700;text-transform:uppercase;cursor:pointer;transition:all .2s;width:100%;font-family:inherit}.btn:disabled{opacity:.5;cursor:not-allowed}.btn:active:not(:disabled){transform:scale(.98)}.btn-primary{background:var(--dq-gold);color:var(--dq-black)}.btn-primary:hover:not(:disabled){background:var(--dq-gold-dim)}.btn-secondary{background:var(--dq-grey);border:1px solid var(--dq-gold-dim);color:var(--dq-gold)}.btn-secondary:hover:not(:disabled){border-color:var(--dq-gold);background:#d4af371a}.hero-header{display:flex;justify-content:space-between;align-items:center}.hero-details{text-align:right}.hero-name{font-weight:700;color:var(--dq-gold)}.hero-path{font-size:var(--font-sm)}.equipment-section{display:flex;flex-direction:column;gap:var(--spacing-sm)}.equipment-heading{font-size:var(--font-base);color:var(--dq-light-grey)}.selector-header{border-bottom:var(--border-sm) solid var(--dq-grey);display:flex;flex-direction:column;gap:var(--spacing-md)}.header-row-top{display:flex;justify-content:space-between;align-items:center;width:100%}.selector-title{color:var(--dq-gold);font-family:var(--font-heading);font-size:var(--font-xl)}.close-btn{background:none;border:none;color:var(--dq-light-grey);font-size:var(--font-2xl);cursor:pointer}.header-row-search{display:flex;flex-direction:row;align-items:center;width:100%;gap:var(--spacing-sm)}.dq-input{flex:1}.items-list{flex:1;overflow-y:auto;display:flex;flex-direction:column;gap:var(--spacing-sm)}.item-card{background:var(--dq-grey);border:var(--border-sm) solid var(--dq-gold-dim);border-radius:var(--radius-sm);padding:var(--spacing-sm);cursor:pointer;transition:all .2s}.item-card:hover{border-color:var(--dq-gold);background:#d4af370d}.item-card-header{display:flex;justify-content:space-between}.item-name{font-weight:700;color:var(--dq-light-grey);margin-bottom:var(--spacing-xs)}.item-source{display:flex;flex-direction:row;gap:var(--spacing-xs)}.item-stats{font-size:var(--font-sm);color:var(--dq-gold)}.item-desc{font-size:var(--font-sm);color:#888;font-style:italic;margin-top:var(--spacing-xs)}.item-meta-container{margin-top:var(--spacing-xs);font-size:var(--font-xs);border:1px solid transparent;transition:border-color .2s}.stats-grid{display:flex;flex-direction:column;gap:var(--spacing-md)}.stat-row{display:flex;align-items:center;justify-content:space-between;padding:var(--spacing-xs);background:var(--dq-row-bg);border-radius:var(--radius-sm);border:1px solid transparent;transition:border-color .2s}.stat-row:focus-within{border-color:var(--dq-gold-dim)}.stat-label{display:flex;align-items:center;gap:var(--spacing-sm);font-weight:700;color:var(--dq-light-grey);text-transform:uppercase;font-size:var(--font-sm);width:100%}.stat-icon{font-size:var(--font-xl);width:auto;text-align:center}.mobile-layout{display:flex;flex-direction:column;min-height:100vh;min-width:var(--min-width);max-width:var(--max-width);margin:0 auto;background-color:var(--dq-dark-grey);border-left:var(--border-sm) solid var(--dq-grey);border-right:var(--border-sm) solid var(--dq-grey);position:relative;width:100%}.mobile-layout-content{flex:1;padding-bottom:var(--spacing-lg)}.bottom-nav{position:fixed;bottom:0;left:50%;transform:translate(-50%);width:100%;background-color:var(--dq-black);border-top:1px solid var(--dq-gold-dim);display:flex;justify-content:space-evenly;padding:var(--spacing-sm) 0;z-index:100;height:var(--nav-height)}.nav-button{background:none;border:none;color:var(--dq-light-grey);display:flex;flex-direction:column;align-items:center;gap:var(--spacing-xs);transition:color .2s ease}.nav-button.active{color:var(--dq-gold)}.nav-button-icon{font-size:var(--font-xl)}.nav-button-label{font-size:var(--font-xs);font-weight:400}.nav-button.active .nav-button-label{font-weight:700}.nav-divider{width:var(--border-sm);background-color:var(--dq-grey)}.number-control{display:flex;align-items:center;justify-content:end;background:transparent;border:none;padding:0;height:auto;width:100%;gap:var(--spacing-sm)}.nc-buttons{display:flex;gap:var(--spacing-sm);align-items:center}.nc-btn{width:var(--button-sm);height:var(--button-sm);border-radius:50%;border:1px solid var(--dq-gold-dim);background:var(--dq-grey);color:var(--dq-gold);display:flex;align-items:center;justify-content:center;cursor:pointer;font-weight:700;-webkit-user-select:none;user-select:none;transition:all .2s;font-size:var(--font-xl);padding:0}.nc-btn:hover:not(:disabled){background:var(--dq-grey-light);border-color:var(--dq-gold)}.nc-btn:active:not(:disabled){background:var(--dq-gold-dim);color:var(--dq-black);transform:scale(.95)}.nc-btn:disabled{opacity:.3;cursor:not-allowed;border-color:var(--dq-grey-light)}.nc-btn-large{font-size:var(--font-xs);width:var(--button-sm);height:var(--button-sm)}.nc-display{display:flex;align-items:center;gap:var(--spacing-xs);min-width:clamp(60px,15vw,100px);justify-content:center}.nc-value{color:var(--dq-gold);font-weight:700;font-size:var(--font-xl);font-family:var(--font-heading);text-align:center}.nc-label{color:var(--dq-gold-dim);font-size:var(--font-sm);text-transform:uppercase}.hero-stats-container{display:flex;flex-direction:column;gap:var(--spacing-md)}.stat-controls{display:flex;align-items:center;gap:var(--spacing-sm);justify-content:center;width:100%}.stat-value{font-size:var(--font-xl);font-weight:700;color:var(--dq-gold);width:var(--button-sm);text-align:center;font-family:var(--font-heading)}.stat-row.health .stat-value{color:var(--dq-crimson)}.stat-max{font-size:var(--font-sm);align-self:center}.attributes-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:var(--spacing-sm)}.attribute-square{display:flex;flex-direction:column;align-items:center;background:var(--dq-row-bg);justify-content:center;gap:var(--spacing-xs);border-radius:var(--radius-md);padding:var(--spacing-xs);aspect-ratio:1;transition:all .2s ease}.attribute-row{display:flex;align-items:center;justify-content:space-between;gap:var(--spacing-xs)}.stat-value-large{font-size:var(--font-xxl);font-family:var(--font-heading);color:var(--dq-gold);font-weight:700;line-height:1}.hero-details{display:flex;flex-direction:column;gap:var(--spacing-sm);width:100%;margin-bottom:var(--spacing-md);background:#0003;padding:var(--spacing-sm);border-radius:var(--radius-sm)}.hero-input{width:100%;transition:all .2s}.hero-path-container{display:flex;gap:var(--spacing-sm);align-items:center}.abilities-section{margin-top:var(--spacing-md);display:flex;flex-direction:column;gap:var(--spacing-sm)}.abilities-header{font-family:var(--font-heading);color:var(--text-dim);font-size:var(--font-sm);text-transform:uppercase;letter-spacing:1px;border-bottom:1px solid var(--dq-border-dim);padding-bottom:var(--spacing-xs)}.abilities-list{display:flex;flex-direction:column;gap:var(--spacing-xs)}.ability-row{display:flex;align-items:flex-start;gap:var(--spacing-sm);background:var(--dq-row-bg);border-radius:var(--radius-md);padding:var(--spacing-sm)}.ability-icon-wrapper{display:flex;align-items:center;justify-content:center;background:#0000004d;border-radius:var(--radius-sm);width:32px;height:32px;flex-shrink:0}.ability-icon{font-size:1.2rem}.ability-details{display:flex;flex-direction:column;gap:4px;flex:1}.ability-header-row{display:flex;align-items:center;justify-content:space-between}.ability-name{font-weight:700;color:var(--dq-gold)}.ability-count{font-size:var(--font-xs);background:var(--dq-gold);color:var(--bg-dark);padding:0 4px;border-radius:4px;font-weight:700}.ability-description{font-size:var(--font-sm);color:var(--text-dim);line-height:1.4;font-style:italic}.dq-card{background:var(--dq-card-bg);padding:var(--spacing-md);border-radius:var(--radius-md);border:1px solid var(--dq-hero-color);gap:var(--spacing-md);display:flex;flex-direction:column;padding-bottom:var(--spacing-md)}.dq-card-title{color:var(--dq-gold);margin:0}.dq-card.combat .dq-card-title{color:var(--dq-enemy-color)}.equipment-slot{aspect-ratio:1;background:var(--dq-row-bg);border:1px solid var(--dq-hero-color);border-radius:var(--radius-sm);display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;cursor:pointer;transition:all .2s;width:var(--button-2xl);height:var(--button-2xl);overflow:clip;gap:0}.equipment-slot:hover{border-color:var(--dq-gold);background:#d4af371a}.equipment-slot.equipped .slot-icon{opacity:1}.slot-label{font-size:var(--font-xs);color:var(--dq-light-grey);text-transform:uppercase}.slot-icon{font-size:var(--font-xl);opacity:.5}.equipment-item-container{display:flex;flex-direction:column;width:100%;align-items:center}.equipment-name-visible{font-size:var(--font-sm);color:var(--dq-gold);text-align:center;line-height:1.2;overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;width:100%;text-overflow:ellipsis;max-height:1rem}.equipment-stats-display{font-size:var(--font-sm);color:var(--dq-green);margin-top:var(--spacing-2xs);text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100%}.equipment-abilities-display{font-size:var(--font-sm);text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100%;max-width:100px;max-height:1rem}.equipment-selector-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#000000d9;display:flex;justify-content:center;align-items:flex-end;z-index:100;padding:var(--spacing-md)}.equipment-selector-modal{border-radius:var(--radius-md) var(--radius-md) 0 0;width:100%;max-width:500px;max-height:80vh;animation:slideUp .3s ease-out}@keyframes slideUp{0%{transform:translateY(100%)}to{transform:translateY(0)}}.meta-entry{margin-right:var(--spacing-sm)}.action-btn-secondary{background:none;border:none;font-size:var(--font-xl);cursor:pointer;color:var(--dq-crimson);transition:transform .2s;padding:var(--spacing-xs);display:flex;align-items:center;justify-content:center}.action-btn-secondary:hover{transform:scale(1.1);color:#ff4d4d}.unequip-card{border:1px dashed var(--dq-crimson);background:#e3342f1a}.unequip-card:hover{background:#e3342f33;border-color:#ff4d4d}.unequip-card .item-name{color:var(--dq-crimson)}.equipment-container{display:flex;flex-direction:column;gap:var(--spacing-sm);width:100%}.equipment-slots{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-sm);width:100%}.human-figure-container{position:relative;width:100%;min-height:600px;aspect-ratio:.6;background-size:cover;background-repeat:no-repeat;background-position:center;border:var(--border-sm) solid var(--dq-grey-dim);border-radius:var(--radius-lg);background-color:var(--dq-black-alpha);margin:0 auto;mix-blend-mode:screen}.positioned-slot{position:absolute;transform:translate(-50%,-50%);width:auto;height:auto;z-index:10}.positioned-slot .equipment-slot{width:var(--button-2xl);height:var(--button-2xl);font-size:var(--font-sm);border-width:2px;background:#000000b3}.positioned-slot .slot-icon{font-size:var(--font-xs);line-height:20px}.positioned-slot .equipment-slot:hover{z-index:20;transform:scale(1.1)}@media (max-width: 600px){.human-figure-container{width:100%}.equipment-name-visible,.equipment-stats-display,.equipment-abilities-display{font-size:var(--font-size-sm)}}.backpack-container{margin-top:var(--spacing-md);display:flex;flex-direction:column;gap:var(--spacing-sm);max-width:100%}.backpack-title{color:var(--dq-light-grey);margin-bottom:var(--spacing-sm);font-size:var(--font-sm)}.backpack-grid{display:flex;overflow-x:auto;gap:var(--spacing-sm);padding-bottom:var(--spacing-sm)}.backpack-slot-wrapper{aspect-ratio:1;flex:0 0 var(--button-2xl);width:var(--button-2xl);height:var(--button-2xl)}.enemy-selector-card{border-color:var(--dq-enemy-color)}.enemy-tabs{display:flex;gap:var(--spacing-sm);border-bottom:var(--border-sm) solid var(--border-color)}.enemy-name-input{display:flex;gap:var(--spacing-sm);border-bottom:var(--border-sm) solid var(--dq-enemy-color)}.enemy-name-input:hover{border:var(--border-sm) solid var(--dq-enemy-color)}.tab-btn{background:none;border:none;color:var(--text-dim);padding:var(--spacing-sm) var(--spacing-md);font-size:var(--font-base);cursor:pointer;border-bottom:var(--border-md) solid transparent;transition:all .2s}.tab-btn:hover{color:var(--text-color)}.tab-btn.active{color:var(--primary-color);border-bottom-color:var(--primary-color)}.enemy-card{cursor:pointer;transition:transform .1s,background-color .2s;border-color:var(--dq-crimson)}.enemy-card:hover{background-color:var(--bg-card-hover);transform:translateY(-1px)}.enemy-list-actions{display:flex;justify-content:flex-end}.custom-enemy-form{padding:var(--spacing-sm);display:flex;flex-direction:column;gap:var(--spacing-md)}.combat-log{background:#000000d9;border-radius:var(--radius-sm);display:flex;flex-direction:column;height:100%;min-height:15vh;border-top:var(--border-md) solid var(--dq-gold-dim);position:relative;z-index:10;transition:all .3s ease}.combat-log.fullscreen{position:fixed;top:0;left:0;width:100%;height:100vh;z-index:1000;border-radius:0;border:none;min-height:100vh}.log-header{display:flex;justify-content:space-between;align-items:center;padding:var(--spacing-sm);border-bottom:1px solid rgba(255,255,255,.1);background:#ffffff0d}.log-title{color:var(--dq-gold);font-size:var(--font-sm);font-weight:700;text-transform:uppercase}.log-toggle{background:transparent;border:1px solid var(--dq-gold-dim);color:var(--dq-gold-dim);font-size:var(--font-xs);padding:var(--spacing-xs) var(--spacing-sm);border-radius:var(--radius-sm);cursor:pointer;transition:all .2s}.log-toggle:hover{background:var(--dq-gold-dim);color:var(--dq-bg-dark)}.log-content{flex:1;overflow-y:auto;padding:var(--spacing-sm);font-size:var(--font-sm)}.log-content::-webkit-scrollbar{width:6px}.log-content::-webkit-scrollbar-track{background:#0000004d}.log-content::-webkit-scrollbar-thumb{background:var(--dq-gold-dim);border-radius:var(--radius-md)}.log-entry{margin-bottom:var(--spacing-xs);border-bottom:var(--border-sm) solid rgba(255,255,255,.05);padding-bottom:var(--spacing-xs)}.log-entry.damage-hero{color:var(--dq-enemy-color)}.log-entry.damage-enemy{color:var(--dq-hero-color)}.log-entry.info{color:var(--dq-light-grey)}.log-entry.win{color:var(--dq-hero-color);font-weight:700}.log-entry.loss{color:var(--dq-enemy-color);font-weight:700}.active-effect-icon{position:relative;display:inline-flex;align-items:center;justify-content:center;width:var(--icon-lg);height:var(--icon-lg);background:var(--dq-row-bg);border:1px solid var(--dq-hero-color);border-radius:4px;cursor:pointer;font-size:var(--font-sm);transition:all .2s}.active-effect-icon:hover{background:var(--surface-active);transform:scale(1.1);z-index:10}.effect-value{font-size:var(--font-sm);font-weight:700;color:var(--text-secondary);text-align:center}.effect-duration-badge{position:absolute;top:calc(-.5 * var(--icon-xs));right:calc(-.5 * var(--icon-xs));background:var(--dq-enemy-color);border:1px solid var(--border-color);border-radius:10px;font-size:var(--font-2xs);color:var(--text-secondary);text-align:center;min-width:var(--icon-xs)}.ability-modal-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000d9;z-index:1000;display:flex;justify-content:center;align-items:center;padding:var(--spacing-lg);animation:fadeIn .2s ease-out}.ability-modal-content{background:var(--dq-black);border:var(--border-sm) solid var(--dq-gold);border-radius:var(--radius-md);padding:var(--spacing-md);width:100%;max-width:400px;display:flex;flex-direction:column;align-items:center;box-shadow:0 10px 30px #00000080;animation:slideUpFade .3s ease-out;position:relative}.ability-modal-close{position:absolute;top:var(--spacing-md);right:var(--spacing-md);z-index:10;line-height:1}.ability-modal-close:hover{color:var(--dq-gold);transform:scale(1.1)}.ability-modal-header{text-align:center;margin-bottom:var(--spacing-md)}.ability-modal-title{display:flex;flex-direction:row;align-items:baseline;gap:var(--spacing-sm)}.ability-icon-huge{font-size:var(--font-4xl);margin-bottom:var(--spacing-sm)}.ability-modal-body{text-align:center;margin-bottom:var(--spacing-lg);color:var(--dq-light-grey)}.ability-modal-description{font-style:italic;line-height:1.4}.ability-modal-actions{display:flex;gap:var(--spacing-md);width:100%}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes slideUpFade{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.combatant-card{background:var(--dq-grey);border:1px solid var(--dq-hero-color);border-radius:8px;padding:12px;display:flex;flex-direction:column;gap:8px;width:40vw;max-width:200px;position:relative}.combatant-card.enemy{border-color:var(--dq-enemy-color)}.combatant-name{font-weight:700;text-align:center;margin-bottom:4px}.health-bar-row{width:100%;gap:var(--spacing-sm);display:flex;flex-direction:row;justify-content:space-between;align-items:center}.health-bar-container{width:100%;height:8px;border-radius:4px;overflow:hidden;background:var(--dq-dark-grey);gap:var(--spacing-sm);display:flex;flex-direction:row;justify-content:space-between;align-items:center;flex-grow:1}.health-bar{height:100%;background:var(--dq-hero-color);transition:width .3s ease}.health-bar-text{text-align:center;font-size:var(--font-xs);color:var(--dq-light-grey)}.combatant-card.enemy .health-bar{background:var(--dq-enemy-color)}.combatant-stats{display:flex;justify-content:space-around;font-size:var(--font-sm)}.combatant-effects{display:flex;flex-wrap:wrap;gap:4px;padding-top:var(--spacing-sm);justify-content:left}.ability-item-compact{display:flex;flex-direction:column;align-items:center;justify-content:center;background:var(--dq-bg-card);background-color:var(--dq-grey);border:var(--border-sm) solid var(--dq-gold-dim);border-radius:var(--radius-sm);padding:var(--spacing-xs);width:var(--button-xl);height:var(--button-xl);overflow:clip;cursor:pointer;transition:all .2s ease;flex-shrink:0}.ability-item-compact:hover{background-color:#d4af371a;border-color:var(--dq-gold);transform:translateY(-2px)}.ability-icon-large{font-size:var(--font-xl);margin-bottom:var(--spacing-xs)}.ability-name-compact{font-size:var(--font-xs);color:var(--dq-light-grey);text-align:center;line-height:1.1;max-width:100%;overflow:hidden;text-overflow:ellipsis}.combat-backpack-item{display:flex;flex-direction:column;align-items:center;justify-content:center;background:linear-gradient(180deg,#3d342b,#2a221b);border:var(--border-sm) solid #f59e0b;border-radius:var(--radius-sm);padding:var(--spacing-xs);width:var(--button-xl);height:var(--button-xl);overflow:visible;cursor:pointer;transition:all .2s ease;flex-shrink:0;position:relative;color:var(--dq-text-primary)}.combat-backpack-item:hover{border-color:#fbbf24;background:linear-gradient(180deg,#4d443b,#3a322b);transform:translateY(-2px);box-shadow:0 4px 12px #f59e0b33}.backpack-icon-large{font-size:var(--font-xl);margin-bottom:var(--spacing-xs)}.backpack-name-compact{font-size:var(--font-xs);color:var(--dq-light-grey);text-align:center;line-height:1.1;max-width:100%;overflow:hidden;text-overflow:ellipsis}.backpack-uses-badge{position:absolute;top:-6px;right:-6px;background-color:#b91c1c;color:#fff;font-size:.7rem;font-weight:700;width:18px;height:18px;border-radius:50%;display:flex;align-items:center;justify-content:center;border:1px solid #7f1d1d;box-shadow:0 2px 4px #00000080;z-index:2}.ability-selector-container{margin-bottom:1rem;text-align:center;max-width:min(100vw,var(--max-width) - 2 * var(--spacing-md))}.ability-list-horizontal{display:flex;overflow-x:auto;padding:var(--spacing-xs);gap:var(--spacing-sm);justify-content:flex-start;-webkit-overflow-scrolling:touch;max-width:100%}.dice-wrapper{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-sm);padding:var(--spacing-sm);border-radius:var(--radius-md);transition:opacity .3s ease,background-color .3s ease}.dice-wrapper--disabled{opacity:.5;pointer-events:none}.dice-wrapper--select-die{background-color:#ffffff0d;border:1px dashed rgba(255,255,255,.2);cursor:pointer}.dice-label{font-size:var(--font-size-sm);color:var(--text-dim);text-transform:uppercase;letter-spacing:.05em;font-weight:600}.dice-container{display:flex;gap:var(--spacing-sm);justify-content:center}.die{width:var(--button-lg);height:var(--button-lg);background:radial-gradient(circle at 30% 30%,#fff,#e0e0e0);border:var(--border-lg) solid #d0d0d0;border-radius:var(--radius-lg);display:flex;align-items:center;justify-content:center;font-size:var(--font-2xl);font-weight:800;color:#222;transition:all .2s ease;-webkit-user-select:none;user-select:none;position:relative;box-shadow:inset -2px -2px 6px #0000001a,inset 2px 2px 6px #fff,2px 2px 5px #0003}.die.interactive{cursor:pointer;border-color:var(--primary-color);box-shadow:0 0 5px rgba(var(--primary-rgb),.3)}.die.interactive:hover{transform:translateY(-2px);box-shadow:inset -2px -2px 6px #0000001a,inset 2px 2px 6px #fff,0 6px 12px rgba(var(--primary-rgb),.4);background:radial-gradient(circle at 30% 30%,#fff,#efefef);border-color:var(--primary-color)}.die.rerolled{opacity:.7;filter:grayscale(.8);border-color:var(--text-dim)}.die.rolling{animation:shake .5s infinite;color:var(--accent-color);border-color:var(--accent-color)}.dice-result-container{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-sm)}.dice-result-breakdown{font-size:var(--font-md);white-space:nowrap}.dice-breakdown-table{border-collapse:collapse;font-size:var(--font-sm);text-align:center}.dice-breakdown-table th{font-size:var(--font-sm);line-height:1;padding:var(--spacing-xs)}.dice-breakdown-table td{font-variant-numeric:tabular-nums;padding:var(--spacing-xs)}.dice-result-total{font-size:var(--font-sm);font-weight:700;color:var(--text-light)}@keyframes shake{0%{transform:translate(1px,1px) rotate(0)}10%{transform:translate(-1px,-2px) rotate(-1deg)}20%{transform:translate(-3px) rotate(1deg)}30%{transform:translate(3px,2px) rotate(0)}40%{transform:translate(1px,-1px) rotate(1deg)}50%{transform:translate(-1px,2px) rotate(-1deg)}60%{transform:translate(-3px,1px) rotate(0)}70%{transform:translate(3px,1px) rotate(-1deg)}80%{transform:translate(-1px,-1px) rotate(1deg)}90%{transform:translate(1px,2px) rotate(0)}to{transform:translate(1px,-2px) rotate(-1deg)}}.speed-rolls-container{display:flex;justify-content:space-around;align-items:flex-start;width:100%;gap:var(--spacing-md)}.speed-dice-container{display:flex;flex-direction:column;gap:var(--spacing-sm);background:var(--dq-row-bg);border-radius:var(--radius-md);width:40vw;align-items:center}.damage-rolls-container{display:flex;justify-content:space-around;flex-direction:row;justify-content:center;width:100%;gap:var(--spacing-md)}.damage-dice-container{display:flex;flex-direction:column;gap:var(--spacing-sm);background:var(--dq-row-bg);border-radius:var(--radius-md);width:40vw;align-items:center}.damage-modifier-breakdown{display:flex;flex-direction:column;gap:var(--spacing-sm);width:50vw;align-items:left}.damage-modifiers-list>li{display:flex;align-items:flex-start;gap:var(--spacing-sm);background:var(--dq-row-bg);border-radius:var(--radius-md);padding:var(--spacing-sm)}.passive-preview-item{background-color:#0003;padding:var(--spacing-sm);padding-left:var(--spacing-md);border-radius:var(--border-radius-sm);width:50vw}.passive-preview-item.hero{border-left:3px solid var(--dq-hero-color)}.passive-preview-item.enemy{border-left:3px solid var(--dq-enemy-color)}.combat-state-editor-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background-color:var(--dq-background);display:flex;justify-content:center;align-items:center;z-index:1000}.combat-state-editor-modal{padding:2rem;border-radius:8px;box-shadow:0 4px 6px var(--dq-shadow);color:var(--dq-text);min-width:300px}.editor-fields{display:flex;flex-direction:column;gap:1rem;margin-bottom:2rem}.field-group{display:flex;justify-content:space-between;align-items:center;gap:1rem}.field-group label{font-weight:700}.field-group input{padding:.5rem;border-radius:4px;border:1px solid #7f8c8d;background-color:#34495e;color:#fff;width:80px}.editor-actions{display:flex;justify-content:flex-end;gap:1rem}.combat-arena{display:grid;grid-template-rows:auto 1fr 20%;gap:var(--spacing-md);height:100%;position:relative}.arena-header{display:flex;flex-direction:column;gap:var(--spacing-sm)}.arena-center{display:flex;flex-direction:column;align-items:center;width:100%;position:relative;gap:var(--spacing-sm);overflow-y:auto}.phase-container{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-md);width:100%;max-width:600px;margin:0 auto}.phase-header{text-align:center;display:flex;flex-direction:column;gap:var(--spacing-xs)}.phase-title{color:var(--dq-gold);font-size:var(--font-lg);font-weight:700;text-transform:uppercase;letter-spacing:1px}.phase-description{color:var(--text-dim);font-size:var(--font-sm)}.phase-main-content{width:100%;display:flex;flex-direction:column;align-items:center;gap:var(--spacing-md);justify-content:center}.phase-actions{display:flex;flex-direction:column;gap:var(--spacing-sm);align-items:center}.damage-section{display:flex;flex-direction:column;gap:var(--spacing-md);width:100%;align-items:center}.combatants{display:flex;justify-content:space-evenly;gap:var(--spacing-md)}.vs-separator{display:flex;align-items:center;font-weight:700;color:var(--dq-gold-dim)}.btn-phase-action{width:100%;max-width:300px}.combat-background{position:absolute;top:0;bottom:0;left:calc(-1 * var(--spacing-md));right:calc(-1 * var(--spacing-md));width:auto;height:100%;z-index:0;overflow:hidden;pointer-events:none}.hero-bg,.monster-bg{position:absolute;top:0;bottom:0;width:50vw;background-size:cover;background-position:center;opacity:.25}.hero-bg{left:0;mask-image:linear-gradient(to right,black 30%,transparent 100%),linear-gradient(to bottom,transparent 0%,black 15%,black 85%,transparent 100%);-webkit-mask-image:linear-gradient(to right,black 30%,transparent 100%),linear-gradient(to bottom,transparent 0%,black 15%,black 85%,transparent 100%);mask-composite:intersect;-webkit-mask-composite:source-in}.monster-bg{right:0;mask-image:linear-gradient(to left,black 30%,transparent 100%),linear-gradient(to bottom,transparent 0%,black 15%,black 85%,transparent 100%);-webkit-mask-image:linear-gradient(to left,black 30%,transparent 100%),linear-gradient(to bottom,transparent 0%,black 15%,black 85%,transparent 100%);mask-composite:intersect;-webkit-mask-composite:source-in}
